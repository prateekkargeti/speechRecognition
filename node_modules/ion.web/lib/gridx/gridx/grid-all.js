//>>built
require({cache:{"gridx/Grid":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/sniff dojo/on dojo/i18n dojo/dom-class dojo/dom-geometry dojo/query dojo/store/Memory dojox/html/metrics dijit/_WidgetBase dijit/_FocusMixin dijit/_TemplatedMixin dojo/text!./templates/Grid.html ./core/Core ./core/model/extensions/Query ./core/_Module ./modules/Header ./modules/View ./modules/Body ./modules/VLayout ./modules/HLayout ./modules/VScroller ./modules/HScroller ./modules/ColumnWidth ./modules/Focus dijit/_BidiSupport dojo/i18n!./nls/gridx dojo/uacss dijit/hccss dojo/NodeList-dom dojo/NodeList-traverse".split(" "),
function(n,q,r,m,l,f,k,g,h,d,c,a,b,e,p,s,t,x,B,v,y,A,u,w,z,D,G,H){var F=function(){};return n("gridx.Grid",[c,b,a,p],{templateString:e,version:{major:1,minor:3,patch:3,flag:"",toString:function(){return this.major+"."+this.minor+"."+this.patch+this.flag}},_isLoaded:!1,_setTextDirAttr:function(a){this.textDir!=a&&(this.textDir=a,this.header.refresh(),this.edit&&this.edit._initAlwaysEdit(),this.body.refresh())},getTextDir:function(a,b){var e=this._columnsById[a],e=e&&e.textDir||this.textDir;return"auto"===
e?G.prototype._checkContextual(b):e},getTextDirStyle:function(a,b){var e=this.getTextDir(a,b);return e?" direction:"+e+";":""},enforceTextDirWithUcc:function(a,b){var e=this.getTextDir(a,b);return e?("rtl"===e?"\u202b":"\u202a")+b+"\u202c":b},coreModules:[x,B,v,y,A,u,w,z,D],coreExtensions:[s],postCreate:function(){var a=this;a.inherited(arguments);void 0===a.touch&&(a.touch=r("ios")||r("android"));a.touch?f.add(a.domNode,"gridxTouch"):f.add(a.domNode,"gridxDesktop");a.isLeftToRight()||f.add(a.domNode,
"gridxRtl");a.summary&&a.domNode.setAttribute("summary",a.summary);a.nls=l.getLocalization("gridx","gridx",a.lang)||H;a._eventFlags={};a.modules=a.coreModules.concat(a.modules||[]);a.modelExtensions=a.coreExtensions.concat(a.modelExtensions||[]);a.lastFocusNode.setAttribute("tabIndex",a.domNode.getAttribute("tabIndex"));a._initEvents(a._compNames,a._eventNames);a._init();a.connect(d,"onFontResize",function(){a.resize()})},startup:function(){this._started||(this.inherited(arguments),this._deferStartup.callback(),
this._isLoaded=!0)},destroy:function(){this._uninit();this.inherited(arguments)},resize:function(a){var b={};a&&(this.autoWidth&&(a.w=void 0),this.autoHeight&&(a.h=void 0),k.setMarginBox(this.domNode,a));this._onResizeBegin(a,b);this._onResizeEnd(a,b)},_onResizeBegin:function(){},_onResizeEnd:function(){},_escapeId:function(a){return String(a).replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},_encodeHTML:function(a){return String(a).replace(/\"/g,"\x26quot;")},_compNames:["Cell","HeaderCell","Row","Header"],
_eventNames:"TouchStart TouchEnd Click DblClick MouseDown MouseUp MouseOver MouseOut MouseMove ContextMenu KeyDown KeyPress KeyUp".split(" "),_initEvents:function(a,b){for(var e=0,c,p,d;p=a[e++];)for(c=0;d=b[c++];)d="on"+p+d,this[d]=this[d]||F},_connectEvents:function(a,b,e){for(var c=this.model,p,d=this._eventNames,s=d.length,t=0;t<s;++t)p=d[t],c._cnnts.push(m(a,p.toLowerCase(),q.hitch(e,b,p)))},_isConnected:function(a){return this[a]!==F},_isCtrlKey:function(a){return r("mac")?a.metaKey:a.ctrlKey}})})},
"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(n,q,r){function m(a,b){throw Error("declare"+(b?" "+b:"")+": "+a);}function l(a,b,e){var p,c,d,s,t,f,h,g=this._inherited=this._inherited||{};"string"==typeof a&&(p=a,a=b,b=e);e=0;s=a.callee;(p=p||s.nom)||m("can't deduce a name to call inherited()",this.declaredClass);t=this.constructor._meta;d=t.bases;h=g.p;if(p!=w){if(g.c!==s&&(h=0,f=d[0],t=f._meta,t.hidden[p]!==s)){(c=t.chains)&&"string"==typeof c[p]&&m("calling chained method with inherited: "+
p,this.declaredClass);do if(t=f._meta,c=f.prototype,t&&(c[p]===s&&c.hasOwnProperty(p)||t.hidden[p]===s))break;while(f=d[++h]);h=f?h:-1}if(f=d[++h])if(c=f.prototype,f._meta&&c.hasOwnProperty(p))e=c[p];else{s=v[p];do if(c=f.prototype,(e=c[p])&&(f._meta?c.hasOwnProperty(p):e!==s))break;while(f=d[++h])}e=f&&e||v[p]}else{if(g.c!==s&&(h=0,(t=d[0]._meta)&&t.ctor!==s)){c=t.chains;for((!c||"manual"!==c.constructor)&&m("calling chained constructor with inherited",this.declaredClass);(f=d[++h])&&!((t=f._meta)&&
t.ctor===s););h=f?h:-1}for(;(f=d[++h])&&!(e=(t=f._meta)?t.ctor:f););e=f&&e}g.c=e;g.p=h;if(e)return!0===b?e:e.apply(this,b||a)}function f(a,b){return"string"==typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function k(a,b,e){var p=this.getInherited(a,b);if(p)return p.apply(this,e||b||a)}function g(a){for(var b=this.constructor._meta.bases,e=0,p=b.length;e<p;++e)if(b[e]===a)return!0;return this instanceof a}function h(a,b){for(var e in b)e!=w&&b.hasOwnProperty(e)&&(a[e]=b[e]);if(q("bug-for-in-skips-shadowed"))for(var p=
r._extraNames,c=p.length;c;)e=p[--c],e!=w&&b.hasOwnProperty(e)&&(a[e]=b[e])}function d(a){x.safeMixin(this.prototype,a);return this}function c(a,b){a instanceof Array||"function"==typeof a||(b=a,a=void 0);b=b||{};a=a||[];return x([this].concat(a),b)}function a(a,b){return function(){var e=arguments,p=e,c=e[0],d,s;s=a.length;var f;if(!(this instanceof e.callee))return t(e);if(b&&(c&&c.preamble||this.preamble)){f=Array(a.length);f[0]=e;for(d=0;;){if(c=e[0])(c=c.preamble)&&(e=c.apply(this,e)||e);c=a[d].prototype;
(c=c.hasOwnProperty("preamble")&&c.preamble)&&(e=c.apply(this,e)||e);if(++d==s)break;f[d]=e}}for(d=s-1;0<=d;--d)c=a[d],(c=(s=c._meta)?s.ctor:c)&&c.apply(this,f?f[d]:e);(c=this.postscript)&&c.apply(this,p)}}function b(a,b){return function(){var e=arguments,c=e,p=e[0];if(!(this instanceof e.callee))return t(e);b&&(p&&(p=p.preamble)&&(c=p.apply(this,c)||c),(p=this.preamble)&&p.apply(this,c));a&&a.apply(this,e);(p=this.postscript)&&p.apply(this,e)}}function e(a){return function(){var b=arguments,e=0,
c,p;if(!(this instanceof b.callee))return t(b);for(;c=a[e];++e)if(c=(p=c._meta)?p.ctor:c){c.apply(this,b);break}(c=this.postscript)&&c.apply(this,b)}}function p(a,b,e){return function(){var c,p,d=0,s=1;e&&(d=b.length-1,s=-1);for(;c=b[d];d+=s)p=c._meta,(c=(p?p.hidden:c.prototype)[a])&&c.apply(this,arguments)}}function s(a){A.prototype=a.prototype;a=new A;A.prototype=null;return a}function t(a){var b=a.callee,e=s(b);b.apply(e,a);return e}function x(t,k,n){"string"!=typeof t&&(n=k,k=t,t="");n=n||{};
var q,A,C,J,K,E,M,P=1,V=k;if("[object Array]"==y.call(k)){P=t;C=[];J=[{cls:0,refs:[]}];E={};for(var R=1,U=k.length,Q=0,O,S,L,N;Q<U;++Q){(O=k[Q])?"[object Function]"!=y.call(O)&&m("mixin #"+Q+" is not a callable constructor.",P):m("mixin #"+Q+" is unknown. Did you use dojo.require to pull it in?",P);S=O._meta?O._meta.bases:[O];L=0;for(O=S.length-1;0<=O;--O)N=S[O].prototype,N.hasOwnProperty("declaredClass")||(N.declaredClass="uniqName_"+u++),N=N.declaredClass,E.hasOwnProperty(N)||(E[N]={count:0,refs:[],
cls:S[O]},++R),N=E[N],L&&L!==N&&(N.refs.push(L),++L.count),L=N;++L.count;J[0].refs.push(L)}for(;J.length;){L=J.pop();C.push(L.cls);for(--R;A=L.refs,1==A.length;){L=A[0];if(!L||--L.count){L=0;break}C.push(L.cls);--R}if(L){Q=0;for(U=A.length;Q<U;++Q)L=A[Q],--L.count||J.push(L)}}R&&m("can't build consistent linearization",P);O=k[0];C[0]=O?O._meta&&O===C[C.length-O._meta.bases.length]?O._meta.bases.length:1:0;E=C;C=E[0];P=E.length-C;k=E[P]}else E=[0],k?"[object Function]"==y.call(k)?(C=k._meta,E=E.concat(C?
C.bases:k)):m("base class is not a callable constructor.",t):null!==k&&m("unknown base class. Did you use dojo.require to pull it in?",t);if(k)for(A=P-1;;--A){q=s(k);if(!A)break;C=E[A];(C._meta?h:B)(q,C.prototype);J=new Function;J.superclass=k;J.prototype=q;k=q.constructor=J}else q={};x.safeMixin(q,n);C=n.constructor;C!==v.constructor&&(C.nom=w,q.constructor=C);for(A=P-1;A;--A)(C=E[A]._meta)&&C.chains&&(M=B(M||{},C.chains));q["-chains-"]&&(M=B(M||{},q["-chains-"]));C=!M||!M.hasOwnProperty(w);E[0]=
J=M&&"manual"===M.constructor?e(E):1==E.length?b(n.constructor,C):a(E,C);J._meta={bases:E,hidden:n,chains:M,parents:V,ctor:n.constructor};J.superclass=k&&k.prototype;J.extend=d;J.createSubclass=c;J.prototype=q;q.constructor=J;q.getInherited=f;q.isInstanceOf=g;q.inherited=z;q.__inherited=l;t&&(q.declaredClass=t,r.setObject(t,J));if(M)for(K in M)q[K]&&("string"==typeof M[K]&&K!=w)&&(C=q[K]=p(K,E,"after"===M[K]),C.nom=K);return J}var B=r.mixin,v=Object.prototype,y=v.toString,A=new Function,u=0,w="constructor",
z=n.config.isDebug?k:l;n.safeMixin=x.safeMixin=function(a,b){var e,c;for(e in b)if(c=b[e],(c!==v[e]||!(e in v))&&e!=w)"[object Function]"==y.call(c)&&(c.nom=e),a[e]=c;if(q("bug-for-in-skips-shadowed"))for(var p=r._extraNames,d=p.length;d;)if(e=p[--d],c=b[e],(c!==v[e]||!(e in v))&&e!=w)"[object Function]"==y.call(c)&&(c.nom=e),a[e]=c;return a};return n.declare=x})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(n,q,r,m){var l,f;l=function(){return this}();var k=
{},g={},h={config:q,global:l,dijit:k,dojox:g},k={dojo:["dojo",h],dijit:["dijit",k],dojox:["dojox",g]};m=r.map&&r.map[m.id.match(/[^\/]+/)[0]];for(f in m)k[f]?k[f][0]=m[f]:k[f]=[m[f],{}];for(f in k)m=k[f],m[1]._scopeName=m[0],q.noGlobals||(l[m[0]]=m[1]);h.scopeMap=k;h.baseUrl=h.config.baseUrl=r.baseUrl;h.isAsync=r.async;h.locale=q.locale;l="$Rev: 2bde291 $".match(/[0-9a-f]{7,}/);h.version={major:1,minor:10,patch:1,flag:"",revision:l?l[0]:NaN,toString:function(){var c=h.version;return c.major+"."+c.minor+
"."+c.patch+c.flag+" ("+c.revision+")"}};Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(h);h.exit=function(){};"undefined"!=typeof console||(console={});m="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" ");var d;for(l=0;d=m[l++];)console[d]||function(){var c=d+"";console[c]="log"in console?function(){var a=Array.prototype.slice.call(arguments);a.unshift(c+":");console.log(a.join(" "))}:
function(){};console[c]._fake=!0}();n.add("dojo-debug-messages",!!q.isDebug);h.deprecated=h.experimental=function(){};n("dojo-debug-messages")&&(h.deprecated=function(c,a,b){c="DEPRECATED: "+c;a&&(c+=" "+a);b&&(c+=" -- will be removed in version: "+b);console.warn(c)},h.experimental=function(c,a){var b="EXPERIMENTAL: "+c+" -- APIs subject to change without notice.";a&&(b+=" "+a);console.warn(b)});if(q.modulePaths){h.deprecated("dojo.modulePaths","use paths configuration");n={};for(f in q.modulePaths)n[f.replace(/\./g,
"/")]=q.modulePaths[f];r({paths:n})}h.moduleUrl=function(c,a){h.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var b=null;c&&(b=r.toUrl(c.replace(/\./g,"/")+(a?"/"+a:"")+"/*.*").replace(/\/\*\.\*/,"")+(a?"":"/"));return b};h._hasResource={};return h})},"dojo/_base/config":function(){define(["../has","require"],function(n,q){var r={},m=q.rawConfig,l;for(l in m)r[l]=m[l];if(!r.locale&&"undefined"!=typeof navigator&&(m=navigator.language||navigator.userLanguage))r.locale=m.toLowerCase();return r})},
"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(n,q){q.add("bug-for-in-skips-shadowed",function(){for(var d in{toString:1})return 0;return 1});var r=q("bug-for-in-skips-shadowed")?"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "):[],m=r.length,l=function(d,c,a){a||(a=d[0]&&n.scopeMap[d[0]]?n.scopeMap[d.shift()][1]:n.global);try{for(var b=0;b<d.length;b++){var e=d[b];if(!(e in a))if(c)a[e]={};else return;a=a[e]}return a}catch(p){}},
f=Object.prototype.toString,k=function(d,c,a){return(a||[]).concat(Array.prototype.slice.call(d,c||0))},g=/\{([^\}]+)\}/g,h={_extraNames:r,_mixin:function(d,c,a){var b,e,p,s={};for(b in c)if(e=c[b],!(b in d)||d[b]!==e&&(!(b in s)||s[b]!==e))d[b]=a?a(e):e;if(q("bug-for-in-skips-shadowed")&&c)for(p=0;p<m;++p)if(b=r[p],e=c[b],!(b in d)||d[b]!==e&&(!(b in s)||s[b]!==e))d[b]=a?a(e):e;return d},mixin:function(d,c){d||(d={});for(var a=1,b=arguments.length;a<b;a++)h._mixin(d,arguments[a]);return d},setObject:function(d,
c,a){var b=d.split(".");d=b.pop();return(a=l(b,!0,a))&&d?a[d]=c:void 0},getObject:function(d,c,a){return l(d?d.split("."):[],c,a)},exists:function(d,c){return void 0!==h.getObject(d,!1,c)},isString:function(d){return"string"==typeof d||d instanceof String},isArray:function(d){return d&&(d instanceof Array||"array"==typeof d)},isFunction:function(d){return"[object Function]"===f.call(d)},isObject:function(d){return void 0!==d&&(null===d||"object"==typeof d||h.isArray(d)||h.isFunction(d))},isArrayLike:function(d){return d&&
void 0!==d&&!h.isString(d)&&!h.isFunction(d)&&!(d.tagName&&"form"==d.tagName.toLowerCase())&&(h.isArray(d)||isFinite(d.length))},isAlien:function(d){return d&&!h.isFunction(d)&&/\{\s*\[native code\]\s*\}/.test(String(d))},extend:function(d,c){for(var a=1,b=arguments.length;a<b;a++)h._mixin(d.prototype,arguments[a]);return d},_hitchArgs:function(d,c){var a=h._toArray(arguments,2),b=h.isString(c);return function(){var e=h._toArray(arguments),p=b?(d||n.global)[c]:c;return p&&p.apply(d||this,a.concat(e))}},
hitch:function(d,c){if(2<arguments.length)return h._hitchArgs.apply(n,arguments);c||(c=d,d=null);if(h.isString(c)){d=d||n.global;if(!d[c])throw['lang.hitch: scope["',c,'"] is null (scope\x3d"',d,'")'].join("");return function(){return d[c].apply(d,arguments||[])}}return!d?c:function(){return c.apply(d,arguments||[])}},delegate:function(){function d(){}return function(c,a){d.prototype=c;var b=new d;d.prototype=null;a&&h._mixin(b,a);return b}}(),_toArray:q("ie")?function(){function d(c,a,b){b=b||[];
for(a=a||0;a<c.length;a++)b.push(c[a]);return b}return function(c){return(c.item?d:k).apply(this,arguments)}}():k,partial:function(d){return h.hitch.apply(n,[null].concat(h._toArray(arguments)))},clone:function(d){if(!d||"object"!=typeof d||h.isFunction(d))return d;if(d.nodeType&&"cloneNode"in d)return d.cloneNode(!0);if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp)return RegExp(d);var c,a,b;if(h.isArray(d)){c=[];a=0;for(b=d.length;a<b;++a)a in d&&c.push(h.clone(d[a]))}else c=
d.constructor?new d.constructor:{};return h._mixin(c,d,h.clone)},trim:String.prototype.trim?function(d){return d.trim()}:function(d){return d.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(d,c,a){return d.replace(a||g,h.isFunction(c)?c:function(a,e){return h.getObject(e,!1,c)})}};h.mixin(n,h);return h})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(n,q,r){n._name="browser";q.mixin(n,{isBrowser:!0,isFF:r("ff"),isIE:r("ie"),isKhtml:r("khtml"),isWebKit:r("webkit"),
isMozilla:r("mozilla"),isMoz:r("mozilla"),isOpera:r("opera"),isSafari:r("safari"),isChrome:r("chrome"),isMac:r("mac"),isIos:r("ios"),isAndroid:r("android"),isWii:r("wii"),isQuirks:r("quirks"),isAir:r("air")});return r})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(n,q,r){function m(b,c,p,d,s){if(d=c.match(/(.*):(.*)/))return c=d[2],d=d[1],g.selector(d,c).call(s,b,p);r("touch")&&(h.test(c)&&(p=u(p)),!r("event-orientationchange")&&"orientationchange"==
c&&(c="resize",b=window,p=u(p)));e&&(p=e(p));if(b.addEventListener){var t=c in a,f=t?a[c]:c;b.addEventListener(f,p,t);return{remove:function(){b.removeEventListener(f,p,t)}}}if(x&&b.attachEvent)return x(b,"on"+c,p);throw Error("Target must be an event emitter");}function l(){this.cancelable=!1;this.defaultPrevented=!0}function f(){this.bubbles=!1}var k=window.ScriptEngineMajorVersion;r.add("jscript",k&&k()+ScriptEngineMinorVersion()/10);r.add("event-orientationchange",r("touch")&&!r("android"));r.add("event-stopimmediatepropagation",
window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);r.add("event-focusin",function(a,b,e){return"onfocusin"in e});r("touch")&&r.add("touch-can-modify-event-delegate",function(){var a=function(){};a.prototype=document.createEvent("MouseEvents");try{var b=new a;b.target=null;return null===b.target}catch(e){return!1}});var g=function(a,b,e,c){return"function"==typeof a.on&&"function"!=typeof b&&!a.nodeType?a.on(b,e):g.parse(a,b,e,m,c,this)};g.pausable=function(a,
b,e,c){var p;a=g(a,b,function(){if(!p)return e.apply(this,arguments)},c);a.pause=function(){p=!0};a.resume=function(){p=!1};return a};g.once=function(a,b,e,c){var p=g(a,b,function(){p.remove();return e.apply(this,arguments)});return p};g.parse=function(a,b,e,c,p,d){if(b.call)return b.call(d,a,e);if(b instanceof Array)s=b;else if(-1<b.indexOf(","))var s=b.split(/\s*,\s*/);if(s){var t=[];b=0;for(var f;f=s[b++];)t.push(g.parse(a,f,e,c,p,d));t.remove=function(){for(var a=0;a<t.length;a++)t[a].remove()};
return t}return c(a,b,e,p,d)};var h=/^touch/;g.matches=function(a,b,e,c,p){p=p&&p.matches?p:q.query;c=!1!==c;1!=a.nodeType&&(a=a.parentNode);for(;!p.matches(a,b,e);)if(a==e||!1===c||!(a=a.parentNode)||1!=a.nodeType)return!1;return a};g.selector=function(a,b,e){return function(c,p){function d(b){return g.matches(b,a,c,e,s)}var s="function"==typeof a?{matches:a}:this,t=b.bubble;return t?g(c,t(d),p):g(c,b,function(a){var b=d(a.target);if(b)return p.call(b,a)})}};var d=[].slice,c=g.emit=function(a,b,
e){var c=d.call(arguments,2),p="on"+b;if("parentNode"in a){var s=c[0]={},t;for(t in e)s[t]=e[t];s.preventDefault=l;s.stopPropagation=f;s.target=a;s.type=b;e=s}do a[p]&&a[p].apply(a,c);while(e&&e.bubbles&&(a=a.parentNode));return e&&e.cancelable&&e},a=r("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!r("event-stopimmediatepropagation"))var b=function(){this.modified=this.immediatelyStopped=!0},e=function(a){return function(e){if(!e.immediatelyStopped)return e.stopImmediatePropagation=b,a.apply(this,
arguments)}};if(r("dom-addeventlistener"))g.emit=function(a,b,e){if(a.dispatchEvent&&document.createEvent){var p=(a.ownerDocument||document).createEvent("HTMLEvents");p.initEvent(b,!!e.bubbles,!!e.cancelable);for(var d in e)d in p||(p[d]=e[d]);return a.dispatchEvent(p)&&p}return c.apply(g,arguments)};else{g._fixEvent=function(a,b){a||(a=(b&&(b.ownerDocument||b.document||b).parentWindow||window).event);if(!a)return a;try{p&&(a.type==p.type&&a.srcElement==p.target)&&(a=p)}catch(e){}if(!a.target)switch(a.target=
a.srcElement,a.currentTarget=b||a.srcElement,"mouseover"==a.type&&(a.relatedTarget=a.fromElement),"mouseout"==a.type&&(a.relatedTarget=a.toElement),a.stopPropagation||(a.stopPropagation=B,a.preventDefault=v),a.type){case "keypress":var c="charCode"in a?a.charCode:a.keyCode;10==c?(c=0,a.keyCode=13):13==c||27==c?c=0:3==c&&(c=99);a.charCode=c;c=a;c.keyChar=c.charCode?String.fromCharCode(c.charCode):"";c.charOrCode=c.keyChar||c.keyCode}return a};var p,s=function(a){this.handle=a};s.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};
var t=function(a){return function(b){b=g._fixEvent(b,this);var e=a.call(this,b);b.modified&&(p||setTimeout(function(){p=null}),p=b);return e}},x=function(a,b,e){e=t(e);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||5.8>r("jscript"))&&!r("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var c=a[b];if(!c||!c.listeners){var p=c,c=Function("event","var callee \x3d arguments.callee; for(var i \x3d 0; i\x3ccallee.listeners.length; i++){var listener \x3d _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");
c.listeners=[];a[b]=c;c.global=this;p&&c.listeners.push(_dojoIEListeners_.push(p)-1)}c.listeners.push(a=c.global._dojoIEListeners_.push(e)-1);return new s(a)}return n.after(a,b,e,!0)},B=function(){this.cancelBubble=!0},v=g._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(r("touch"))var y=function(){},A=window.orientation,u=function(a){return function(b){var e=b.corrected;if(!e){var c=
b.type;try{delete b.type}catch(p){}if(b.type){if(r("touch-can-modify-event-delegate"))y.prototype=b,e=new y;else{var e={},d;for(d in b)e[d]=b[d]}e.preventDefault=function(){b.preventDefault()};e.stopPropagation=function(){b.stopPropagation()}}else e=b,e.type=c;b.corrected=e;if("resize"==c){if(A==window.orientation)return null;A=window.orientation;e.type="orientationchange";return a.call(this,e)}"rotation"in e||(e.rotation=0,e.scale=1);var c=e.changedTouches[0],s;for(s in c)delete e[s],e[s]=c[s]}return a.call(this,
e)}};return g})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),function(n,q,r,m,l,f,k,g,h){r.add("dojo-preload-i18n-Api",1);var d=n.i18n={},c=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,a=function(a,b,e,c){var p=[e+c];b=b.split("-");for(var d="",s=0;s<b.length;s++)if(d+=(d?"-":"")+b[s],!a||a[d])p.push(e+d+"/"+c),p.specificity=d;return p},b={},e=function(a,b,e){e=e?e.toLowerCase():n.locale;a=a.replace(/\./g,
"/");b=b.replace(/\./g,"/");return/root/i.test(e)?a+"/nls/"+b:a+"/nls/"+e+"/"+b},p=n.getL10nName=function(a,b,c){return h.id+"!"+e(a,b,c)},s=function(e,c,p,d,s,t){e([c],function(h){var k=f.clone(h.root||h.ROOT),g=a(!h._v1x&&h,s,p,d);e(g,function(){for(var a=1;a<g.length;a++)k=f.mixin(f.clone(k),arguments[a]);b[c+"/"+s]=k;k.$locale=g.specificity;t()})})},t=function(a){var b=l.extraLocale||[],b=f.isArray(b)?b:[b];b.push(a);return b},x=function(a,e,p){if(r("dojo-preload-i18n-Api")){var d=a.split("*"),
h="preload"==d[1];h&&(b[a]||(b[a]=1,u(d[2],g.parse(d[3]),1,e)),p(1));if(!(d=h))y&&A.push([a,e,p]),d=y;if(d)return}a=c.exec(a);var k=a[1]+"/",x=a[5]||a[4],l=k+x,d=(a=a[5]&&a[4])||n.locale||"",B=l+"/"+d;a=a?[d]:t(d);var q=a.length,v=function(){--q||p(f.delegate(b[B]))};m.forEach(a,function(a){var c=l+"/"+a;r("dojo-preload-i18n-Api")&&w(c);b[c]?v():s(e,l,k,x,a,v)})};if(r("dojo-unit-tests"))var B=d.unitTests=[];r("dojo-preload-i18n-Api");var v=d.normalizeLocale=function(a){a=a?a.toLowerCase():n.locale;
return"root"==a?"ROOT":a},y=0,A=[],u=d._preloadLocalizations=function(a,e,c,p){function d(a,b){p.isXdUrl(q.toUrl(a+".js"))||c?p([a],b):G([a],b,p)}function s(a,b){for(var e=a.split("-");e.length;){if(b(e.join("-")))return;e.pop()}b("ROOT")}function t(){for(--y;!y&&A.length;)x.apply(null,A.shift())}function h(c){c=v(c);s(c,function(h){if(0<=m.indexOf(e,h)){var k=a.replace(/\./g,"/")+"_"+h;y++;d(k,function(a){for(var e in a){var d=a[e],k=e.match(/(.+)\/([^\/]+)$/),g;if(k){g=k[2];k=k[1]+"/";d._localized=
d._localized||{};var x;if("ROOT"===h){var l=x=d._localized;delete d._localized;l.root=d;b[q.toAbsMid(e)]=l}else x=d._localized,b[q.toAbsMid(k+g+"/"+h)]=d;h!==c&&function(a,e,d,h){var k=[],g=[];s(c,function(b){h[b]&&(k.push(q.toAbsMid(a+b+"/"+e)),g.push(q.toAbsMid(a+e+"/"+b)))});k.length?(y++,p(k,function(){for(var p=0;p<k.length;p++)d=f.mixin(f.clone(d),arguments[p]),b[g[p]]=d;b[q.toAbsMid(a+e+"/"+c)]=f.clone(d);t()})):b[q.toAbsMid(a+e+"/"+c)]=d}(k,g,d,x)}}t()});return!0}return!1})}p=p||q;h();m.forEach(n.config.extraLocale,
h)},w=function(){},z={},D=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define \x3d function(mid, factory){define.called \x3d 1; __amdValue.result \x3d factory || mid;},\t   require \x3d function(){define.called \x3d 1;};try{define.called \x3d 0;eval(__bundle);if(define.called\x3d\x3d1)return __amdValue;if((__checkForLegacyModules \x3d __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),G=
function(a,e,c){var p=[];m.forEach(a,function(a){function e(c){c=D(c,w,a,z);c===z?p.push(b[d]=z.result):(c instanceof Error&&(console.error("failed to evaluate i18n bundle; url\x3d"+d,c),c={}),p.push(b[d]=/nls\/[^\/]+\/[^\/]+$/.test(d)?c:{root:c,_v1x:1}))}var d=c.toUrl(a+".js");if(b[d])p.push(b[d]);else{var s=c.syncLoadNls(a);if(s)p.push(s);else if(k)k.get({url:d,sync:!0,load:e,error:function(){p.push(b[d]={})}});else try{c.getText(d,!0,e)}catch(t){p.push(b[d]={})}}});e&&e.apply(null,p)},w=function(a){for(var e,
c=a.split("/"),p=n.global[c[0]],d=1;p&&d<c.length-1;p=p[c[d++]]);p&&((e=p[c[d]])||(e=p[c[d].replace(/-/g,"_")]),e&&(b[a]=e));return e};d.getLocalization=function(a,b,c){var p;a=e(a,b,c);x(a,!q.isXdUrl(q.toUrl(a+".js"))?function(a,b){G(a,b,q)}:q,function(a){p=a});return p};r("dojo-unit-tests")&&B.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=D("{prop:1}",w,"nonsense",z);a.is({prop:1},b);a.is(void 0,b[1]);b=D("({prop:1})",w,"nonsense",z);a.is({prop:1},b);a.is(void 0,b[1]);b=D("{'prop-x':1}",
w,"nonsense",z);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=D("({'prop-x':1})",w,"nonsense",z);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=D("define({'prop-x':1})",w,"nonsense",z);a.is(z,b);a.is({"prop-x":1},z.result);b=D("define('some/module', {'prop-x':1})",w,"nonsense",z);a.is(z,b);a.is({"prop-x":1},z.result);b=D("this is total nonsense and should throw an error",w,"nonsense",z);a.is(b instanceof Error,!0)})});return f.mixin(d,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:x,cache:b,
getL10nName:p})})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(n,q,r){function m(d){return k[d]=new Function("item","index","array",d)}function l(d){var c=!d;return function(a,b,e){var p=0,s=a&&a.length||0,t;s&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=k[b]||m(b));if(e)for(;p<s;++p){if(t=!b.call(e,a[p],p,a),d^t)return!t}else for(;p<s;++p)if(t=!b(a[p],p,a),d^t)return!t;return c}}function f(d){var c=1,a=0,b=0;d||(c=a=b=-1);return function(e,p,s,t){if(t&&
0<c)return h.lastIndexOf(e,p,s);t=e&&e.length||0;var f=d?t+b:a;s===g?s=d?a:t+b:0>s?(s=t+s,0>s&&(s=a)):s=s>=t?t+b:s;for(t&&"string"==typeof e&&(e=e.split(""));s!=f;s+=c)if(e[s]==p)return s;return-1}}var k={},g,h={every:l(!1),some:l(!0),indexOf:f(!0),lastIndexOf:f(!1),forEach:function(d,c,a){var b=0,e=d&&d.length||0;e&&"string"==typeof d&&(d=d.split(""));"string"==typeof c&&(c=k[c]||m(c));if(a)for(;b<e;++b)c.call(a,d[b],b,d);else for(;b<e;++b)c(d[b],b,d)},map:function(d,c,a,b){var e=0,p=d&&d.length||
0;b=new (b||Array)(p);p&&"string"==typeof d&&(d=d.split(""));"string"==typeof c&&(c=k[c]||m(c));if(a)for(;e<p;++e)b[e]=c.call(a,d[e],e,d);else for(;e<p;++e)b[e]=c(d[e],e,d);return b},filter:function(d,c,a){var b=0,e=d&&d.length||0,p=[],s;e&&"string"==typeof d&&(d=d.split(""));"string"==typeof c&&(c=k[c]||m(c));if(a)for(;b<e;++b)s=d[b],c.call(a,s,b,d)&&p.push(s);else for(;b<e;++b)s=d[b],c(s,b,d)&&p.push(s);return p},clearCache:function(){k={}}};r.mixin(n,h);return h})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),
function(n,q,r,m,l,f,k,g,h,d,c,a,b,e,p,s){n._xhrObj=p._create;var t=n.config;n.objectToQuery=m.objectToQuery;n.queryToObject=m.queryToObject;n.fieldToObject=f.fieldToObject;n.formToObject=f.toObject;n.formToQuery=f.toQuery;n.formToJson=f.toJson;n._blockAsync=!1;var x=n._contentHandlers=n.contentHandlers={text:function(a){return a.responseText},json:function(a){return h.fromJson(a.responseText||null)},"json-comment-filtered":function(a){g.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}\x26\x26\nUse djConfig.useCommentedJson\x3dtrue to turn off this message.");
a=a.responseText;var b=a.indexOf("/*"),e=a.lastIndexOf("*/");if(-1==b||-1==e)throw Error("JSON was not comment filtered");return h.fromJson(a.substring(b+2,e))},javascript:function(a){return n.eval(a.responseText)},xml:function(a){var b=a.responseXML;b&&(q("dom-qsa2.1")&&!b.querySelectorAll&&q("dom-parser"))&&(b=(new DOMParser).parseFromString(a.responseText,"application/xml"));if(q("ie")&&(!b||!b.documentElement)){var e=function(a){return"MSXML"+a+".DOMDocument"},e=["Microsoft.XMLDOM",e(6),e(4),
e(3),e(2)];c.some(e,function(e){try{var c=new ActiveXObject(e);c.async=!1;c.loadXML(a.responseText);b=c}catch(p){return!1}return!0})}return b},"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?x["json-comment-filtered"](a):x.json(a)}};n._ioSetArgs=function(a,b,e,c){var p={args:a,url:a.url},s=null;if(a.form){var s=l.byId(a.form),h=s.getAttributeNode("action");p.url=p.url||(h?h.value:null);s=f.toObject(s)}h=[{}];s&&h.push(s);a.content&&h.push(a.content);
a.preventCache&&h.push({"dojo.preventCache":(new Date).valueOf()});p.query=m.objectToQuery(d.mixin.apply(null,h));p.handleAs=a.handleAs||"text";var g=new k(function(a){a.canceled=!0;b&&b(a);var e=a.ioArgs.error;e||(e=Error("request cancelled"),e.dojoType="cancel",a.ioArgs.error=e);return e});g.addCallback(e);var x=a.load;x&&d.isFunction(x)&&g.addCallback(function(b){return x.call(a,b,p)});var B=a.error;B&&d.isFunction(B)&&g.addErrback(function(b){return B.call(a,b,p)});var q=a.handle;q&&d.isFunction(q)&&
g.addBoth(function(b){return q.call(a,b,p)});g.addErrback(function(a){return c(a,g)});t.ioPublish&&(n.publish&&!1!==p.args.ioPublish)&&(g.addCallbacks(function(a){n.publish("/dojo/io/load",[g,a]);return a},function(a){n.publish("/dojo/io/error",[g,a]);return a}),g.addBoth(function(a){n.publish("/dojo/io/done",[g,a]);return a}));g.ioArgs=p;return g};var B=function(a){a=x[a.ioArgs.handleAs](a.ioArgs.xhr);return void 0===a?null:a},v=function(a,b){b.ioArgs.args.failOk||console.error(a);return a},y=function(a){0>=
A&&(A=0,t.ioPublish&&(n.publish&&(!a||a&&!1!==a.ioArgs.args.ioPublish))&&n.publish("/dojo/io/stop"))},A=0;b.after(e,"_onAction",function(){A-=1});b.after(e,"_onInFlight",y);n._ioCancelAll=e.cancelAll;n._ioNotifyStart=function(a){t.ioPublish&&(n.publish&&!1!==a.ioArgs.args.ioPublish)&&(A||n.publish("/dojo/io/start"),A+=1,n.publish("/dojo/io/send",[a]))};n._ioWatch=function(a,b,c,p){a.ioArgs.options=a.ioArgs.args;d.mixin(a,{response:a.ioArgs,isValid:function(e){return b(a)},isReady:function(b){return c(a)},
handleResponse:function(b){return p(a)}});e(a);y(a)};n._ioAddQueryToUrl=function(a){a.query.length&&(a.url+=(-1==a.url.indexOf("?")?"?":"\x26")+a.query,a.query=null)};n.xhr=function(a,b,e){var c,d=n._ioSetArgs(b,function(a){c&&c.cancel()},B,v),s=d.ioArgs;"postData"in b?s.query=b.postData:"putData"in b?s.query=b.putData:"rawBody"in b?s.query=b.rawBody:(2<arguments.length&&!e||-1==="POST|PUT".indexOf(a.toUpperCase()))&&n._ioAddQueryToUrl(s);var t={method:a,handleAs:"text",timeout:b.timeout,withCredentials:b.withCredentials,
ioArgs:s};"undefined"!==typeof b.headers&&(t.headers=b.headers);"undefined"!==typeof b.contentType&&(t.headers||(t.headers={}),t.headers["Content-Type"]=b.contentType);"undefined"!==typeof s.query&&(t.data=s.query);"undefined"!==typeof b.sync&&(t.sync=b.sync);n._ioNotifyStart(d);try{c=p(s.url,t,!0)}catch(f){return d.cancel(),d}d.ioArgs.xhr=c.response.xhr;c.then(function(){d.resolve(d)}).otherwise(function(a){s.error=a;a.response&&(a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr);
d.reject(a)});return d};n.xhrGet=function(a){return n.xhr("GET",a)};n.rawXhrPost=n.xhrPost=function(a){return n.xhr("POST",a,!0)};n.rawXhrPut=n.xhrPut=function(a){return n.xhr("PUT",a,!0)};n.xhrDelete=function(a){return n.xhr("DELETE",a)};n._isDocumentOk=function(a){return s.checkStatus(a.status)};n._getText=function(a){var b;n.xhrGet({url:a,sync:!0,load:function(a){b=a}});return b};d.mixin(n.xhr,{_xhrObj:n._xhrObj,fieldToObject:f.fieldToObject,formToObject:f.toObject,objectToQuery:m.objectToQuery,
formToQuery:f.toQuery,formToJson:f.toJson,queryToObject:m.queryToObject,contentHandlers:x,_ioSetArgs:n._ioSetArgs,_ioCancelAll:n._ioCancelAll,_ioNotifyStart:n._ioNotifyStart,_ioWatch:n._ioWatch,_ioAddQueryToUrl:n._ioAddQueryToUrl,_isDocumentOk:n._isDocumentOk,_getText:n._getText,get:n.xhrGet,post:n.xhrPost,put:n.xhrPut,del:n.xhrDelete});return n.xhr})},"dojo/io-query":function(){define(["./_base/lang"],function(n){var q={};return{objectToQuery:function(r){var m=encodeURIComponent,l=[],f;for(f in r){var k=
r[f];if(k!=q[f]){var g=m(f)+"\x3d";if(n.isArray(k))for(var h=0,d=k.length;h<d;++h)l.push(g+m(k[h]));else l.push(g+m(k))}}return l.join("\x26")},queryToObject:function(q){var m=decodeURIComponent;q=q.split("\x26");for(var l={},f,k,g=0,h=q.length;g<h;++g)if(k=q[g],k.length){var d=k.indexOf("\x3d");0>d?(f=m(k),k=""):(f=m(k.slice(0,d)),k=m(k.slice(d+1)));"string"==typeof l[f]&&(l[f]=[l[f]]);n.isArray(l[f])?l[f].push(k):l[f]=k}return l}}})},"dojo/dom":function(){define(["./sniff","./_base/window"],function(n,
q){if(7>=n("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(r){}var m={};n("ie")?m.byId=function(f,k){if("string"!=typeof f)return f;var g=k||q.doc,h=f&&g.getElementById(f);if(h&&(h.attributes.id.value==f||h.id==f))return h;g=g.all[f];if(!g||g.nodeName)g=[g];for(var d=0;h=g[d++];)if(h.attributes&&h.attributes.id&&h.attributes.id.value==f||h.id==f)return h}:m.byId=function(f,k){return("string"==typeof f?(k||q.doc).getElementById(f):f)||null};m.isDescendant=function(f,k){try{f=m.byId(f);
for(k=m.byId(k);f;){if(f==k)return!0;f=f.parentNode}}catch(g){}return!1};n.add("css-user-select",function(f,k,g){if(!g)return!1;f=g.style;k=["Khtml","O","Moz","Webkit"];g=k.length;var h="userSelect";do if("undefined"!==typeof f[h])return h;while(g--&&(h=k[g]+"UserSelect"));return!1});var l=n("css-user-select");m.setSelectable=l?function(f,k){m.byId(f).style[l]=k?"":"none"}:function(f,k){f=m.byId(f);var g=f.getElementsByTagName("*"),h=g.length;if(k)for(f.removeAttribute("unselectable");h--;)g[h].removeAttribute("unselectable");
else for(f.setAttribute("unselectable","on");h--;)g[h].setAttribute("unselectable","on")};return m})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(n,q,r){var m={global:n.global,doc:n.global.document||null,body:function(l){l=l||n.doc;return l.body||l.getElementsByTagName("body")[0]},setContext:function(l,f){n.global=m.global=l;n.doc=m.doc=f},withGlobal:function(l,f,k,g){var h=n.global;try{return n.global=m.global=l,m.withDoc.call(null,l.document,f,k,g)}finally{n.global=
m.global=h}},withDoc:function(l,f,k,g){var h=m.doc,d=r("quirks"),c=r("ie"),a,b,e;try{n.doc=m.doc=l;n.isQuirks=r.add("quirks","BackCompat"==n.doc.compatMode,!0,!0);if(r("ie")&&(e=l.parentWindow)&&e.navigator)a=parseFloat(e.navigator.appVersion.split("MSIE ")[1])||void 0,(b=l.documentMode)&&(5!=b&&Math.floor(a)!=b)&&(a=b),n.isIE=r.add("ie",a,!0,!0);k&&"string"==typeof f&&(f=k[f]);return f.apply(k,g||[])}finally{n.doc=m.doc=h,n.isQuirks=r.add("quirks",d,!0,!0),n.isIE=r.add("ie",c,!0,!0)}}};q.mixin(n,
m);return m})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(n,q,r,m){var l={fieldToObject:function(f){var k=null;if(f=q.byId(f)){var g=f.name,h=(f.type||"").toLowerCase();if(g&&h&&!f.disabled)if("radio"==h||"checkbox"==h)f.checked&&(k=f.value);else if(f.multiple){k=[];for(f=[f.firstChild];f.length;)for(g=f.pop();g;g=g.nextSibling)if(1==g.nodeType&&"option"==g.tagName.toLowerCase())g.selected&&k.push(g.value);else{g.nextSibling&&f.push(g.nextSibling);g.firstChild&&
f.push(g.firstChild);break}}else k=f.value}return k},toObject:function(f){var k={};f=q.byId(f).elements;for(var g=0,h=f.length;g<h;++g){var d=f[g],c=d.name,a=(d.type||"").toLowerCase();if(c&&a&&0>"file|submit|image|reset|button".indexOf(a)&&!d.disabled){var b=k,e=c,d=l.fieldToObject(d);if(null!==d){var p=b[e];"string"==typeof p?b[e]=[p,d]:n.isArray(p)?p.push(d):b[e]=d}"image"==a&&(k[c+".x"]=k[c+".y"]=k[c].x=k[c].y=0)}}return k},toQuery:function(f){return r.objectToQuery(l.toObject(f))},toJson:function(f,
k){return m.stringify(l.toObject(f),null,k?4:0)}};return l})},"dojo/json":function(){define(["./has"],function(n){var q="undefined"!=typeof JSON;n.add("json-parse",q);n.add("json-stringify",q&&'{"a":1}'==JSON.stringify({a:0},function(m,l){return l||1}));if(n("json-stringify"))return JSON;var r=function(m){return('"'+m.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:n("json-parse")?JSON.parse:
function(m,l){if(l&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(m))throw new SyntaxError("Invalid characters in JSON");return eval("("+m+")")},stringify:function(m,l,f){function k(h,d,c){l&&(h=l(c,h));var a;a=typeof h;if("number"==a)return isFinite(h)?h+"":"null";if("boolean"==a)return h+"";if(null===h)return"null";if("string"==typeof h)return r(h);if("function"==a||"undefined"==a)return g;if("function"==typeof h.toJSON)return k(h.toJSON(c),
d,c);if(h instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(a,b,e){a=h["getUTC"+b]()+(e?1:0);return 10>a?"0"+a:a});if(h.valueOf()!==h)return k(h.valueOf(),d,c);var b=f?d+f:"",e=f?" ":"",p=f?"\n":"";if(h instanceof Array){var e=h.length,s=[];for(c=0;c<e;c++)a=k(h[c],b,c),"string"!=typeof a&&(a="null"),s.push(p+b+a);return"["+s.join(",")+p+d+"]"}s=[];for(c in h){var t;if(h.hasOwnProperty(c)){if("number"==typeof c)t='"'+c+'"';else if("string"==
typeof c)t=r(c);else continue;a=k(h[c],b,c);"string"==typeof a&&s.push(p+b+t+":"+e+a)}}return"{"+s.join(",")+p+d+"}"}var g;"string"==typeof l&&(f=l,l=null);return k(m,"","")}}})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),function(n,q,r,m,l,f,k){var g=function(){},h=Object.freeze||function(){},d=n.Deferred=function(c){function a(a){if(p)throw Error("This deferred has already been resolved");e=a;p=!0;b()}
function b(){for(var a;!a&&n;){var b=n;n=n.next;if(a=b.progress==g)p=!1;var c=k?b.error:b.resolved;l("config-useDeferredInstrumentation")&&k&&q.instrumentRejected&&q.instrumentRejected(e,!!c);if(c)try{var d=c(e);d&&"function"===typeof d.then?d.then(f.hitch(b.deferred,"resolve"),f.hitch(b.deferred,"reject"),f.hitch(b.deferred,"progress")):(c=a&&void 0===d,a&&!c&&(k=d instanceof Error),b.deferred[c&&k?"reject":"resolve"](c?e:d))}catch(s){b.deferred.reject(s)}else k?b.deferred.reject(e):b.deferred.resolve(e)}}
var e,p,s,t,k,B,n,y=this.promise=new r;this.isResolved=y.isResolved=function(){return 0==t};this.isRejected=y.isRejected=function(){return 1==t};this.isFulfilled=y.isFulfilled=function(){return 0<=t};this.isCanceled=y.isCanceled=function(){return s};this.resolve=this.callback=function(b){this.fired=t=0;this.results=[b,null];a(b)};this.reject=this.errback=function(b){k=!0;this.fired=t=1;l("config-useDeferredInstrumentation")&&q.instrumentRejected&&q.instrumentRejected(b,!!n);a(b);this.results=[null,
b]};this.progress=function(a){for(var b=n;b;){var e=b.progress;e&&e(a);b=b.next}};this.addCallbacks=function(a,b){this.then(a,b,g);return this};y.then=this.then=function(a,e,c){var s=c==g?this:new d(y.cancel);a={resolved:a,error:e,progress:c,deferred:s};n?B=B.next=a:n=B=a;p&&b();return s.promise};var A=this;y.cancel=this.cancel=function(){if(!p){var a=c&&c(A);p||(a instanceof Error||(a=new m(a)),a.log=!1,A.reject(a))}s=!0};h(y)};f.extend(d,{addCallback:function(c){return this.addCallbacks(f.hitch.apply(n,
arguments))},addErrback:function(c){return this.addCallbacks(null,f.hitch.apply(n,arguments))},addBoth:function(c){var a=f.hitch.apply(n,arguments);return this.addCallbacks(a,a)},fired:-1});d.when=n.when=k;return d})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(n,q,r,m,l){var f=Object.freeze||function(){},k=function(a,b,e,p,d){2===b&&(c.instrumentRejected&&0===a.length)&&c.instrumentRejected(e,!1,p,d);for(d=
0;d<a.length;d++)g(a[d],b,e,p)},g=function(a,b,e,p){var s=a[b],t=a.deferred;if(s)try{var f=s(e);if(0===b)"undefined"!==typeof f&&d(t,b,f);else{if(f&&"function"===typeof f.then){a.cancel=f.cancel;f.then(h(t,1),h(t,2),h(t,0));return}d(t,1,f)}}catch(k){d(t,2,k)}else d(t,b,e);2===b&&c.instrumentRejected&&c.instrumentRejected(e,!!s,p,t.promise)},h=function(a,b){return function(e){d(a,b,e)}},d=function(a,b,e){if(!a.isCanceled())switch(b){case 0:a.progress(e);break;case 1:a.resolve(e);break;case 2:a.reject(e)}},
c=function(a){var b=this.promise=new m,e=this,p,d,t,h=!1,l=[];Error.captureStackTrace&&(Error.captureStackTrace(e,c),Error.captureStackTrace(b,c));this.isResolved=b.isResolved=function(){return 1===p};this.isRejected=b.isRejected=function(){return 2===p};this.isFulfilled=b.isFulfilled=function(){return!!p};this.isCanceled=b.isCanceled=function(){return h};this.progress=function(a,c){if(p){if(!0===c)throw Error("This deferred has already been fulfilled.");return b}k(l,0,a,null,e);return b};this.resolve=
function(a,c){if(p){if(!0===c)throw Error("This deferred has already been fulfilled.");return b}k(l,p=1,d=a,null,e);l=null;return b};var n=this.reject=function(a,c){if(p){if(!0===c)throw Error("This deferred has already been fulfilled.");return b}Error.captureStackTrace&&Error.captureStackTrace(t={},n);k(l,p=2,d=a,t,e);l=null;return b};this.then=b.then=function(a,e,f){var h=[f,a,e];h.cancel=b.cancel;h.deferred=new c(function(a){return h.cancel&&h.cancel(a)});p&&!l?g(h,p,d,t):l.push(h);return h.deferred.promise};
this.cancel=b.cancel=function(b,e){if(p){if(!0===e)throw Error("This deferred has already been fulfilled.");}else{if(a){var c=a(b);b="undefined"===typeof c?b:c}h=!0;if(p){if(2===p&&d===b)return b}else return"undefined"===typeof b&&(b=new r),n(b),b}};f(b)};c.prototype.toString=function(){return"[object Deferred]"};l&&l(c);return c})},"dojo/errors/CancelError":function(){define(["./create"],function(n){return n("CancelError",null,null,{dojoType:"cancel"})})},"dojo/errors/create":function(){define(["../_base/lang"],
function(n){return function(q,r,m,l){m=m||Error;var f=function(k){if(m===Error){Error.captureStackTrace&&Error.captureStackTrace(this,f);var g=Error.call(this,k),h;for(h in g)g.hasOwnProperty(h)&&(this[h]=g[h]);this.message=k;this.stack=g.stack}else m.apply(this,arguments);r&&r.apply(this,arguments)};f.prototype=n.delegate(m.prototype,l);f.prototype.name=q;return f.prototype.constructor=f}})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(n){function q(){throw new TypeError("abstract");
}return n.extend(function(){},{then:function(n,m,l){q()},cancel:function(n,m){q()},isResolved:function(){q()},isRejected:function(){q()},isFulfilled:function(){q()},isCanceled:function(){q()},always:function(n){return this.then(n,n)},otherwise:function(n){return this.then(null,n)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],
function(n,q,r,m){function l(a,b,e){var c="";a&&a.stack&&(c+=a.stack);b&&b.stack&&(c+="\n    ----------------------------------------\n    rejected"+b.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));e&&e.stack&&(c+="\n    ----------------------------------------\n"+e.stack);console.error(a,c)}function f(a,b,e,c){b||l(a,e,c)}function k(a,b,e,p){b?m.some(h,function(b,e){if(b.error===a)return h.splice(e,1),!0}):m.some(h,function(b){return b.error===a})||h.push({error:a,rejection:e,deferred:p,
timestamp:(new Date).getTime()});d||(d=setTimeout(g,c))}function g(){var a=(new Date).getTime(),b=a-c;h=m.filter(h,function(a){return a.timestamp<b?(l(a.error,a.rejection,a.deferred),!1):!0});d=h.length?setTimeout(g,h[0].timestamp+c-a):!1}q.add("config-useDeferredInstrumentation","report-unhandled-rejections");var h=[],d=!1,c=1E3;return function(a){var b=q("config-useDeferredInstrumentation");if(b){n.on("resolved",r.hitch(console,"log","resolved"));n.on("rejected",r.hitch(console,"log","rejected"));
n.on("progress",r.hitch(console,"log","progress"));var e=[];"string"===typeof b&&(e=b.split(","),b=e.shift());if("report-rejections"===b)a.instrumentRejected=f;else if("report-unhandled-rejections"===b||!0===b||1===b)a.instrumentRejected=k,c=parseInt(e[0],10)||c;else throw Error("Unsupported instrumentation usage \x3c"+b+"\x3e");}}})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(n,q,r){function m(k){setTimeout(function(){f.apply(l,k)},0)}var l=new r,
f=l.emit;l.emit=null;q.prototype.trace=function(){var f=n._toArray(arguments);this.then(function(g){m(["resolved",g].concat(f))},function(g){m(["rejected",g].concat(f))},function(g){m(["progress",g].concat(f))});return this};q.prototype.traceRejected=function(){var f=n._toArray(arguments);this.otherwise(function(g){m(["rejected",g].concat(f))});return this};return l})},"dojo/Evented":function(){define(["./aspect","./on"],function(n,q){function r(){}var m=n.after;r.prototype={on:function(l,f){return q.parse(this,
l,f,function(k,g){return m(k,"on"+g,f,!0)})},emit:function(l,f){var k=[this];k.push.apply(k,arguments);return q.emit.apply(q,k)}};return r})},"dojo/aspect":function(){define([],function(){function n(f,h,d,c){var a=f[h],b="around"==h,e;if(b){var p=d(function(){return a.advice(this,arguments)});e={remove:function(){p&&(p=f=d=null)},advice:function(b,e){return p?p.apply(b,e):a.advice(b,e)}}}else e={remove:function(){if(e.advice){var a=e.previous,b=e.next;!b&&!a?delete f[h]:(a?a.next=b:f[h]=b,b&&(b.previous=
a));f=d=e.advice=null}},id:m++,advice:d,receiveArguments:c};if(a&&!b)if("after"==h){for(;a.next&&(a=a.next););a.next=e;e.previous=a}else"before"==h&&(f[h]=e,e.next=a,a.previous=e);else f[h]=e;return e}function q(f){return function(h,d,c,a){var b=h[d],e;if(!b||b.target!=h)h[d]=e=function(){for(var a=m,b=arguments,c=e.before;c;)b=c.advice.apply(this,b)||b,c=c.next;if(e.around)var d=e.around.advice(this,b);for(c=e.after;c&&c.id<a;){if(c.receiveArguments)var f=c.advice.apply(this,b),d=f===r?d:f;else d=
c.advice.call(this,d,b);c=c.next}return d},b&&(e.around={advice:function(a,e){return b.apply(a,e)}}),e.target=h;h=n(e||b,f,c,a);c=null;return h}}var r,m=0,l=q("after"),f=q("before"),k=q("around");return{before:f,around:k,after:l}})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(n,q){return function(r,m,l,f){var k=r&&"function"===typeof r.then,g=k&&r instanceof q;if(k)g||(k=new n(r.cancel),r.then(k.resolve,k.reject,k.progress),r=k.promise);else return 1<arguments.length?
m?m(r):r:(new n).resolve(r);return m||l||f?r.then(m,l,f):r}})},"dojo/_base/json":function(){define(["./kernel","../json"],function(n,q){n.fromJson=function(n){return eval("("+n+")")};n._escapeString=q.stringify;n.toJsonIndentStr="\t";n.toJson=function(r,m){return q.stringify(r,function(l,f){if(f){var k=f.__json__||f.json;if("function"==typeof k)return k.call(f)}return f},m&&n.toJsonIndentStr)};return n})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../_base/window ../has!host-browser?dom-addeventlistener?:../on:".split(" "),
function(n,q,r,m,l,f){function k(){for(var c=+new Date,a=0,b;a<d.length&&(b=d[a]);a++){var e=b.response,p=e.options;if(b.isCanceled&&b.isCanceled()||b.isValid&&!b.isValid(e))d.splice(a--,1),g._onAction&&g._onAction();else if(b.isReady&&b.isReady(e))d.splice(a--,1),b.handleResponse(e),g._onAction&&g._onAction();else if(b.startTime&&b.startTime+(p.timeout||0)<c)d.splice(a--,1),b.cancel(new q("Timeout exceeded",e)),g._onAction&&g._onAction()}g._onInFlight&&g._onInFlight(b);d.length||(clearInterval(h),
h=null)}function g(c){c.response.options.timeout&&(c.startTime=+new Date);c.isFulfilled()||(d.push(c),h||(h=setInterval(k,50)),c.response.options.sync&&k())}var h=null,d=[];g.cancelAll=function(){try{m.forEach(d,function(a){try{a.cancel(new r("All requests canceled."))}catch(b){}})}catch(c){}};l&&(f&&l.doc.attachEvent)&&f(l.global,"unload",function(){g.cancelAll()});return g})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise".split(" "),
function(n,q,r,m,l,f,k,g){function h(a){return c(a)}function d(a){return a.data||a.text}n.deepCopy=function(a,b){for(var e in b){var c=a[e],d=b[e];c!==d&&(c&&"object"===typeof c&&d&&"object"===typeof d?n.deepCopy(c,d):a[e]=d)}return a};n.deepCreate=function(a,b){b=b||{};var e=k.delegate(a),c,d;for(c in a)(d=a[c])&&"object"===typeof d&&(e[c]=n.deepCreate(d,b[c]));return n.deepCopy(e,b)};var c=Object.freeze||function(a){return a};n.deferred=function(a,b,e,p,s,f){var x=new m(function(e){b&&b(x,a);return!e||
!(e instanceof q)&&!(e instanceof r)?new r("Request canceled",a):e});x.response=a;x.isValid=e;x.isReady=p;x.handleResponse=s;e=x.then(h).otherwise(function(b){b.response=a;throw b;});n.notify&&e.then(k.hitch(n.notify,"emit","load"),k.hitch(n.notify,"emit","error"));p=e.then(d);s=new g;for(var l in p)p.hasOwnProperty(l)&&(s[l]=p[l]);s.response=e;c(s);f&&x.then(function(a){f.call(x,a)},function(b){f.call(x,a,b)});x.promise=s;x.then=s.then;return x};n.addCommonMethods=function(a,b){f.forEach(b||["GET",
"POST","PUT","DELETE"],function(b){a[("DELETE"===b?"DEL":b).toLowerCase()]=function(c,d){d=k.delegate(d||{});d.method=b;return a(c,d)}})};n.parseArgs=function(a,b,e){var c=b.data,d=b.query;c&&!e&&"object"===typeof c&&(b.data=l.objectToQuery(c));d?("object"===typeof d&&(d=l.objectToQuery(d)),b.preventCache&&(d+=(d?"\x26":"")+"request.preventCache\x3d"+ +new Date)):b.preventCache&&(d="request.preventCache\x3d"+ +new Date);a&&d&&(a+=(~a.indexOf("?")?"\x26":"?")+d);return{url:a,options:b,getHeader:function(a){return null}}};
n.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||!a}})},"dojo/errors/RequestError":function(){define(["./create"],function(n){return n("RequestError",function(n,r){this.response=r})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(n,q){return n("RequestTimeoutError",null,q,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(n,q,r,m,l){function f(a,
b){var e=a.xhr;a.status=a.xhr.status;try{a.text=e.responseText}catch(c){}"xml"===a.options.handleAs&&(a.data=e.responseXML);if(!b)try{r(a)}catch(p){b=p}b?this.reject(b):m.checkStatus(e.status)?this.resolve(a):(b=new n("Unable to load "+a.url+" status: "+e.status,a),this.reject(b))}function k(a){return this.xhr.getResponseHeader(a)}function g(s,t,v){var r=l("native-formdata")&&t&&t.data&&t.data instanceof FormData,A=m.parseArgs(s,m.deepCreate(p,t),r);s=A.url;t=A.options;var u,w=m.deferred(A,b,d,c,
f,function(){u&&u()}),z=A.xhr=g._create();if(!z)return w.cancel(new n("XHR was not created")),v?w:w.promise;A.getHeader=k;a&&(u=a(z,w,A));var D=t.data,G=!t.sync,H=t.method;try{z.open(H,s,G,t.user||e,t.password||e);t.withCredentials&&(z.withCredentials=t.withCredentials);l("native-response-type")&&t.handleAs in h&&(z.responseType=h[t.handleAs]);var F=t.headers;s=r?!1:"application/x-www-form-urlencoded";if(F)for(var I in F)"content-type"===I.toLowerCase()?s=F[I]:F[I]&&z.setRequestHeader(I,F[I]);s&&
!1!==s&&z.setRequestHeader("Content-Type",s);(!F||!("X-Requested-With"in F))&&z.setRequestHeader("X-Requested-With","XMLHttpRequest");m.notify&&m.notify.emit("send",A,w.promise.cancel);z.send(D)}catch(C){w.reject(C)}q(w);z=null;return v?w:w.promise}l.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});l.add("dojo-force-activex-xhr",function(){return l("activex")&&!document.addEventListener&&"file:"===window.location.protocol});l.add("native-xhr2",function(){if(l("native-xhr")){var a=
new XMLHttpRequest;return"undefined"!==typeof a.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof a.upload)}});l.add("native-formdata",function(){return"undefined"!==typeof FormData});l.add("native-response-type",function(){return l("native-xhr")&&"undefined"!==typeof(new XMLHttpRequest).responseType});l.add("native-xhr2-blob",function(){if(l("native-response-type")){var a=new XMLHttpRequest;a.open("GET","/",!0);a.responseType="blob";var b=a.responseType;a.abort();return"blob"===
b}});var h={blob:l("native-xhr2-blob")?"blob":"arraybuffer",document:"document",arraybuffer:"arraybuffer"},d,c,a,b;l("native-xhr2")?(d=function(a){return!this.isFulfilled()},b=function(a,b){b.xhr.abort()},a=function(a,b,e){function c(a){b.handleResponse(e)}function p(a){a=new n("Unable to load "+e.url+" status: "+a.target.status,e);b.handleResponse(e,a)}function d(a){a.lengthComputable?(e.loaded=a.loaded,e.total=a.total,b.progress(e)):3===e.xhr.readyState&&(e.loaded=a.position,b.progress(e))}a.addEventListener("load",
c,!1);a.addEventListener("error",p,!1);a.addEventListener("progress",d,!1);return function(){a.removeEventListener("load",c,!1);a.removeEventListener("error",p,!1);a.removeEventListener("progress",d,!1);a=null}}):(d=function(a){return a.xhr.readyState},c=function(a){return 4===a.xhr.readyState},b=function(a,b){var e=b.xhr,c=typeof e.abort;("function"===c||"object"===c||"unknown"===c)&&e.abort()});var e,p={data:null,query:null,sync:!1,method:"GET"};g._create=function(){throw Error("XMLHTTP not available");
};if(l("native-xhr")&&!l("dojo-force-activex-xhr"))g._create=function(){return new XMLHttpRequest};else if(l("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),g._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(s){try{new ActiveXObject("Microsoft.XMLHTTP"),g._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(t){}}m.addCommonMethods(g);return g})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],
function(n,q,r,m){function l(c){var a=d[c.options.handleAs];c.data=a?a(c):c.data||c.text;return c}m.add("activex","undefined"!==typeof ActiveXObject);m.add("dom-parser",function(c){return"DOMParser"in c});var f;if(m("activex")){var k=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"],g;f=function(c){function a(a){try{var c=new ActiveXObject(a);c.async=!1;c.loadXML(e);b=c;g=a}catch(d){return!1}return!0}var b=c.data,e=c.text;b&&(m("dom-qsa2.1")&&!b.querySelectorAll&&
m("dom-parser"))&&(b=(new DOMParser).parseFromString(e,"application/xml"));if(!b||!b.documentElement)(!g||!a(g))&&r.some(k,a);return b}}var h=function(c){return!m("native-xhr2-blob")&&"blob"===c.options.handleAs&&"undefined"!==typeof Blob?new Blob([c.xhr.response],{type:c.xhr.getResponseHeader("Content-Type")}):c.xhr.response},d={javascript:function(c){return q.eval(c.text||"")},json:function(c){return n.parse(c.text||null)},xml:f,blob:h,arraybuffer:h,document:h};l.register=function(c,a){d[c]=a};
return l})},"dojo/selector/_loader":function(){define(["../has","require"],function(n,q){var r=document.createElement("div");n.add("dom-qsa2.1",!!r.querySelectorAll);n.add("dom-qsa3",function(){try{return r.innerHTML="\x3cp class\x3d'TEST'\x3e\x3c/p\x3e",1==r.querySelectorAll(".TEST:empty").length}catch(l){}});var m;return{load:function(l,f,k,g){g=q;l="default"==l?n("config-selectorEngine")||"css3":l;l="css2"==l||"lite"==l?"./lite":"css2.1"==l?n("dom-qsa2.1")?"./lite":"./acme":"css3"==l?n("dom-qsa3")?
"./lite":"./acme":"acme"==l?"./acme":(g=f)&&l;if("?"==l.charAt(l.length-1)){l=l.substring(0,l.length-1);var h=!0}if(h&&(n("dom-compliant-qsa")||m))return k(m);g([l],function(d){"./lite"!=l&&(m=d);k(d)})}}})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(n,q,r){function m(h){if("string"==typeof h||h instanceof String){if(h&&!f.test(h))return k[0]=h,k;h=h.split(f);h.length&&!h[0]&&h.shift();h.length&&!h[h.length-1]&&h.pop();return h}return!h?[]:q.filter(h,function(d){return d})}
var l,f=/\s+/,k=[""],g={};return l={contains:function(f,d){return 0<=(" "+r.byId(f).className+" ").indexOf(" "+d+" ")},add:function(f,d){f=r.byId(f);d=m(d);var c=f.className,a,c=c?" "+c+" ":" ";a=c.length;for(var b=0,e=d.length,p;b<e;++b)(p=d[b])&&0>c.indexOf(" "+p+" ")&&(c+=p+" ");a<c.length&&(f.className=c.substr(1,c.length-2))},remove:function(f,d){f=r.byId(f);var c;if(void 0!==d){d=m(d);c=" "+f.className+" ";for(var a=0,b=d.length;a<b;++a)c=c.replace(" "+d[a]+" "," ");c=n.trim(c)}else c="";f.className!=
c&&(f.className=c)},replace:function(f,d,c){f=r.byId(f);g.className=f.className;l.remove(g,c);l.add(g,d);f.className!==g.className&&(f.className=g.className)},toggle:function(f,d,c){f=r.byId(f);if(void 0===c){d=m(d);for(var a=0,b=d.length,e;a<b;++a)e=d[a],l[l.contains(f,e)?"remove":"add"](f,e)}else l[c?"add":"remove"](f,d);return c}}})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(n,q,r,m){function l(d,c,a,b,e,p){p=p||"px";d=d.style;isNaN(c)||(d.left=
c+p);isNaN(a)||(d.top=a+p);0<=b&&(d.width=b+p);0<=e&&(d.height=e+p)}function f(d){return"button"==d.tagName.toLowerCase()||"input"==d.tagName.toLowerCase()&&"button"==(d.getAttribute("type")||"").toLowerCase()}function k(d){return"border-box"==g.boxModel||"table"==d.tagName.toLowerCase()||f(d)}var g={boxModel:"content-box"};n("ie")&&(g.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");g.getPadExtents=function(d,c){d=r.byId(d);var a=c||m.getComputedStyle(d),b=m.toPixelValue,e=
b(d,a.paddingLeft),p=b(d,a.paddingTop),s=b(d,a.paddingRight),a=b(d,a.paddingBottom);return{l:e,t:p,r:s,b:a,w:e+s,h:p+a}};g.getBorderExtents=function(d,c){d=r.byId(d);var a=m.toPixelValue,b=c||m.getComputedStyle(d),e="none"!=b.borderLeftStyle?a(d,b.borderLeftWidth):0,p="none"!=b.borderTopStyle?a(d,b.borderTopWidth):0,s="none"!=b.borderRightStyle?a(d,b.borderRightWidth):0,a="none"!=b.borderBottomStyle?a(d,b.borderBottomWidth):0;return{l:e,t:p,r:s,b:a,w:e+s,h:p+a}};g.getPadBorderExtents=function(d,c){d=
r.byId(d);var a=c||m.getComputedStyle(d),b=g.getPadExtents(d,a),a=g.getBorderExtents(d,a);return{l:b.l+a.l,t:b.t+a.t,r:b.r+a.r,b:b.b+a.b,w:b.w+a.w,h:b.h+a.h}};g.getMarginExtents=function(d,c){d=r.byId(d);var a=c||m.getComputedStyle(d),b=m.toPixelValue,e=b(d,a.marginLeft),p=b(d,a.marginTop),s=b(d,a.marginRight),a=b(d,a.marginBottom);return{l:e,t:p,r:s,b:a,w:e+s,h:p+a}};g.getMarginBox=function(d,c){d=r.byId(d);var a=c||m.getComputedStyle(d),b=g.getMarginExtents(d,a),e=d.offsetLeft-b.l,p=d.offsetTop-
b.t,s=d.parentNode,f=m.toPixelValue;if(n("mozilla")){var h=parseFloat(a.left),a=parseFloat(a.top);!isNaN(h)&&!isNaN(a)?(e=h,p=a):s&&s.style&&(s=m.getComputedStyle(s),"visible"!=s.overflow&&(e+="none"!=s.borderLeftStyle?f(d,s.borderLeftWidth):0,p+="none"!=s.borderTopStyle?f(d,s.borderTopWidth):0))}else if((n("opera")||8==n("ie")&&!n("quirks"))&&s)s=m.getComputedStyle(s),e-="none"!=s.borderLeftStyle?f(d,s.borderLeftWidth):0,p-="none"!=s.borderTopStyle?f(d,s.borderTopWidth):0;return{l:e,t:p,w:d.offsetWidth+
b.w,h:d.offsetHeight+b.h}};g.getContentBox=function(d,c){d=r.byId(d);var a=c||m.getComputedStyle(d),b=d.clientWidth,e=g.getPadExtents(d,a),p=g.getBorderExtents(d,a);b?(a=d.clientHeight,p.w=p.h=0):(b=d.offsetWidth,a=d.offsetHeight);n("opera")&&(e.l+=p.l,e.t+=p.t);return{l:e.l,t:e.t,w:b-e.w-p.w,h:a-e.h-p.h}};g.setContentSize=function(d,c,a){d=r.byId(d);var b=c.w;c=c.h;k(d)&&(a=g.getPadBorderExtents(d,a),0<=b&&(b+=a.w),0<=c&&(c+=a.h));l(d,NaN,NaN,b,c)};var h={l:0,t:0,w:0,h:0};g.setMarginBox=function(d,
c,a){d=r.byId(d);var b=a||m.getComputedStyle(d);a=c.w;var e=c.h,p=k(d)?h:g.getPadBorderExtents(d,b),b=g.getMarginExtents(d,b);if(n("webkit")&&f(d)){var s=d.style;0<=a&&!s.width&&(s.width="4px");0<=e&&!s.height&&(s.height="4px")}0<=a&&(a=Math.max(a-p.w-b.w,0));0<=e&&(e=Math.max(e-p.h-b.h,0));l(d,c.l,c.t,a,e)};g.isBodyLtr=function(d){d=d||q.doc;return"ltr"==(q.body(d).dir||d.documentElement.dir||"ltr").toLowerCase()};g.docScroll=function(d){d=d||q.doc;var c=q.doc.parentWindow||q.doc.defaultView;return"pageXOffset"in
c?{x:c.pageXOffset,y:c.pageYOffset}:(c=n("quirks")?q.body(d):d.documentElement)&&{x:g.fixIeBiDiScrollLeft(c.scrollLeft||0,d),y:c.scrollTop||0}};n("ie")&&(g.getIeDocumentElementOffset=function(d){d=d||q.doc;d=d.documentElement;if(8>n("ie")){var c=d.getBoundingClientRect(),a=c.left,c=c.top;7>n("ie")&&(a+=d.clientLeft,c+=d.clientTop);return{x:0>a?0:a,y:0>c?0:c}}return{x:0,y:0}});g.fixIeBiDiScrollLeft=function(d,c){c=c||q.doc;var a=n("ie");if(a&&!g.isBodyLtr(c)){var b=n("quirks"),e=b?q.body(c):c.documentElement,
p=q.global;6==a&&(!b&&p.frameElement&&e.scrollHeight>e.clientHeight)&&(d+=e.clientLeft);return 8>a||b?d+e.clientWidth-e.scrollWidth:-d}return d};g.position=function(d,c){d=r.byId(d);var a=q.body(d.ownerDocument),b=d.getBoundingClientRect(),b={x:b.left,y:b.top,w:b.right-b.left,h:b.bottom-b.top};if(9>n("ie")){var e=g.getIeDocumentElementOffset(d.ownerDocument);b.x-=e.x+(n("quirks")?a.clientLeft+a.offsetLeft:0);b.y-=e.y+(n("quirks")?a.clientTop+a.offsetTop:0)}c&&(a=g.docScroll(d.ownerDocument),b.x+=
a.x,b.y+=a.y);return b};g.getMarginSize=function(d,c){d=r.byId(d);var a=g.getMarginExtents(d,c||m.getComputedStyle(d)),b=d.getBoundingClientRect();return{w:b.right-b.left+a.w,h:b.bottom-b.top+a.h}};g.normalizeEvent=function(d){"layerX"in d||(d.layerX=d.offsetX,d.layerY=d.offsetY);if(!n("dom-addeventlistener")){var c=d.target,c=c&&c.ownerDocument||document,a=n("quirks")?c.body:c.documentElement,b=g.getIeDocumentElementOffset(c);d.pageX=d.clientX+g.fixIeBiDiScrollLeft(a.scrollLeft||0,c)-b.x;d.pageY=
d.clientY+(a.scrollTop||0)-b.y}};return g})},"dojo/dom-style":function(){define(["./sniff","./dom"],function(n,q){function r(a,e,p){e=e.toLowerCase();if(n("ie")||n("trident")){if("auto"==p){if("height"==e)return a.offsetHeight;if("width"==e)return a.offsetWidth}if("fontweight"==e)switch(p){case 700:return"bold";default:return"normal"}}e in d||(d[e]=c.test(e));return d[e]?f(a,p):p}var m,l={};m=n("webkit")?function(a){var e;if(1==a.nodeType){var c=a.ownerDocument.defaultView;e=c.getComputedStyle(a,
null);!e&&a.style&&(a.style.display="",e=c.getComputedStyle(a,null))}return e||{}}:n("ie")&&(9>n("ie")||n("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,null):{}};l.getComputedStyle=m;var f;f=n("ie")?function(a,e){if(!e)return 0;if("medium"==e)return 4;if(e.slice&&"px"==e.slice(-2))return parseFloat(e);var c=a.style,d=a.runtimeStyle,f=c.left,h=d.left;d.left=a.currentStyle.left;try{c.left=
e,e=c.pixelLeft}catch(k){e=0}c.left=f;d.left=h;return e}:function(a,e){return parseFloat(e)||0};l.toPixelValue=f;var k=function(a,e){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(c){return e?{}:null}},g=9>n("ie")||10>n("ie")&&n("quirks")?function(a){try{return k(a).Opacity/100}catch(e){return 1}}:function(a){return m(a).opacity},h=9>n("ie")||10>n("ie")&&n("quirks")?function(a,e){""===e&&(e=1);var c=100*e;1===e?(a.style.zoom="",k(a)&&(a.style.filter=a.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,
""))):(a.style.zoom=1,k(a)?k(a,1).Opacity=c:a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+c+")",k(a,1).Enabled=!0);if("tr"==a.tagName.toLowerCase())for(c=a.firstChild;c;c=c.nextSibling)"td"==c.tagName.toLowerCase()&&h(c,e);return e}:function(a,e){return a.style.opacity=e},d={left:!0,top:!0},c=/margin|padding|width|height|max|min|offset/,a={cssFloat:1,styleFloat:1,"float":1};l.get=function(b,e){var c=q.byId(b),d=arguments.length;if(2==d&&"opacity"==e)return g(c);e=a[e]?"cssFloat"in
c.style?"cssFloat":"styleFloat":e;var f=l.getComputedStyle(c);return 1==d?f:r(c,e,f[e]||c.style[e])};l.set=function(b,e,c){var d=q.byId(b),f=arguments.length,k="opacity"==e;e=a[e]?"cssFloat"in d.style?"cssFloat":"styleFloat":e;if(3==f)return k?h(d,c):d.style[e]=c;for(var g in e)l.set(b,g,e[g]);return l.getComputedStyle(d)};return l})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),function(n,q,r,
m,l,f,k,g){function h(a,b){var e=function(e,c){if("string"==typeof c&&(c=r.byId(c),!c))return new b([]);var d="string"==typeof e?a(e,c):e?e.end&&e.on?e:[e]:[];return d.end&&d.on?d:new b(d)};e.matches=a.match||function(a,b,c){return 0<e.filter([a],b,c).length};e.filter=a.filter||function(a,b,c){return e(b,c).filter(function(b){return-1<l.indexOf(a,b)})};if("function"!=typeof a){var c=a.search;a=function(a,b){return c(b||document,a)}}return e}q.add("array-extensible",function(){return 1==f.delegate([],
{length:1}).length&&!q("bug-for-in-skips-shadowed")});var d=Array.prototype,c=d.slice,a=d.concat,b=l.forEach,e=function(a,b,e){b=[0].concat(c.call(b,0));e=e||n.global;return function(c){b[0]=c;return a.apply(e,b)}},p=function(a){var b=this instanceof s&&q("array-extensible");"number"==typeof a&&(a=Array(a));var e=a&&"length"in a?a:arguments;if(b||!e.sort){for(var c=b?this:[],d=c.length=e.length,p=0;p<d;p++)c[p]=e[p];if(b)return c;e=c}f._mixin(e,t);e._NodeListCtor=function(a){return s(a)};return e},
s=p,t=s.prototype=q("array-extensible")?[]:{};s._wrap=t._wrap=function(a,b,e){a=new (e||this._NodeListCtor||s)(a);return b?a._stash(b):a};s._adaptAsMap=function(a,b){return function(){return this.map(e(a,arguments,b))}};s._adaptAsForEach=function(a,b){return function(){this.forEach(e(a,arguments,b));return this}};s._adaptAsFilter=function(a,b){return function(){return this.filter(e(a,arguments,b))}};s._adaptWithCondition=function(a,b,c){return function(){var d=arguments,p=e(a,d,c);if(b.call(c||n.global,
d))return this.map(p);this.forEach(p);return this}};b(["slice","splice"],function(a){var b=d[a];t[a]=function(){return this._wrap(b.apply(this,arguments),"slice"==a?this:null)}});b(["indexOf","lastIndexOf","every","some"],function(a){var b=l[a];t[a]=function(){return b.apply(n,[this].concat(c.call(arguments,0)))}});f.extend(p,{constructor:s,_NodeListCtor:s,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,b){var e=this.map(function(e){return m(e,
a,b)});e.remove=function(){for(var a=0;a<e.length;a++)e[a].remove()};return e},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(b){var e=c.call(this,0),d=l.map(arguments,function(a){return c.call(a,0)});return this._wrap(a.apply(e,d),this)},map:function(a,b){return this._wrap(l.map(this,a,b),this)},forEach:function(a,e){b(this,a,e);return this},filter:function(a){var b=arguments,e=this,c=0;if("string"==typeof a){e=x._filterResult(this,b[0]);if(1==b.length)return e._stash(this);
c=1}return this._wrap(l.filter(e,b[c],b[c+1]),this)},instantiate:function(a,b){var e=f.isFunction(a)?a:f.getObject(a);b=b||{};return this.forEach(function(a){new e(b,a)})},at:function(){var a=new this._NodeListCtor(0);b(arguments,function(b){0>b&&(b=this.length+b);this[b]&&a.push(this[b])},this);return a._stash(this)}});var x=h(g,p);n.query=h(g,function(a){return p(a)});x.load=function(a,b,e){k.load(a,b,function(a){e(h(a,p))})};n._filterQueryResult=x._filterResult=function(a,b,e){return new p(x.filter(a,
b,e))};n.NodeList=x.NodeList=p;return x})},"dojo/selector/acme":function(){define(["../dom","../sniff","../_base/array","../_base/lang","../_base/window"],function(n,q,r,m,l){var f=m.trim,k=r.forEach,g="BackCompat"==l.doc.compatMode,h=!1,d=function(){return!0},c=function(a){a=0<="\x3e~+".indexOf(a.slice(-1))?a+" * ":a+" ";for(var b=function(b,e){return f(a.slice(b,e))},e=[],c=-1,d=-1,p=-1,s=-1,t=-1,k=-1,g=-1,l,x="",m="",n,q=0,B=a.length,r=null,v=null,y=function(){0<=k&&(r.id=b(k,q).replace(/\\/g,
""),k=-1);if(0<=g){var a=g==q?null:b(g,q);r[0>"\x3e~+".indexOf(a)?"tag":"oper"]=a;g=-1}0<=t&&(r.classes.push(b(t+1,q).replace(/\\/g,"")),t=-1)};x=m,m=a.charAt(q),q<B;q++)if("\\"!=x)if(r||(n=q,r={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return h?this.otag:this.tag}},g=q),l)m==l&&(l=null);else if("'"==m||'"'==m)l=m;else if(0<=c)if("]"==m){v.attr?v.matchFor=b(p||c+1,q):v.attr=b(c+1,q);if((c=v.matchFor)&&('"'==c.charAt(0)||"'"==c.charAt(0)))v.matchFor=c.slice(1,
-1);v.matchFor&&(v.matchFor=v.matchFor.replace(/\\/g,""));r.attrs.push(v);v=null;c=p=-1}else"\x3d"==m&&(p=0<="|~^$*".indexOf(x)?x:"",v.type=p+m,v.attr=b(c+1,q-p.length),p=q+1);else 0<=d?")"==m&&(0<=s&&(v.value=b(d+1,q)),s=d=-1):"#"==m?(y(),k=q+1):"."==m?(y(),t=q):":"==m?(y(),s=q):"["==m?(y(),c=q,v={}):"("==m?(0<=s&&(v={name:b(s+1,q),value:null},r.pseudos.push(v)),d=q):" "==m&&x!=m&&(y(),0<=s&&r.pseudos.push({name:b(s+1,q)}),r.loops=r.pseudos.length||r.attrs.length||r.classes.length,r.oquery=r.query=
b(n,q),r.otag=r.tag=r.oper?null:r.tag||"*",r.tag&&(r.tag=r.tag.toUpperCase()),e.length&&e[e.length-1].oper&&(r.infixOper=e.pop(),r.query=r.infixOper.query+" "+r.query),e.push(r),r=null);return e},a=function(a,b){return!a?b:!b?a:function(){return a.apply(window,arguments)&&b.apply(window,arguments)}},b=function(a,b){var e=b||[];a&&e.push(a);return e},e=function(a){return 1==a.nodeType},p=function(a,b){return!a?"":"class"==b?a.className||"":"for"==b?a.htmlFor||"":"style"==b?a.style.cssText||"":(h?a.getAttribute(b):
a.getAttribute(b,2))||""},s={"*\x3d":function(a,b){return function(e){return 0<=p(e,a).indexOf(b)}},"^\x3d":function(a,b){return function(e){return 0==p(e,a).indexOf(b)}},"$\x3d":function(a,b){return function(e){e=" "+p(e,a);var c=e.lastIndexOf(b);return-1<c&&c==e.length-b.length}},"~\x3d":function(a,b){var e=" "+b+" ";return function(b){return 0<=(" "+p(b,a)+" ").indexOf(e)}},"|\x3d":function(a,b){var e=b+"-";return function(c){c=p(c,a);return c==b||0==c.indexOf(e)}},"\x3d":function(a,b){return function(e){return p(e,
a)==b}}},t="undefined"==typeof l.doc.firstChild.nextElementSibling,x=!t?"nextElementSibling":"nextSibling",B=!t?"previousElementSibling":"previousSibling",v=t?e:d,y=function(a){for(;a=a[B];)if(v(a))return!1;return!0},A=function(a){for(;a=a[x];)if(v(a))return!1;return!0},u=function(a){var b=a.parentNode,b=7!=b.nodeType?b:b.nextSibling,e=0,c=b.children||b.childNodes,d=a._i||a.getAttribute("_i")||-1,p=b._l||("undefined"!==typeof b.getAttribute?b.getAttribute("_l"):-1);if(!c)return-1;c=c.length;if(p==
c&&0<=d&&0<=p)return d;q("ie")&&"undefined"!==typeof b.setAttribute?b.setAttribute("_l",c):b._l=c;d=-1;for(b=b.firstElementChild||b.firstChild;b;b=b[x])v(b)&&(q("ie")?b.setAttribute("_i",++e):b._i=++e,a===b&&(d=e));return d},w=function(a){return!(u(a)%2)},z=function(a){return u(a)%2},D={checked:function(a,b){return function(a){return!!("checked"in a?a.checked:a.selected)}},disabled:function(a,b){return function(a){return a.disabled}},enabled:function(a,b){return function(a){return!a.disabled}},"first-child":function(){return y},
"last-child":function(){return A},"only-child":function(a,b){return function(a){return y(a)&&A(a)}},empty:function(a,b){return function(a){var b=a.childNodes;for(a=a.childNodes.length-1;0<=a;a--){var e=b[a].nodeType;if(1===e||3==e)return!1}return!0}},contains:function(a,b){var e=b.charAt(0);if('"'==e||"'"==e)b=b.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(b)}},not:function(a,b){var e=c(b)[0],d={el:1};"*"!=e.tag&&(d.tag=1);e.classes.length||(d.classes=1);var p=H(e,d);return function(a){return!p(a)}},
"nth-child":function(a,b){var e=parseInt;if("odd"==b)return z;if("even"==b)return w;if(-1!=b.indexOf("n")){var c=b.split("n",2),d=c[0]?"-"==c[0]?-1:e(c[0]):1,p=c[1]?e(c[1]):0,s=0,f=-1;0<d?0>p?p=p%d&&d+p%d:0<p&&(p>=d&&(s=p-p%d),p%=d):0>d&&(d*=-1,0<p&&(f=p,p%=d));if(0<d)return function(a){a=u(a);return a>=s&&(0>f||a<=f)&&a%d==p};b=p}var t=e(b);return function(a){return u(a)==t}}},G=9>q("ie")||9==q("ie")&&q("quirks")?function(a){var b=a.toLowerCase();"class"==b&&(a="className");return function(e){return h?
e.getAttribute(a):e[a]||e[b]}}:function(a){return function(b){return b&&b.getAttribute&&b.hasAttribute(a)}},H=function(b,c){if(!b)return d;c=c||{};var p=null;"el"in c||(p=a(p,e));"tag"in c||"*"!=b.tag&&(p=a(p,function(a){return a&&(h?a.tagName:a.tagName.toUpperCase())==b.getTag()}));"classes"in c||k(b.classes,function(b,e,c){var d=RegExp("(?:^|\\s)"+b+"(?:\\s|$)");p=a(p,function(a){return d.test(a.className)});p.count=e});"pseudos"in c||k(b.pseudos,function(b){var e=b.name;D[e]&&(p=a(p,D[e](e,b.value)))});
"attrs"in c||k(b.attrs,function(b){var e,c=b.attr;b.type&&s[b.type]?e=s[b.type](c,b.matchFor):c.length&&(e=G(c));e&&(p=a(p,e))});"id"in c||b.id&&(p=a(p,function(a){return!!a&&a.id==b.id}));p||"default"in c||(p=d);return p},F=function(a){return function(b,c,p){for(;b=b[x];)if(!t||e(b)){(!p||T(b,p))&&a(b)&&c.push(b);break}return c}},I=function(a){return function(b,e,c){for(b=b[x];b;){if(v(b)){if(c&&!T(b,c))break;a(b)&&e.push(b)}b=b[x]}return e}},C=function(a){a=a||d;return function(b,e,c){for(var p=
0,d=b.children||b.childNodes;b=d[p++];)v(b)&&((!c||T(b,c))&&a(b,p))&&e.push(b);return e}},J={},K=function(a){var e=J[a.query];if(e)return e;var c=a.infixOper,c=c?c.oper:"",p=H(a,{el:1}),s="*"==a.tag,f=l.doc.getElementsByClassName;if(c)f={el:1},s&&(f.tag=1),p=H(a,f),"+"==c?e=F(p):"~"==c?e=I(p):"\x3e"==c&&(e=C(p));else if(a.id)p=!a.loops&&s?d:H(a,{el:1,id:1}),e=function(e,c){var d=n.byId(a.id,e.ownerDocument||e);if(d&&p(d)){if(9==e.nodeType)return b(d,c);for(var s=d.parentNode;s&&s!=e;)s=s.parentNode;
if(s)return b(d,c)}};else if(f&&/\{\s*\[native code\]\s*\}/.test(String(f))&&a.classes.length&&!g)var p=H(a,{el:1,classes:1,id:1}),t=a.classes.join(" "),e=function(a,e,c){e=b(0,e);for(var d,s=0,f=a.getElementsByClassName(t);d=f[s++];)p(d,a)&&T(d,c)&&e.push(d);return e};else!s&&!a.loops?e=function(e,c,p){c=b(0,c);for(var d=0,s=a.getTag(),s=s?e.getElementsByTagName(s):[];e=s[d++];)T(e,p)&&c.push(e);return c}:(p=H(a,{el:1,tag:1,id:1}),e=function(e,c,d){c=b(0,c);for(var s,f=0,t=(s=a.getTag())?e.getElementsByTagName(s):
[];s=t[f++];)p(s,e)&&T(s,d)&&c.push(s);return c});return J[a.query]=e},E={},M={},P=function(a){var e=c(f(a));if(1==e.length){var p=K(e[0]);return function(a){if(a=p(a,[]))a.nozip=!0;return a}}return function(a){a=b(a);for(var c,p,d=e.length,s,f,t=0;t<d;t++){f=[];c=e[t];p=a.length-1;0<p&&(s={},f.nozip=!0);p=K(c);for(var h=0;c=a[h];h++)p(c,f,s);if(!f.length)break;a=f}return f}},V=q("ie")?"commentStrip":"nozip",R=!!l.doc.querySelectorAll,U=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g,Q=function(a,b,e,c){return e?
(b?b+" ":"")+e+(c?" "+c:""):a},O=/([^[]*)([^\]]*])?/g,S=function(a,b,e){return b.replace(U,Q)+(e||"")},L=function(a,b){a=a.replace(O,S);if(R){var e=M[a];if(e&&!b)return e}if(e=E[a])return e;var e=a.charAt(0),c=-1==a.indexOf(" ");0<=a.indexOf("#")&&c&&(b=!0);if(R&&!b&&-1=="\x3e~+".indexOf(e)&&(!q("ie")||-1==a.indexOf(":"))&&!(g&&0<=a.indexOf("."))&&-1==a.indexOf(":contains")&&-1==a.indexOf(":checked")&&-1==a.indexOf("|\x3d")){var p=0<="\x3e~+".indexOf(a.charAt(a.length-1))?a+" *":a;return M[a]=function(b){if(!(9==
b.nodeType||c))return L(a,!0)(b);try{var e=b.querySelectorAll(p);e[V]=!0;return e}catch(d){return L(a,!0)(b)}}}var d=a.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);return E[a]=2>d.length?P(a):function(a){for(var b=0,e=[],c;c=d[b++];)e=e.concat(P(c)(a));return e}},N=0,X=q("ie")?function(a){return h?a.getAttribute("_uid")||a.setAttribute("_uid",++N)||N:a.uniqueID}:function(a){return a._uid||(a._uid=++N)},T=function(a,b){if(!b)return 1;var e=X(a);return!b[e]?b[e]=1:0},Y=function(a){if(a&&
a.nozip)return a;if(!a||!a.length)return[];if(2>a.length)return[a[0]];var b=[];N++;var c,p;if(q("ie")&&h){var d=N+"";for(c=0;c<a.length;c++)if((p=a[c])&&p.getAttribute("_zipIdx")!=d)b.push(p),p.setAttribute("_zipIdx",d)}else if(q("ie")&&a.commentStrip)try{for(c=0;c<a.length;c++)(p=a[c])&&e(p)&&b.push(p)}catch(s){}else for(c=0;c<a.length;c++)if((p=a[c])&&p._zipIdx!=N)b.push(p),p._zipIdx=N;return b},W=function(a,b){b=b||l.doc;h="div"===(b.ownerDocument||b).createElement("div").tagName;var e=L(a)(b);
return e&&e.nozip?e:Y(e)};W.filter=function(a,b,e){for(var p=[],d=c(b),d=1==d.length&&!/[^\w#\.]/.test(b)?H(d[0]):function(a){return-1!=r.indexOf(W(b,n.byId(e)),a)},s=0,f;f=a[s];s++)d(f)&&p.push(f);return p};return W})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(n,q,r){return n("dojo.store.Memory",null,{constructor:function(m){for(var l in m)this[l]=m[l];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:r,
get:function(m){return this.data[this.index[m]]},getIdentity:function(m){return m[this.idProperty]},put:function(m,l){var f=this.data,k=this.index,g=this.idProperty,g=m[g]=l&&"id"in l?l.id:g in m?m[g]:Math.random();if(g in k){if(l&&!1===l.overwrite)throw Error("Object already exists");f[k[g]]=m}else k[g]=f.push(m)-1;return g},add:function(m,l){(l=l||{}).overwrite=!1;return this.put(m,l)},remove:function(m){var l=this.index,f=this.data;if(m in l)return f.splice(l[m],1),this.setData(f),!0},query:function(m,
l){return q(this.queryEngine(m,l)(this.data))},setData:function(m){m.items?(this.idProperty=m.identifier||this.idProperty,m=this.data=m.items):this.data=m;this.index={};for(var l=0,f=m.length;l<f;l++)this.index[m[l][this.idProperty]]=l}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(n,q,r){var m=function(l){function f(f){l[f]=function(){var h=arguments,d=r(l,function(c){Array.prototype.unshift.call(h,c);return m(n[f].apply(n,h))});
if("forEach"!==f||k)return d}}if(!l)return l;var k=!!l.then;k&&(l=q.delegate(l));f("forEach");f("filter");f("map");null==l.total&&(l.total=r(l,function(f){return f.length}));return l};q.setObject("dojo.store.util.QueryResults",m);return m})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(n){return function(q,r){function m(f){f=n.filter(f,q);var k=r&&r.sort;k&&f.sort("function"==typeof k?k:function(f,d){for(var c,a=0;c=k[a];a++){var b=f[c.attribute],e=d[c.attribute],
b=null!=b?b.valueOf():b,e=null!=e?e.valueOf():e;if(b!=e)return!!c.descending==(null==b||b>e)?-1:1}return 0});if(r&&(r.start||r.count)){var g=f.length;f=f.slice(r.start||0,(r.start||0)+(r.count||Infinity));f.total=g}return f}switch(typeof q){default:throw Error("Can not query with a "+typeof q);case "object":case "undefined":var l=q;q=function(f){for(var k in l){var g=l[k];if(g&&g.test){if(!g.test(f[k],f))return!1}else if(g!=f[k])return!1}return!0};break;case "string":if(!this[q])throw Error("No filter function "+
q+" was found in store");q=this[q];case "function":}m.matches=q;return m}})},"dojox/html/metrics":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/sniff dojo/ready dojo/_base/unload dojo/_base/window dojo/dom-geometry".split(" "),function(n,q,r,m,l,f,k){var g=q.getObject("dojox.html.metrics",!0),h=q.getObject("dojox");g.getFontMeasurements=function(){var a={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},b;r("ie")&&
(b=f.doc.documentElement.style.fontSize||"",b||(f.doc.documentElement.style.fontSize="100%"));var e=f.doc.createElement("div"),c=e.style;c.position="absolute";c.left="-100px";c.top="0";c.width="30px";c.height="1000em";c.borderWidth="0";c.margin="0";c.padding="0";c.outline="0";c.lineHeight="1";c.overflow="hidden";f.body().appendChild(e);for(var d in a)c.fontSize=d,a[d]=16*Math.round(12*e.offsetHeight/16)/12/1E3;r("ie")&&(f.doc.documentElement.style.fontSize=b);f.body().removeChild(e);return a};var d=
null;g.getCachedFontMeasurements=function(a){if(a||!d)d=g.getFontMeasurements();return d};var c=null,a={};g.getTextBox=function(b,e,d){var h,g;if(c)h=c;else{h=c=f.doc.createElement("div");var l=f.doc.createElement("div");l.appendChild(h);g=l.style;g.overflow="scroll";g.position="absolute";g.left="0px";g.top="-10000px";g.width="1px";g.height="1px";g.visibility="hidden";g.borderWidth="0";g.margin="0";g.padding="0";g.outline="0";f.body().appendChild(l)}h.className="";g=h.style;g.borderWidth="0";g.margin=
"0";g.padding="0";g.outline="0";if(1<arguments.length&&e)for(var m in e)m in a||(g[m]=e[m]);2<arguments.length&&d&&(h.className=d);h.innerHTML=b;g=k.position(h);g.w=h.parentNode.scrollWidth;return g};var b=16,e=16;g.getScrollbar=function(){return{w:b,h:e}};g._fontResizeNode=null;g.initOnFontResize=function(a){var b=g._fontResizeNode=f.doc.createElement("iframe");a=b.style;a.position="absolute";a.width="5em";a.height="10em";a.top="-10000px";a.display="none";r("ie")?b.onreadystatechange=function(){"complete"==
b.contentWindow.document.readyState&&(b.onresize=b.contentWindow.parent[h._scopeName].html.metrics._fontresize)}:b.onload=function(){b.contentWindow.onresize=b.contentWindow.parent[h._scopeName].html.metrics._fontresize};b.setAttribute("src","javascript:'\x3chtml\x3e\x3chead\x3e\x3cscript\x3eif(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}\x3c/script\x3e\x3c/head\x3e\x3cbody\x3e\x3c/body\x3e\x3c/html\x3e'");f.body().appendChild(b);g.initOnFontResize=function(){}};g.onFontResize=
function(){};g._fontresize=function(){g.onFontResize()};l.addOnUnload(function(){var a=g._fontResizeNode;a&&(r("ie")&&a.onresize?a.onresize=null:a.contentWindow&&a.contentWindow.onresize&&(a.contentWindow.onresize=null),g._fontResizeNode=null)});m(function(){try{var a=f.doc.createElement("div");a.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";f.body().appendChild(a);b=a.offsetWidth-a.clientWidth;e=a.offsetHeight-a.clientHeight;f.body().removeChild(a);
delete a}catch(c){}"fontSizeWatch"in n.config&&n.config.fontSizeWatch&&g.initOnFontResize()});return g})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(n,q,r,m,l){var f=0,k=[],g=0;q=function(){f=1;n._postLoad=n.config.afterOnLoad=!0;h()};var h=function(){if(!g){for(g=1;f&&(!m||0==m._Q.length)&&(r.idle?r.idle():1)&&k.length;){var a=k.shift();try{a()}catch(b){if(b.info=b.message,r.signal)r.signal("error",b);else throw b;}}g=0}};r.on&&r.on("idle",
h);m&&(m._onQEmpty=h);var d=n.ready=n.addOnLoad=function(a,b,e){var c=l._toArray(arguments);"number"!=typeof a?(e=b,b=a,a=1E3):c.shift();e=e?l.hitch.apply(n,c):function(){b()};e.priority=a;for(c=0;c<k.length&&a>=k[c].priority;c++);k.splice(c,0,e);h()},c=n.config.addOnLoad;if(c)d[l.isArray(c)?"apply":"call"](n,c);n.config.parseOnLoad&&!n.isAsync&&d(99,function(){n.parser||(n.deprecated("Add explicit require(['dojo/parser']);","","2.0"),r(["dojo/parser"]))});m?m(q):q();return d})},"dojo/domReady":function(){define(["./has"],
function(n){function q(a){h.push(a);g&&r()}function r(){if(!d){for(d=!0;h.length;)try{h.shift()(l)}catch(a){console.error(a,"in domReady callback",a.stack)}d=!1;q._onQEmpty()}}var m=function(){return this}(),l=document,f={loaded:1,complete:1},k="string"!=typeof l.readyState,g=!!f[l.readyState],h=[],d;q.load=function(a,b,e){q(e)};q._Q=h;q._onQEmpty=function(){};k&&(l.readyState="loading");if(!g){var c=[],a=function(a){a=a||m.event;g||"readystatechange"==a.type&&!f[l.readyState]||(k&&(l.readyState=
"complete"),g=1,r())},b=function(b,e){b.addEventListener(e,a,!1);h.push(function(){b.removeEventListener(e,a,!1)})};if(!n("dom-addeventlistener")){var b=function(b,e){e="on"+e;b.attachEvent(e,a);h.push(function(){b.detachEvent(e,a)})},e=l.createElement("div");try{e.doScroll&&null===m.frameElement&&c.push(function(){try{return e.doScroll("left"),1}catch(a){}})}catch(p){}}b(l,"DOMContentLoaded");b(m,"load");"onreadystatechange"in l?b(l,"readystatechange"):k||c.push(function(){return f[l.readyState]});
if(c.length){var s=function(){if(!g){for(var b=c.length;b--;)if(c[b]()){a("poller");return}setTimeout(s,30)}};s()}}return q})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(n,q,r){var m=window,l={addOnWindowUnload:function(f,k){n.windowUnloaded||r(m,"unload",n.windowUnloaded=function(){});r(m,"unload",q.hitch(f,k))},addOnUnload:function(f,k){r(m,"beforeunload",q.hitch(f,k))}};n.addOnWindowUnload=l.addOnWindowUnload;n.addOnUnload=l.addOnUnload;return l})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable dojo/has!dojo-bidi?./_BidiMixin ./registry".split(" "),
function(n,q,r,m,l,f,k,g,h,d,c,a,b,e,p,s,t,x,B,v,y,A,u){function w(a){return function(b){g[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}b.add("dijit-legacy-requires",!e.isAsync);b.add("dojo-bidi",!1);b("dijit-legacy-requires")&&t(0,function(){n(["dijit/_base/manager"])});var z={};m=f("dijit._WidgetBase",[x,y],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:w("lang"),dir:"",_setDirAttr:w("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",
baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:m.blankGif||n.toUrl("dojo/resources/blank.gif"),_introspect:function(){var a=this.constructor;if(!a._setterAttrs){var b=a.prototype,e=a._setterAttrs=[],a=a._onMap={},c;for(c in b.attributeMap)e.push(c);for(c in b)/^on/.test(c)&&(a[c.substring(2).toLowerCase()]=c),/^_set[A-Z](.*)Attr$/.test(c)&&(c=c.charAt(4).toLowerCase()+c.substr(5,
c.length-9),(!b.attributeMap||!(c in b.attributeMap))&&e.push(c))}},postscript:function(a,b){this.create(a,b)},create:function(a,b){this._introspect();this.srcNodeRef=k.byId(b);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);a&&(this.params=a,p.mixin(this,a));this.postMixInProperties();this.id||(this.id=u.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||
(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=v.body(this.ownerDocument);u.add(this);this.buildRendering();var e;if(this.domNode){this._applyAttributes();var c=this.srcNodeRef;c&&(c.parentNode&&this.domNode!==c)&&(c.parentNode.replaceChild(this.domNode,c),e=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();e&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a={},b;for(b in this.params||{})a[b]=this._get(b);q.forEach(this.constructor._setterAttrs,
function(b){if(!(b in a)){var e=this._get(b);e&&this.set(b,e)}},this);for(b in a)this.set(b,a[b])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(q.map(a,function(a){return a+"Rtl"})));h.add(this.domNode,a)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,q.forEach(this.getChildren(),function(a){!a._started&&
(!a._destroyed&&p.isFunction(a.startup))&&(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function b(e){e.destroyRecursive?e.destroyRecursive(a):e.destroy&&e.destroy(a)}this._beingDestroyed=!0;this.uninitialize();q.forEach(this._connects,p.hitch(this,"disconnect"));q.forEach(this._supportingWidgets,b);this.domNode&&q.forEach(u.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);
u.remove(this.id);this._destroyed=!0},destroyRendering:function(a){this.bgIframe&&(this.bgIframe.destroy(a),delete this.bgIframe);this.domNode&&(a?g.remove(this.domNode,"widgetId"):d.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(a||d.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){q.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(b){var e=this.domNode;p.isObject(b)?
a.set(e,b):e.style.cssText=e.style.cssText?e.style.cssText+("; "+b):b;this._set("style",b)},_attrToDom:function(a,b,e){e=3<=arguments.length?e:this.attributeMap[a];q.forEach(p.isArray(e)?e:[e],function(e){var c=this[e.node||e||"domNode"];switch(e.type||"attribute"){case "attribute":p.isFunction(b)&&(b=p.hitch(this,b));e=e.attribute?e.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;c.tagName?g.set(c,e,b):c.set(e,b);break;case "innerText":c.innerHTML="";c.appendChild(this.ownerDocument.createTextNode(b));
break;case "innerHTML":c.innerHTML=b;break;case "class":h.replace(c,b,this[a])}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?this[b.g]():this._get(a)},set:function(a,b){if("object"===typeof a){for(var e in a)this.set(e,a[e]);return this}e=this._getAttrNames(a);var c=this[e.s];if(p.isFunction(c))var d=c.apply(this,Array.prototype.slice.call(arguments,1));else{var c=this.focusNode&&!p.isFunction(this.focusNode)?"focusNode":"domNode",s=this[c]&&this[c].tagName,f;if(f=s)if(!(f=
z[s])){f=this[c];var t={},h;for(h in f)t[h.toLowerCase()]=!0;f=z[s]=t}h=f;e=a in this.attributeMap?this.attributeMap[a]:e.s in this?this[e.s]:h&&e.l in h&&"function"!=typeof b||/^aria-|^data-|^role$/.test(a)?c:null;null!=e&&this._attrToDom(a,b,e);this._set(a,b)}return d||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var e=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+e+"Attr",
g:"_get"+e+"Attr",l:e.toLowerCase()}},_set:function(a,b){var e=this[a];this[a]=b;if(this._created&&!(e===b||e!==e&&b!==b))this._watchCallbacks&&this._watchCallbacks(a,e,b),this.emit("attrmodified-"+a,{detail:{prevValue:e,newValue:b}})},_get:function(a){return this[a]},emit:function(a,b,e){b=b||{};void 0===b.bubbles&&(b.bubbles=!0);void 0===b.cancelable&&(b.cancelable=!0);b.detail||(b.detail={});b.detail.widget=this;var c,d=this["on"+a];d&&(c=d.apply(this,e?e:[b]));this._started&&!this._beingDestroyed&&
s.emit(this.domNode,a.toLowerCase(),b);return c},on:function(a,b){var e=this._onMap(a);return e?r.after(this,e,b,!0):this.own(s(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,e=b._onMap;if(!e){var e=b._onMap={},c;for(c in b.prototype)/^on/.test(c)&&(e[c.replace(/^on/,"").toLowerCase()]=c)}return e["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?u.findWidgets(this.containerNode):
[]},getParent:function(){return u.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,b,e){return this.own(l.connect(a,b,this,e))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(B.subscribe(a,p.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir:c.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=a.get(this.domNode,"display")},placeAt:function(a,b){var e=!a.tagName&&
u.byId(a);e&&e.addChild&&(!b||"number"===typeof b)?e.addChild(this,b):(e=e&&"domNode"in e?e.containerNode&&!/after|before|replace/.test(b||"")?e.containerNode:e.domNode:k.byId(a,this.ownerDocument),d.place(this.domNode,e,b),!this._started&&(this.getParent()||{})._started&&this.startup());return this},defer:function(a,b){var e=setTimeout(p.hitch(this,function(){e&&(e=null,this._destroyed||p.hitch(this,a)())}),b||0);return{remove:function(){e&&(clearTimeout(e),e=null);return null}}}});b("dojo-bidi")&&
m.extend(A);return m})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),function(n,q,r,m,l,f,k,g){function h(a,b,c,d,p){d=g.hitch(c,d);if(!a||!a.addEventListener&&!a.attachEvent)return m.after(a||n.global,b,d,!0);"string"==typeof b&&"on"==b.substring(0,2)&&(b=b.substring(2));a||(a=n.global);if(!p)switch(b){case "keypress":b=e;break;case "mouseenter":b=f.enter;break;case "mouseleave":b=f.leave}return q(a,b,d,p)}function d(a){a.keyChar=
a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}k.add("events-keypress-typed",function(){var a={charCode:0};try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(b){}return 0==a.charCode&&!k("opera")});var c={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},a=k("mac")?"metaKey":"ctrlKey",b=function(a,b){var e=g.mixin({},a,b);d(e);e.preventDefault=
function(){a.preventDefault()};e.stopPropagation=function(){a.stopPropagation()};return e},e;e=k("events-keypress-typed")?function(a,e){var d=q(a,"keydown",function(a){var d=a.keyCode,p=13!=d&&32!=d&&(27!=d||!k("ie"))&&(48>d||90<d)&&(96>d||111<d)&&(186>d||192<d)&&(219>d||222<d)&&229!=d;if(p||a.ctrlKey){p=p?0:d;if(a.ctrlKey){if(3==d||13==d)return e.call(a.currentTarget,a);p=95<p&&106>p?p-48:!a.shiftKey&&65<=p&&90>=p?p+32:c[p]||p}d=b(a,{type:"keypress",faux:!0,charCode:p});e.call(a.currentTarget,d);
if(k("ie"))try{a.keyCode=d.keyCode}catch(s){}}}),p=q(a,"keypress",function(a){var c=a.charCode;a=b(a,{charCode:32<=c?c:0,faux:!0});return e.call(this,a)});return{remove:function(){d.remove();p.remove()}}}:k("opera")?function(a,e){return q(a,"keypress",function(a){var c=a.which;3==c&&(c=99);c=32>c&&!a.shiftKey?0:c;a.ctrlKey&&(!a.shiftKey&&65<=c&&90>=c)&&(c+=32);return e.call(this,b(a,{charCode:c}))})}:function(a,b){return q(a,"keypress",function(a){d(a);return b.call(this,a)})};var p={_keypress:e,
connect:function(a,b,e,c,d){var p=arguments,f=[],k=0;f.push("string"==typeof p[0]?null:p[k++],p[k++]);var g=p[k+1];f.push("string"==typeof g||"function"==typeof g?p[k++]:null,p[k++]);for(g=p.length;k<g;k++)f.push(p[k]);return h.apply(this,f)},disconnect:function(a){a&&a.remove()},subscribe:function(a,b,e){return r.subscribe(a,g.hitch(b,e))},publish:function(a,b){return r.publish.apply(r,[a].concat(b))},connectPublisher:function(a,b,e){var c=function(){p.publish(a,arguments)};return e?p.connect(b,
e,c):p.connect(b,c)},isCopyKey:function(b){return b[a]}};p.unsubscribe=p.disconnect;g.mixin(n,p);return p})},"dojo/topic":function(){define(["./Evented"],function(n){var q=new n;return{publish:function(n,m){return q.emit.apply(q,arguments)},subscribe:function(n,m){return q.on.apply(q,arguments)}}})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(n,q,r,m){if(q._fixEvent){var l=q._fixEvent;q._fixEvent=function(f,g){(f=l(f,g))&&m.normalizeEvent(f);return f}}var f=
{fix:function(f,g){return q._fixEvent?q._fixEvent(f,g):f},stop:function(f){r("dom-addeventlistener")||f&&f.preventDefault?(f.preventDefault(),f.stopPropagation()):(f=f||window.event,f.cancelBubble=!0,q._preventDefault.call(f))}};n.fixEvent=f.fix;n.stopEvent=f.stop;return f})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(n,q,r,m,l){function f(k,g){var h=function(d,c){return q(d,k,function(a){if(g)return g(a,c);if(!m.isDescendant(a.relatedTarget,
d))return c.call(this,a)})};h.bubble=function(d){return f(k,function(c,a){var b=d(c.target),e=c.relatedTarget;if(b&&b!=(e&&1==e.nodeType&&d(e)))return a.call(b,c)})};return h}r.add("dom-quirks",l.doc&&"BackCompat"==l.doc.compatMode);r.add("events-mouseenter",l.doc&&"onmouseenter"in l.doc.createElement("div"));r.add("events-mousewheel",l.doc&&"onmousewheel"in l.doc);l=r("dom-quirks")&&r("ie")||!r("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(f,g){return f.button&g},isLeft:function(f){return f.button&
1},isMiddle:function(f){return f.button&4},isRight:function(f){return f.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(f,g){return f.button==g},isLeft:function(f){return 0==f.button},isMiddle:function(f){return 1==f.button},isRight:function(f){return 2==f.button}};n.mouseButtons=l;n=r("events-mousewheel")?"mousewheel":function(f,g){return q(f,"DOMMouseScroll",function(f){f.wheelDelta=-f.detail;g.call(this,f)})};return{_eventHandler:f,enter:f("mouseover"),leave:f("mouseout"),wheel:n,isLeft:l.isLeft,
isMiddle:l.isMiddle,isRight:l.isRight}})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(n,q){return n.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:q("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,
NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:q("mac")&&!q("air")?q("safari")?91:224:17}})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),function(n,
q,r,m,l,f){function k(d,c){var a=d.getAttributeNode&&d.getAttributeNode(c);return a&&a.specified}var g={innerHTML:1,textContent:1,className:1,htmlFor:q("ie"),value:1},h={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};n.has=function(d,c){var a=c.toLowerCase();return g[f.names[a]||c]||k(m.byId(d),h[a]||c)};n.get=function(d,c){d=m.byId(d);var a=c.toLowerCase(),b=f.names[a]||c,e=d[b];if(g[b]&&"undefined"!=typeof e)return e;if("textContent"==b)return f.get(d,b);if("href"!=b&&
("boolean"==typeof e||r.isFunction(e)))return e;a=h[a]||c;return k(d,a)?d.getAttribute(a):null};n.set=function(d,c,a){d=m.byId(d);if(2==arguments.length){for(var b in c)n.set(d,b,c[b]);return d}b=c.toLowerCase();var e=f.names[b]||c,p=g[e];if("style"==e&&"string"!=typeof a)return l.set(d,a),d;if(p||"boolean"==typeof a||r.isFunction(a))return f.set(d,c,a);d.setAttribute(h[b]||c,a);return d};n.remove=function(d,c){m.byId(d).removeAttribute(h[c.toLowerCase()]||c)};n.getNodeProp=function(d,c){d=m.byId(d);
var a=c.toLowerCase(),b=f.names[a]||c;if(b in d&&"href"!=b)return d[b];a=h[a]||c;return k(d,a)?d.getAttribute(a):null}})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(n,q,r,m,l,f,k,g){function h(a){var e="";a=a.childNodes;for(var c=0,d;d=a[c];c++)8!=d.nodeType&&(e=1==d.nodeType?e+h(d):e+d.nodeValue);return e}var d={},c=0,a=q._scopeName+"attrid";r.add("dom-textContent",function(a,e,c){return"textContent"in
c});n.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};n.get=function(a,e){a=l.byId(a);var c=e.toLowerCase(),c=n.names[c]||e;return"textContent"==c&&!r("dom-textContent")?h(a):a[c]};n.set=function(b,e,p){b=l.byId(b);if(2==arguments.length&&"string"!=typeof e){for(var s in e)n.set(b,s,e[s]);return b}s=e.toLowerCase();s=n.names[s]||e;if("style"==s&&"string"!=
typeof p)return f.set(b,p),b;if("innerHTML"==s)return r("ie")&&b.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(k.empty(b),b.appendChild(k.toDom(p,b.ownerDocument))):b[s]=p,b;if("textContent"==s&&!r("dom-textContent"))return k.empty(b),b.appendChild(b.ownerDocument.createTextNode(p)),b;if(m.isFunction(p)){var h=b[a];h||(h=c++,b[a]=h);d[h]||(d[h]={});var x=d[h][s];if(x)g.disconnect(x);else try{delete b[s]}catch(q){}p?d[h][s]=g.connect(b,s,p):b[s]=null;return b}b[s]=
p;return b}})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(n,q,r,m,l,f){function k(a,b){var e=b.parentNode;e&&e.insertBefore(a,b)}function g(a){if("innerHTML"in a)try{a.innerHTML="";return}catch(b){}for(var e;e=a.lastChild;)a.removeChild(e)}var h={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],
colgroup:["table"],col:["table","colgroup"],li:["ul"]},d=/<\s*([\w\:]+)/,c={},a=0,b="__"+q._scopeName+"ToDomId",e;for(e in h)h.hasOwnProperty(e)&&(q=h[e],q.pre="option"==e?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+q.join("\x3e\x3c")+"\x3e",q.post="\x3c/"+q.reverse().join("\x3e\x3c/")+"\x3e");var p;8>=r("ie")&&(p=function(a){a.__dojo_html5_tested="yes";var b=s("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},a.body);1!==b.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,
function(b){a.createElement(b)});t(b)});n.toDom=function(e,s){s=s||m.doc;var f=s[b];f||(s[b]=f=++a+"",c[f]=s.createElement("div"));8>=r("ie")&&!s.__dojo_html5_tested&&s.body&&p(s);e+="";var g=e.match(d),t=g?g[1].toLowerCase():"",f=c[f];if(g&&h[t]){g=h[t];f.innerHTML=g.pre+e+g.post;for(g=g.length;g;--g)f=f.firstChild}else f.innerHTML=e;if(1==f.childNodes.length)return f.removeChild(f.firstChild);for(t=s.createDocumentFragment();g=f.firstChild;)t.appendChild(g);return t};n.place=function(a,b,e){b=l.byId(b);
"string"==typeof a&&(a=/^\s*</.test(a)?n.toDom(a,b.ownerDocument):l.byId(a));if("number"==typeof e){var c=b.childNodes;!c.length||c.length<=e?b.appendChild(a):k(a,c[0>e?0:e])}else switch(e){case "before":k(a,b);break;case "after":e=a;(c=b.parentNode)&&(c.lastChild==b?c.appendChild(e):c.insertBefore(e,b.nextSibling));break;case "replace":b.parentNode.replaceChild(a,b);break;case "only":n.empty(b);b.appendChild(a);break;case "first":if(b.firstChild){k(a,b.firstChild);break}default:b.appendChild(a)}return a};
var s=n.create=function(a,b,e,c){var d=m.doc;e&&(e=l.byId(e),d=e.ownerDocument);"string"==typeof a&&(a=d.createElement(a));b&&f.set(a,b);e&&n.place(a,e,c);return a};n.empty=function(a){g(l.byId(a))};var t=n.destroy=function(a){if(a=l.byId(a)){var b=a;a=a.parentNode;b.firstChild&&g(b);a&&(r("ie")&&a.canHaveChildren&&"removeNode"in b?b.removeNode(!1):a.removeChild(b))}}})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(n,q,r,m){return n("dojo.Stateful",
null,{_attrPairNames:{},_getAttrNames:function(l){var f=this._attrPairNames;return f[l]?f[l]:f[l]={s:"_"+l+"Setter",g:"_"+l+"Getter"}},postscript:function(l){l&&this.set(l)},_get:function(l,f){return"function"===typeof this[f.g]?this[f.g]():this[l]},get:function(l){return this._get(l,this._getAttrNames(l))},set:function(l,f){if("object"===typeof l){for(var k in l)l.hasOwnProperty(k)&&"_watchCallbacks"!=k&&this.set(k,l[k]);return this}k=this._getAttrNames(l);var g=this._get(l,k);k=this[k.s];var h;
"function"===typeof k?h=k.apply(this,Array.prototype.slice.call(arguments,1)):this[l]=f;if(this._watchCallbacks){var d=this;m(h,function(){d._watchCallbacks(l,g,f)})}return this},_changeAttrValue:function(l,f){var k=this.get(l);this[l]=f;this._watchCallbacks&&this._watchCallbacks(l,k,f);return this},watch:function(l,f){var k=this._watchCallbacks;if(!k)var g=this,k=this._watchCallbacks=function(c,a,b,e){var d=function(e){if(e){e=e.slice();for(var d=0,p=e.length;d<p;d++)e[d].call(g,c,a,b)}};d(k["_"+
c]);e||d(k["*"])};!f&&"function"===typeof l?(f=l,l="*"):l="_"+l;var h=k[l];"object"!==typeof h&&(h=k[l]=[]);h.push(f);var d={};d.unwatch=d.remove=function(){var c=r.indexOf(h,f);-1<c&&h.splice(c,1)};return d}})})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(n,q,r){return r("dijit.Destroyable",null,{destroy:function(m){this._destroyed=!0},own:function(){var m=["destroyRecursive","destroy","remove"];n.forEach(arguments,function(l){function f(){g.remove();
n.forEach(h,function(d){d.remove()})}var k,g=q.before(this,"destroy",function(d){l[k](d)}),h=[];l.then?(k="cancel",l.then(f,f)):n.forEach(m,function(d){"function"===typeof l[d]&&(k||(k=d),h.push(q.after(l,d,f,!0)))})},this);return arguments}})})},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(n,q,r){var m={},l={},f={length:0,add:function(f){if(l[f.id])throw Error("Tried to register widget with id\x3d\x3d"+f.id+" but that id is already registered");l[f.id]=
f;this.length++},remove:function(f){l[f]&&(delete l[f],this.length--)},byId:function(f){return"string"==typeof f?l[f]:f},byNode:function(f){return l[f.getAttribute("widgetId")]},toArray:function(){var f=[],g;for(g in l)f.push(l[g]);return f},getUniqueId:function(f){var g;do g=f+"_"+(f in m?++m[f]:m[f]=0);while(l[g]);return"dijit"==r._scopeName?g:r._scopeName+"_"+g},findWidgets:function(f,g){function h(c){for(c=c.firstChild;c;c=c.nextSibling)if(1==c.nodeType){var a=c.getAttribute("widgetId");a?(a=
l[a])&&d.push(a):c!==g&&h(c)}}var d=[];h(f);return d},_destroyAll:function(){r._curFocus=null;r._prevFocus=null;r._activeStack=[];n.forEach(f.findWidgets(q.body()),function(f){f._destroyed||(f.destroyRecursive?f.destroyRecursive():f.destroy&&f.destroy())})},getEnclosingWidget:function(f){for(;f;){var g=1==f.nodeType&&f.getAttribute("widgetId");if(g)return l[g];f=f.parentNode}return null},_hash:l};return r.registry=f})},"dijit/main":function(){define(["dojo/_base/kernel"],function(n){return n.dijit})},
"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(n,q,r,m){m.extend(q,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return r("dijit._FocusMixin",null,{_focusManager:n})})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),
function(n,q,r,m,l,f,k,g,h,d,c,a,b,e,p,s,t){var x,B,v=new (q([a,k],{curNode:null,activeStack:[],constructor:function(){var a=g.hitch(this,function(a){r.isDescendant(this.curNode,a)&&this.set("curNode",null);r.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});n.before(f,"empty",a);n.before(f,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,b){var e=this,d=a.document&&a.document.body;if(d){var f=c("pointer-events")?"pointerdown":c("MSPointer")?
"MSPointerDown":c("touch-events")?"mousedown, touchstart":"mousedown",s=h(a.document,f,function(a){if(!a||!(a.target&&null==a.target.parentNode))e._onTouchNode(b||a.target,"mouse")}),g=h(d,"focusin",function(a){if(a.target.tagName){var c=a.target.tagName.toLowerCase();"#document"==c||"body"==c||(p.isFocusable(a.target)?e._onFocusNode(b||a.target):e._onTouchNode(b||a.target))}}),t=h(d,"focusout",function(a){e._onBlurNode(b||a.target)});return{remove:function(){s.remove();g.remove();t.remove();d=s=
g=t=null}}}},_onBlurNode:function(a){a=(new Date).getTime();a<x+100||(this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),this._clearFocusTimer=setTimeout(g.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),a<B+100||(this._clearActiveWidgetsTimer=setTimeout(g.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)))},_onTouchNode:function(a,c){B=(new Date).getTime();
this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);l.contains(a,"dijitPopup")&&(a=a.firstChild);var d=[];try{for(;a;){var p=m.get(a,"dijitPopupParent");if(p)a=s.byId(p).domNode;else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===b.body())break;a=e.get(a.ownerDocument).frameElement}else{var f=a.getAttribute&&a.getAttribute("widgetId"),h=f&&s.byId(f);h&&!("mouse"==c&&h.get("disabled"))&&d.unshift(f);a=a.parentNode}}}catch(g){}this._setStack(d,
c)},_onFocusNode:function(a){a&&9!=a.nodeType&&(x=(new Date).getTime(),this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,b){var e=this.activeStack,c=e.length-1,d=a.length-1;if(a[d]!=e[c]){this.set("activeStack",a);var p;for(p=c;0<=p&&e[p]!=a[p];p--)if(c=s.byId(e[p]))c._hasBeenBlurred=!0,c.set("focused",!1),c._focusManager==this&&c._onBlur(b),
this.emit("widget-blur",c,b);for(p++;p<=d;p++)if(c=s.byId(a[p]))c.set("focused",!0),c._focusManager==this&&c._onFocus(b),this.emit("widget-focus",c,b)}},focus:function(a){if(a)try{a.focus()}catch(b){}}}));d(function(){var a=v.registerWin(e.get(document));c("ie")&&h(window,"unload",function(){a&&(a.remove(),a=null)})});t.focus=function(a){v.focus(a)};for(var y in v)/^_/.test(y)||(t.focus[y]="function"==typeof v[y]?g.hitch(v,y):v[y]);v.watch(function(a,b,e){t.focus[a]=e});return v})},"dojo/window":function(){define("./_base/lang ./sniff ./_base/window ./dom ./dom-geometry ./dom-style ./dom-construct".split(" "),
function(n,q,r,m,l,f,k){q.add("rtl-adjust-position-for-verticalScrollBar",function(f,d){var c=r.body(d),a=k.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},c,"last"),b=k.create("div",{style:{overflow:"hidden",direction:"ltr"}},a,"last"),e=0!=l.position(b).x;a.removeChild(b);c.removeChild(a);return e});q.add("position-fixed-support",function(f,d){var c=r.body(d),a=k.create("span",{style:{visibility:"hidden",
position:"fixed",left:"1px",top:"1px"}},c,"last"),b=k.create("span",{style:{position:"fixed",left:"0",top:"0"}},a,"last"),e=l.position(b).x!=l.position(a).x;a.removeChild(b);c.removeChild(a);return e});var g={getBox:function(f){f=f||r.doc;var d="BackCompat"==f.compatMode?r.body(f):f.documentElement,c=l.docScroll(f);if(q("touch")){var a=g.get(f);f=a.innerWidth||d.clientWidth;d=a.innerHeight||d.clientHeight}else f=d.clientWidth,d=d.clientHeight;return{l:c.x,t:c.y,w:f,h:d}},get:function(f){if(q("ie")&&
g!==document.parentWindow){f.parentWindow.execScript("document._parentWindow \x3d window;","Javascript");var d=f._parentWindow;f._parentWindow=null;return d}return f.parentWindow||f.defaultView},scrollIntoView:function(h,d){try{h=m.byId(h);var c=h.ownerDocument||r.doc,a=r.body(c),b=c.documentElement||a.parentNode,e=q("ie"),p=q("webkit");if(!(h==a||h==b))if(!q("mozilla")&&(!e&&!p&&!q("opera")&&!q("trident"))&&"scrollIntoView"in h)h.scrollIntoView(!1);else{var s="BackCompat"==c.compatMode,g=Math.min(a.clientWidth||
b.clientWidth,b.clientWidth||a.clientWidth),k=Math.min(a.clientHeight||b.clientHeight,b.clientHeight||a.clientHeight),c=p||s?a:b,n=d||l.position(h),v=h.parentNode,p=function(a){return 6>=e||7==e&&s?!1:q("position-fixed-support")&&"fixed"==f.get(a,"position").toLowerCase()},y=this,A=function(a,b,e){"BODY"==a.tagName||"HTML"==a.tagName?y.get(a.ownerDocument).scrollBy(b,e):(b&&(a.scrollLeft+=b),e&&(a.scrollTop+=e))};if(!p(h))for(;v;){v==a&&(v=c);var u=l.position(v),w=p(v),z="rtl"==f.getComputedStyle(v).direction.toLowerCase();
if(v==c){u.w=g;u.h=k;if(c==b&&(e||q("trident"))&&z)u.x+=c.offsetWidth-u.w;if(0>u.x||!e||9<=e||q("trident"))u.x=0;if(0>u.y||!e||9<=e||q("trident"))u.y=0}else{var D=l.getPadBorderExtents(v);u.w-=D.w;u.h-=D.h;u.x+=D.l;u.y+=D.t;var G=v.clientWidth,H=u.w-G;0<G&&0<H&&(z&&q("rtl-adjust-position-for-verticalScrollBar")&&(u.x+=H),u.w=G);G=v.clientHeight;H=u.h-G;0<G&&0<H&&(u.h=G)}w&&(0>u.y&&(u.h+=u.y,u.y=0),0>u.x&&(u.w+=u.x,u.x=0),u.y+u.h>k&&(u.h=k-u.y),u.x+u.w>g&&(u.w=g-u.x));var F=n.x-u.x,I=n.y-u.y,C=F+n.w-
u.w,J=I+n.h-u.h,K,E;if(0<C*F&&(v.scrollLeft||v==c||v.scrollWidth>v.offsetHeight)){K=Math[0>F?"max":"min"](F,C);if(z&&(8==e&&!s||9<=e||q("trident")))K=-K;E=v.scrollLeft;A(v,K,0);K=v.scrollLeft-E;n.x-=K}if(0<J*I&&(v.scrollTop||v==c||v.scrollHeight>v.offsetHeight))K=Math.ceil(Math[0>I?"max":"min"](I,J)),E=v.scrollTop,A(v,0,K),K=v.scrollTop-E,n.y-=K;v=v!=c&&!w&&v.parentNode}}}catch(M){console.error("scrollIntoView: "+M),h.scrollIntoView(!1)}}};n.setObject("dojo.window",g);return g})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),
function(n,q,r,m,l,f,k){var g={_isElementShown:function(f){var d=m.get(f);return"hidden"!=d.visibility&&"collapsed"!=d.visibility&&"none"!=d.display&&"hidden"!=r.get(f,"type")},hasDefaultTabStop:function(f){switch(f.nodeName.toLowerCase()){case "a":return r.has(f,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var d;try{var c=f.contentDocument;if("designMode"in c&&"on"==c.designMode)return!0;d=c.body}catch(a){try{d=f.contentWindow.document.body}catch(b){return!1}}return d&&
("true"==d.contentEditable||d.firstChild&&"true"==d.firstChild.contentEditable);default:return"true"==f.contentEditable}},effectiveTabIndex:function(f){return r.get(f,"disabled")?void 0:r.has(f,"tabIndex")?+r.get(f,"tabIndex"):g.hasDefaultTabStop(f)?0:void 0},isTabNavigable:function(f){return 0<=g.effectiveTabIndex(f)},isFocusable:function(f){return-1<=g.effectiveTabIndex(f)},_getTabNavigable:function(h){function d(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&
a.name&&a.name.toLowerCase()}var c,a,b,e,p,s,t={},k=g._isElementShown,l=g.effectiveTabIndex,m=function(g){for(g=g.firstChild;g;g=g.nextSibling)if(!(1!=g.nodeType||9>=f("ie")&&"HTML"!==g.scopeName||!k(g))){var h=l(g);if(0<=h){if(0==h)c||(c=g),a=g;else if(0<h){if(!b||h<e)e=h,b=g;if(!p||h>=s)s=h,p=g}h=d(g);r.get(g,"checked")&&h&&(t[h]=g)}"SELECT"!=g.nodeName.toUpperCase()&&m(g)}};k(h)&&m(h);return{first:t[d(c)]||c,last:t[d(a)]||a,lowest:t[d(b)]||b,highest:t[d(p)]||p}},getFirstInTabbingOrder:function(f,
d){var c=g._getTabNavigable(q.byId(f,d));return c.lowest?c.lowest:c.first},getLastInTabbingOrder:function(f,d){var c=g._getTabNavigable(q.byId(f,d));return c.last?c.last:c.highest}};l.mixin(k,g);return g})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),function(n,q,r,m,l,f,k,g){var h=q("dijit._TemplatedMixin",g,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,
_stringRepl:function(d){var c=this.declaredClass,a=this;return k.substitute(d,this,function(b,e){"!"==e.charAt(0)&&(b=m.getObject(e.substr(1),!1,a));if("undefined"==typeof b)throw Error(c+" template:"+e);return null==b?"":"!"==e.charAt(0)?b:this._escapeValue(""+b)},this)},_escapeValue:function(d){return d.replace(/["'<>&]/g,function(c){return{"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}[c]})},buildRendering:function(){if(!this._rendered){this.templateString||
(this.templateString=n(this.templatePath,{sanitize:!0}));var d=h.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),c;if(m.isString(d)){if(c=r.toDom(this._stringRepl(d),this.ownerDocument),1!=c.nodeType)throw Error("Invalid template: "+d);}else c=d.cloneNode(!0);this.domNode=c}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);this._rendered=!0},_fillContent:function(d){var c=this.containerNode;if(d&&c)for(;d.hasChildNodes();)c.appendChild(d.firstChild)}});
h._templateCache={};h.getCachedTemplate=function(d,c,a){var b=h._templateCache,e=d,p=b[e];if(p){try{if(!p.ownerDocument||p.ownerDocument==(a||document))return p}catch(f){}r.destroy(p)}d=k.trim(d);if(c||d.match(/\$\{([^\}]+)\}/g))return b[e]=d;c=r.toDom(d,a);if(1!=c.nodeType)throw Error("Invalid template: "+d);return b[e]=c};f("ie")&&l(window,"unload",function(){var d=h._templateCache,c;for(c in d){var a=d[c];"object"==typeof a&&r.destroy(a);delete d[c]}});return h})},"dojo/cache":function(){define(["./_base/kernel",
"./text"],function(n){return n.cache})},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(n,q,r,m){var l;l=function(d,c,a){m(d,{sync:!!c,headers:{"X-Requested-With":null}}).then(a)};var f={},k=function(d){if(d){d=d.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var c=d.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);c&&(d=c[1])}else d="";return d},g={},h={};n.cache=function(d,c,a){var b;"string"==typeof d?/\//.test(d)?(b=d,a=c):b=q.toUrl(d.replace(/\./g,
"/")+(c?"/"+c:"")):(b=d+"",a=c);d=void 0!=a&&"string"!=typeof a?a.value:a;a=a&&a.sanitize;if("string"==typeof d)return f[b]=d,a?k(d):d;if(null===d)return delete f[b],null;b in f||l(b,!0,function(a){f[b]=a});return a?k(f[b]):f[b]};return{dynamic:!0,normalize:function(d,c){var a=d.split("!"),b=a[0];return(/^\./.test(b)?c(b):b)+(a[1]?"!"+a[1]:"")},load:function(d,c,a){d=d.split("!");var b=1<d.length,e=d[0],p=c.toUrl(d[0]);d="url:"+p;var s=g,t=function(e){a(b?k(e):e)};e in f?s=f[e]:c.cache&&d in c.cache?
s=c.cache[d]:p in f&&(s=f[p]);if(s===g)if(h[p])h[p].push(t);else{var m=h[p]=[t];l(p,!c.async,function(a){f[e]=f[p]=a;for(var b=0;b<m.length;)m[b++](a);delete h[p]})}else t(s)}}})},"dojo/request":function(){define(["./request/default!"],function(n){return n})},"dojo/request/default":function(){define(["exports","require","../has"],function(n,q,r){var m=r("config-requestProvider");m||(m="./xhr");n.getPlatformDefaultId=function(){return"./xhr"};n.load=function(l,f,k,g){q(["platform"==l?"./xhr":m],function(f){k(f)})}})},
"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(n,q){var r=/[&<>'"\/]/g,m={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},l={};q.setObject("dojo.string",l);l.escape=function(f){return!f?"":f.replace(r,function(f){return m[f]})};l.rep=function(f,k){if(0>=k||!f)return"";for(var g=[];;){k&1&&g.push(f);if(!(k>>=1))break;f+=f}return g.join("")};l.pad=function(f,k,g,h){g||(g="0");f=String(f);k=l.rep(g,Math.ceil((k-f.length)/
g.length));return h?f+k:k+f};l.substitute=function(f,k,g,h){h=h||n.global;g=g?q.hitch(h,g):function(d){return d};return f.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(d,c,a){d=q.getObject(c,!1,k);a&&(d=q.getObject(a,!1,h).call(h,d,c));return g(d,c).toString()})};l.trim=String.prototype.trim?q.trim:function(f){f=f.replace(/^\s+/,"");for(var k=f.length-1;0<=k;k--)if(/\S/.test(f.charAt(k))){f=f.substring(0,k+1);break}return f};return l})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),
function(n,q,r,m,l,f,k,g,h){var d=l.delegate(g,{mouseenter:f.enter,mouseleave:f.leave,keypress:r._keypress}),c;r=m("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var b=a;;)if(1==b.nodeType&&(this._processTemplateNode(b,function(a,b){return a.getAttribute(b)},this._attach)||
this.searchContainerNode)&&b.firstChild)b=b.firstChild;else{if(b==a)break;for(;!b.nextSibling;)if(b=b.parentNode,b==a)return;b=b.nextSibling}},_processTemplateNode:function(a,b,e){var c=!0,d=this.attachScope||this,f=b(a,"dojoAttachPoint")||b(a,"data-dojo-attach-point");if(f)for(var g=f.split(/\s*,\s*/);f=g.shift();)l.isArray(d[f])?d[f].push(a):d[f]=a,c="containerNode"!=f,this._attachPoints.push(f);if(b=b(a,"dojoAttachEvent")||b(a,"data-dojo-attach-event")){f=b.split(/\s*,\s*/);for(g=l.trim;b=f.shift();)if(b){var h=
null;-1!=b.indexOf(":")?(h=b.split(":"),b=g(h[0]),h=g(h[1])):b=g(b);h||(h=b);this._attachEvents.push(e(a,b,l.hitch(d,h)))}}return c},_attach:function(a,b,e){b=b.replace(/^on/,"").toLowerCase();b="dijitclick"==b?c||(c=n("./a11yclick")):d[b]||b;return k(a,b,e)},_detachTemplateNodes:function(){var a=this.attachScope||this;q.forEach(this._attachPoints,function(b){delete a[b]});this._attachPoints=[];q.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();
this.inherited(arguments)}});l.extend(h,{dojoAttachEvent:"",dojoAttachPoint:""});return r})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(n,q,r,m,l,f,k,g,h,d){function c(a,b,e){return p&&e?function(a,b){return f(a,e,b)}:t?function(e,c){var d=f(e,b,function(a){c.call(this,a);G=(new Date).getTime()}),p=f(e,a,function(a){(!G||(new Date).getTime()>G+1E3)&&c.call(this,a)});return{remove:function(){d.remove();
p.remove()}}}:function(b,e){return f(b,a,e)}}function a(a){do if(void 0!==a.dojoClick)return a;while(a=a.parentNode)}function b(b,e,c){var p=a(b.target);if(B=!b.target.disabled&&p&&p.dojoClick)if(y=(v="useTarget"==B)?p:b.target,v&&b.preventDefault(),A=b.changedTouches?b.changedTouches[0].pageX-d.global.pageXOffset:b.clientX,u=b.changedTouches?b.changedTouches[0].pageY-d.global.pageYOffset:b.clientY,w=("object"==typeof B?B.x:"number"==typeof B?B:0)||4,z=("object"==typeof B?B.y:"number"==typeof B?B:
0)||4,!x){x=!0;var s=function(a){B=v?r.isDescendant(d.doc.elementFromPoint(a.changedTouches?a.changedTouches[0].pageX-d.global.pageXOffset:a.clientX,a.changedTouches?a.changedTouches[0].pageY-d.global.pageYOffset:a.clientY),y):B&&(a.changedTouches?a.changedTouches[0].target:a.target)==y&&Math.abs((a.changedTouches?a.changedTouches[0].pageX-d.global.pageXOffset:a.clientX)-A)<=w&&Math.abs((a.changedTouches?a.changedTouches[0].pageY-d.global.pageYOffset:a.clientY)-u)<=z};d.doc.addEventListener(e,function(a){s(a);
v&&a.preventDefault()},!0);d.doc.addEventListener(c,function(a){s(a);if(B){D=(new Date).getTime();var b=v?y:a.target;"LABEL"===b.tagName&&(b=r.byId(b.getAttribute("for"))||b);var e=a.changedTouches?a.changedTouches[0]:a,c=document.createEvent("MouseEvents");c._dojo_click=!0;c.initMouseEvent("click",!0,!0,a.view,a.detail,e.screenX,e.screenY,e.clientX,e.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null);setTimeout(function(){f.emit(b,"click",c);D=(new Date).getTime()},0)}},!0);b=function(a){d.doc.addEventListener(a,
function(b){!b._dojo_click&&((new Date).getTime()<=D+1E3&&!("INPUT"==b.target.tagName&&m.contains(b.target,"dijitOffScreen")))&&(b.stopPropagation(),b.stopImmediatePropagation&&b.stopImmediatePropagation(),"click"==a&&(("INPUT"!=b.target.tagName||"radio"==b.target.type||"checkbox"==b.target.type)&&"TEXTAREA"!=b.target.tagName&&"AUDIO"!=b.target.tagName&&"VIDEO"!=b.target.tagName)&&b.preventDefault())},!0)};b("click");b("mousedown");b("mouseup")}}var e=5>k("ios"),p=k("pointer-events")||k("MSPointer"),
s=function(){var a={},b;for(b in{down:1,move:1,up:1,cancel:1,over:1,out:1})a[b]=k("MSPointer")?"MSPointer"+b.charAt(0).toUpperCase()+b.slice(1):"pointer"+b;return a}(),t=k("touch-events"),x,B,v=!1,y,A,u,w,z,D,G,H;p?h(function(){d.doc.addEventListener(s.down,function(a){b(a,s.move,s.up)},!0)}):t&&h(function(){function a(b){var e=l.delegate(b,{bubbles:!0});6<=k("ios")&&(e.touches=b.touches,e.altKey=b.altKey,e.changedTouches=b.changedTouches,e.ctrlKey=b.ctrlKey,e.metaKey=b.metaKey,e.shiftKey=b.shiftKey,
e.targetTouches=b.targetTouches);return e}H=d.body();d.doc.addEventListener("touchstart",function(a){G=(new Date).getTime();var e=H;H=a.target;f.emit(e,"dojotouchout",{relatedTarget:H,bubbles:!0});f.emit(H,"dojotouchover",{relatedTarget:e,bubbles:!0});b(a,"touchmove","touchend")},!0);f(d.doc,"touchmove",function(b){G=(new Date).getTime();var c=d.doc.elementFromPoint(b.pageX-(e?0:d.global.pageXOffset),b.pageY-(e?0:d.global.pageYOffset));c&&(H!==c&&(f.emit(H,"dojotouchout",{relatedTarget:c,bubbles:!0}),
f.emit(c,"dojotouchover",{relatedTarget:H,bubbles:!0}),H=c),f.emit(c,"dojotouchmove",a(b))||b.preventDefault())});f(d.doc,"touchend",function(b){G=(new Date).getTime();var c=d.doc.elementFromPoint(b.pageX-(e?0:d.global.pageXOffset),b.pageY-(e?0:d.global.pageYOffset))||d.body();f.emit(c,"dojotouchend",a(b))})});q={press:c("mousedown","touchstart",s.down),move:c("mousemove","dojotouchmove",s.move),release:c("mouseup","dojotouchend",s.up),cancel:c(g.leave,"touchcancel",p?s.cancel:null),over:c("mouseover",
"dojotouchover",s.over),out:c("mouseout","dojotouchout",s.out),enter:g._eventHandler(c("mouseover","dojotouchover",s.over)),leave:g._eventHandler(c("mouseout","dojotouchout",s.out))};return n.touch=q})},"gridx/core/Core":function(){define("require dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/Deferred dojo/DeferredList dojo/store/Memory ./model/cache/Async ./model/Model ./Row ./Column ./Cell ./_Module".split(" "),function(n,q,r,m,l,f,k,g,h,d,c,a,b){function e(a){var b={},e,c,d;if(m.isArray(a)){c=
0;for(d=a.length;c<d;++c)e=a[c],e.index=c,e.id=e.id||String(c+1),b[e.id]=e}return b}function p(a,b){if(b)for(var e in b){var c=a[e],d=b[e];c&&m.isObject(c)&&!w(c)?p(c,d):a[e]=d}}function s(a){var b=a.modules,e=b.length,c=[],d,p;for(d=0;d<e;++d){p=b[d];if(z(p))try{p=n(p)}catch(f){console.error(f)}m.isArray(p)?c=c.concat(p):c.push(p)}b=[];e=c.length;for(d=0;d<e;++d){p=c[d];w(p)&&(p={moduleClass:p});if(p){var s=p.moduleClass;if(z(s))try{s=p.moduleClass=n(s)}catch(g){console.error(g)}if(w(s)){b.push(p);
continue}}console.error("The "+(d+1-a.coreModules.length)+"-th declared module can NOT be found, please require it before using it:",p)}a.modules=b}function t(a){var e=b._modules;a=a.modules;var c,d,p,f,s,g,h;for(c=0;c<a.length;++c){f=a[c].moduleClass.prototype;s=(f.forced||[]).concat(f.required||[]);for(d=0;d<s.length;++d){g=s[d];for(p=a.length-1;0<=p&&a[p].moduleClass.prototype.name!==g;--p);0>p&&(e[g]?a.push({moduleClass:e[g]}):(h=1,console.error("Forced/Required dependent module '"+g+"' is NOT found for '"+
f.name+"' module.")))}}if(h)throw Error("Some forced/required dependent modules are NOT found.");}function x(a){for(var b=0,e,c={},d=[];e=a.modules[b];++b)c[e.moduleClass.prototype.name]=e;for(b in c)d.push(c[b]);a.modules=d}function B(a){var b=a.modules,e,c;for(e=b.length-1;0<=e;--e)(c=b[e].moduleClass.prototype.modelExtensions)&&[].push.apply(a.modelExtensions,c)}function v(a,b,e,c,d,p){var f=c||0;c=0<=d?c+d:b;for(d=[];f<c&&f<b;++f)d.push(a[e](f,0,p));return d}function y(a,b,e){var c,d=a._modules;
for(c in d)c=d[c].mod,a=c[e+"Mixin"],w(a)&&(a=a.apply(c)),m.mixin(b,a||{});return b}function A(a,b,e){var c=a._modules,d=c[e],p=d.mod,s=p.loaded;d.done||(d.done=1,(new f(r.map(r.filter(d.deps,function(a){return c[a]}),D(a,A,a,b)),0,1)).then(function(){p.load?p.load(d.args,b):0>s.fired&&s.callback()}));return s}var u=m.delegate,w=m.isFunction,z=m.isString,D=m.hitch;return q([],{setStore:function(a){this.store!==a&&(this.store=a,this.model.setStore(a))},setData:function(a,b){var e;this.model.setData(a);
b||(e=this.model._parseStructure(a),this.setColumns(e))},setColumns:function(a){this.structure=a;this._columns=r.map(a,function(a){return m.mixin({},a)});this._columnsById=e(this._columns);this.edit&&this.edit._init();if(this.model)this.model._cache.onSetColumns(this._columnsById)},row:function(a,b,e){"number"===typeof a&&!b&&(a=this.model.indexToId(a,e));return this.model.byId(a)?(this._rowObj=this._rowObj||y(this,new d(this),"row"),u(this._rowObj,{id:a})):null},column:function(a,b){var e,d,p={};
"number"===typeof a&&!b&&(a=(e=this._columns[a])&&e.id);if(e=this._columnsById[a]){this._colObj=this._colObj||y(this,new c(this),"column");for(d in e)void 0===this._colObj[d]&&(p[d]=e[d]);return u(this._colObj,p)}return null},cell:function(b,e,p,f){if(b=b instanceof d?b:this.row(b,p,f))if(e=e instanceof c?e:this.column(e,p))return this._cellObj=this._cellObj||y(this,new a(this),"cell"),u(this._cellObj,{row:b,column:e});return null},columnCount:function(){return this._columns.length},rowCount:function(a){return this.model.size(a)},
columns:function(a,b){return v(this,this._columns.length,"column",a,b)},rows:function(a,b,e){return v(this,this.rowCount(e),"row",a,b,e)},onModulesLoaded:function(){},_init:function(){var a=this,b,e=a._deferStartup=new l;a.modules=a.modules||[];a.modelExtensions=a.modelExtensions||[];a.touch?a.touchModules&&(a.modules=a.modules.concat(a.touchModules)):a.desktopModules&&(a.modules=a.modules.concat(a.desktopModules));b=a.store?a.store:a._parseData(a.data);l.when(b,function(){a.setColumns(a.structure);
s(a);t(a);x(a);B(a);a.model=new h(a);a.when=D(a.model,a.model.when);a._create();a._preload();a._load(e).then(function(){a.onModulesLoaded()})})},_uninit:function(){var a=this._modules,b;for(b in a)a[b].mod.destroy();this.model&&this.model.destroy()},_create:function(){for(var a=0,b,e=this._modules={};b=this.modules[a];++a){var c;c=b.moduleClass;var d=c.prototype.name;if(!e[d]){var f=e,s=b,g=c=new c(this,b);b=b.moduleClass.prototype;b=(b.forced||[]).concat(b.optional||[]);f[d]={args:s,mod:g,deps:b};
c.getAPIPath&&p(this,c.getAPIPath())}}},_preload:function(){var a,b=this._modules;for(a in b)a=b[a],a.mod.preload&&a.mod.preload(a.args)},_load:function(a){var b=[],e;for(e in this._modules)b.push(A(this,a,e));return new f(b,0,1)},_defaultData:[{id:1,name:"Dojo"},{id:2,name:"jQuery"},{id:3,name:"ExtJS"},{id:4,name:"YUI"}],_parseData:function(a){this.store="object"===typeof a&&a.constructor===Array?new k({data:a}):new k({data:this._defaultData});this.structure||(this.structure=this._parseStructure(a));
return 1},_parseStructure:function(a){if(!a||"object"!==typeof a)return[{id:1,name:"id",field:"id"},{id:2,name:"name",field:"name"}];var b={},e=a.length,c,d,p,f,s,g=[];for(d=0;d<e;d++){c=Object.keys(a[d]);f=c.length;for(p=0;p<f;p++)b[c[p]]=1}for(s in b)g.push({id:s,name:s,field:s});return g}})})},"dojo/DeferredList":function(){define(["./_base/kernel","./_base/Deferred","./_base/array"],function(n,q,r){n.DeferredList=function(m,l,f,k,g){var h=[];q.call(this);var d=this;0===m.length&&!l&&this.resolve([0,
[]]);var c=0;r.forEach(m,function(a,b){function e(a,e){h[b]=[a,e];c++;c===m.length&&d.resolve(h)}a.then(function(a){l?d.resolve([b,a]):e(!0,a)},function(a){f?d.reject(a):e(!1,a);if(k)return null;throw a;})})};n.DeferredList.prototype=new q;n.DeferredList.prototype.gatherResults=function(m){m=new n.DeferredList(m,!1,!0,!1);m.addCallback(function(l){var f=[];r.forEach(l,function(k){f.push(k[1])});return f});return m};return n.DeferredList})},"gridx/core/model/cache/Async":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/Deferred dojo/DeferredList ./Sync".split(" "),
function(n,q,r,m,l,f){function k(a,e,c,d){var f,g,h,t=e.range,k=a.store.getChildren;e.pids={};e.pids[a.layerId()]=e.range;if(k)for(f=t.length-1;0<=f;--f)g=t[f],h=g.parentId,a.model.isId(h)||(h=a.layerId()),a.model.isId(h)&&(e.id.push(h),e.pids[h]=e.pids[h]||[],e.pids[h].push(g),t.splice(f,1));f=b(a,e.id);var l=[];f.length?(q.forEach(f,function(b){var e=a.idToIndex(b);0<=e&&!a.treePath(b).pop()?t.push({start:e,count:1}):l.push(b)}),p(a,l,function(b){b.length&&k?s(a,b,function(a){a.length&&console.warn("Requested row ids are not found: ",
a);c(e)},d):c(e)},d)):c(e)}function g(b,d,p,f){var s=[],g=[],t=function(a,b){0<b.count&&a<b.start+b.count&&(b.count=a-b.start);return b.start<a},k;for(k in d.pids){var m=b._size[k],n=d.pids[k]=a(b,h(b,k,g,e(b,k,c(d.pids[k]))));0<m&&(n=q.filter(n,r.partial(t,m)));for(m=0;m<n.length;++m)n[m].parentId=k;[].push.apply(s,n)}d._req=g.length&&new l(g,0,1);b._requests.push(d);s.length?(new l(q.map(s,function(a){return b._storeFetch(a)}),0,1)).then(p,f):p(d)}function h(a,b,e,c){var p,f=a._requests;for(a=f.length-
1;0<=a;--a)p=f[a],c=d(c,p.pids[b]),c._overlap&&0>q.indexOf(e,p._def)&&e.push(p._def);return c}function d(a,b){if(!b.length||!a.length)return a;var e=[],c=0,d,p=[];d=function(a,b){var c,d;for(c=a.length-1;0<=c;--c){d=a[c];var p=d.start,f=b;e[p]=e[p]||0;e[p]+=f;d.count&&(d=d.start+d.count,p=-b,e[d]=e[d]||0,e[d]+=p)}};d(a,1);d(b,2);for(var f=0,s=e.length;f<s;++f)if(e[f])if(c+=e[f],1===c)p.push({start:f});else if(3===c&&(p._overlap=!0),(d=p[p.length-1])&&!d.count)d.count=f-d.start;return p}function c(a){for(var b=
[],e,c,d,p,f,s;0<a.length;){f=d=a.pop();s=0;for(e=a.length-1;0<=e;--e){p=a[e];d.start<p.start&&(c=p,p=d,d=c);if(p.count)if(d.start<=p.start+p.count)d.count&&d.start+d.count>p.start+p.count?p.count=d.start+d.count-p.start:d.count||(p.count=null);else{d=f;continue}a[e]=p;s=1;break}s||b.push(f)}return b}function a(a,b){var e=[],c,d,p=a.pageSize;for(b.sort(function(a,b){return a.start-b.start});b.length;){c=b.shift();if(b.length)if(d=b[0],d.count&&d.count+d.start-c.start<=p){d.count=d.count+d.start-c.start;
d.start=c.start;continue}else if(!d.count&&d.start-c.start<p){d.start=c.start;continue}e.push(c)}1==e.length&&e[0].count<p&&(e[0].count=p);return e}function b(a,b){var e=a._cache;return q.filter(b,function(a){return!e[a]})}function e(a,b,e){var c,d,p,f,s,g=[],h=a._struct[b]||[],t=a._size[b];for(c=e.length-1;0<=c;--c){p=e[c];f=p.count?p.start+p.count:h.length-1;s=1;for(d=p.start;d<f;++d){var k=h[d+1];!k||!a._cache[k]?(s?g.push({parentId:b,start:d,count:1}):++g[g.length-1].count,s=0):s=1}p.count||(s?
(0>t||d<t)&&g.push({parentId:b,start:d}):delete g[g.length-1].count)}return g}function p(a,e,c,d){var p=a._struct[""],f=[],s,g;if(e.length){for(var h=1,t=p.length;h<t;++h)p[h]||(g?s.count++:(g=1,f.push(s={start:h-1,count:1})));f.push({start:2>p.length?0:p.length-2})}var k=function(e){e.length&&f.length?a._storeFetch(f.shift()).then(function(){k(b(a,e))},d):c(e)};k(e)}function s(a,e,c,d){var p=a._struct,f=p[""].slice(1),s=function(e){if(e.length&&f.length){var g=f.shift();a._storeFetch({parentId:g}).then(function(){[].push.apply(f,
p[g].slice(1));s(b(a,e))},d)}else c(e)};s(e)}var t=r.hitch;return n(f,{isAsync:!0,constructor:function(a,b){var e=parseInt(b.cacheSize,10),c=parseInt(b.pageSize,10);this.cacheSize=0<=e?e:-1;this.pageSize=0<c?c:100},when:function(a,b){var e=this,c=a._def=new m,d=t(c,c.errback),p=function(a){e._requests.pop();d(a)};k(e,a,function(a){g(e,a,function(a){m.when(a._req,function(){var a;if(b)try{b()}catch(d){a=d}e._requests.shift();a?c.errback(a):c.callback()},p)},p)},d);return c},keep:function(a,b){var e=
this._kept;this._cache[a]&&(this._struct[a]&&!e[a])&&(e[a]=1,++this._keptSize);e[a]&&(!this._lock[a]&&b)&&(this._lock[a]=1,++this._lockSize)},free:function(a,b){this.model.isId(a)?this._kept[a]&&(this._lock[a]?b&&(delete this._lock[a],--this._lockSize):(delete this._kept[a],--this._keptSize)):(this._kept=r.clone(this._lock),this._keptSize=this._lockSize)},clear:function(){this._requests&&this._requests.length?this._clearLock=1:(this.inherited(arguments),this._requests=[],this._priority=[],this._kept=
{},this._lock={},this._lockSize=this._keptSize=0)},_init:function(){},_checkSize:function(){var a,b=this.cacheSize,e=this._priority;if(this._clearLock)this._clearLock=0,this.clear();else if(0<=b)for(b+=this._keptSize;e.length>b;)a=e.shift(),this._kept[a]?e.push(a):delete this._cache[a]}})})},"gridx/core/model/cache/Sync":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/Deferred dojox/html/entities ../_Extension".split(" "),function(n,q,r,m,l,f){function k(c){for(var a=
c._struct,b=a[""].slice(1),e,d=function(e){[].push.apply(b,a[e].slice(1))};b.length;)e=b.shift(),c._storeFetch({parentId:e}).then(r.partial(d,e))}var g=r.hitch,h=r.mixin,d=q.indexOf;return n(f,{constructor:function(c,a){this.setStore(a.store);this.columns=r.mixin({},a.columnsById||a._columnsById);this._mixinAPI("byIndex","byId","indexToId","idToIndex","size","treePath","rootId","parentId","hasChildren","children","keep","free","layerId","setLayer","layerUp")},destroy:function(){this.inherited(arguments);
this._layer="";this.clear()},setStore:function(c){var a=this,b=c.fetch;a.destroy();a._cnnts=[];a.store=c;!b&&c.notify?a.aspect(c,"notify",function(b,c){void 0===b?a._onDelete(c):void 0===c?a._onNew(b):a._onSet(b)}):(a.aspect(c,b?"onSet":"put","_onSet"),a.aspect(c,b?"onNew":"add","_onNew"),a.aspect(c,b?"onDelete":"remove","_onDelete"))},when:function(c,a){var b=new m;try{a&&a(),b.callback()}catch(e){b.errback(e)}return b},clear:function(){this._filled=0;this._priority=[];this._struct={};this._cache=
{};this._size={};this._struct[""]=[];this._size[""]=-1;this.totalSize=void 0},layerId:function(){return this._layer},setLayer:function(c){this._layer=c;this.model._msg("storeChange");this.model._onSizeChange()},layerUp:function(){var c=this.parentId(this._layer);this.setLayer(c)},byIndex:function(c,a){this._init();return this._cache[this.indexToId(c,a)]},byId:function(c){this._init();return this._cache[c]},indexToId:function(c,a){this._init();var b=this._struct[this.model.isId(a)?a:this.layerId()];
return"number"===typeof c&&0<=c?b&&b[c+1]:void 0},idToIndex:function(c){this._init();var a=this._struct;c=d(a[a[c]&&a[c][0]]||[],c);return 0<c?c-1:-1},treePath:function(c){this._init();for(var a=this._struct,b=[];void 0!==c;)b.unshift(c),c=a[c]&&a[c][0];""!==b[0]?b=[]:b.pop();return b},rootId:function(c){var a=this.treePath(c);return 1<a.length?a[1]:!a.length?null:c},parentId:function(c){return this.treePath(c).pop()},hasChildren:function(c){var a=this.store,b;this._init();b=this.byId(c);return a.hasChildren&&
a.hasChildren(c,b&&b.item)&&a.getChildren},children:function(c){this._init();c=this.model.isId(c)?c:"";for(var a=this._size[c],b=[],e=0;e<a;++e)b.push(this.indexToId(e,c));return b},size:function(c){this._init();c=this._size[this.model.isId(c)?c:this.layerId()];return 0<=c?c:-1},keep:function(){},free:function(){},onBeforeFetch:function(){},onAfterFetch:function(){},onLoadRow:function(){},onSetColumns:function(c){var a,b,e,d;this.columns=r.mixin({},c);for(a in this._cache)for(e in b=this._cache[a],
c)d=c[e],b.data[e]=this._formatCell(b.rawData,a,d.id)},_init:function(){this._filled||(this._storeFetch({start:0}),this.store.getChildren&&k(this),this.model._onSizeChange())},_itemToObject:function(c){var a=this.store,b={};return a.fetch?(q.forEach(a.getAttributes(c),function(e){b[e]=a.getValue(c,e)}),b):c},_formatCell:function(c,a,b){var e=this.columns[b];c=e.formatter?e.formatter(c,a):c[e.field||b];return this.columns[b]&&!0===this.columns[b].encode&&"string"===typeof c?l.encode(c):c},_formatRow:function(c,
a){var b=this.columns,e={},d;for(d in b)e[d]=this._formatCell(c,a,d);return e},_addRow:function(c,a,b,e,p){var f=this._struct,g=this._priority;p=this.model.isId(p)?p:"";var h=f[p];if(!h)throw Error("Fatal error of _Cache._addRow: parent item "+p+" of "+c+" is not loaded");var k=h[a+1];this.model.isId(k)&&k!==c&&console.error("Error of _Cache._addRow: different row id "+c+" and "+h[a+1]+" for same row index "+a);h[a+1]=c;f[c]=f[c]||[p];""===p&&(a=d(g,c),0<=a&&g.splice(a,1),g.push(c));this._cache[c]=
{data:this._formatRow(b,c),rawData:b,item:e};this.onLoadRow(c)},_storeFetch:function(c,a){function b(a){d._size[k]=parseInt(a,10)}function e(a){if(a.ioArgs&&a.ioArgs.xhr){var b=q.ioArgs.xhr.getResponseHeader("Content-Range");b&&(b=b.match(/(.+)\//))?d.totalSize=+b[1]:d.totalSize=void 0}try{for(var e=c.start||0,b=0,g;g=a[b];++b)d._addRow(f.getIdentity(g),e+b,d._itemToObject(g),g,k);t.callback()}catch(h){t.errback(h)}}var d=this,f=d.store,t=new m,k=d.model.isId(c.parentId)?c.parentId:"",l=h({},d.options||
{},c),n=g(t,t.errback),q;d._filled=1;d.onBeforeFetch(l);""===k?f.fetch?f.fetch(h(l,{onBegin:b,onComplete:e,onError:n})):(q=f.query(l.query||{},l),m.when(q.total,b),m.when(q,e,n)):d.hasChildren(k)?(q=f.getChildren(d.byId(k).item,l),"total"in q?m.when(q.total,b):m.when(q,function(a){b(a.length)}),m.when(q,e,n)):t.callback();t.then(function(){d.onAfterFetch()});return t},_onSet:function(c){var a=this.store.getIdentity(c),b=this.idToIndex(a),e=this.treePath(a),d=this._cache[a];e.length&&this._addRow(a,
b,this._itemToObject(c),c,e.pop());this.onSet(a,b,this._cache[a],d)},_onNew:function(c,a){var b=this.store,e=this._itemToObject(c),d=a&&a[b.fetch?"item":"parent"];d&&b.getIdentity(d);var b=b.getIdentity(c),f=this._size[""];this.clear();this.onNew(b,0,{data:this._formatRow(e,b),rawData:e,item:c});!d&&0<=f&&(this._size[""]=f+1,0<=this.totalSize&&(this.totalSize=f+1),this.model._onSizeChange())},_onDelete:function(c){var a=this.store,b=this._struct;c=a.fetch?a.getIdentity(c):c;a=this.treePath(c);if(a.length){var e,
p,f,g=[c],h=a[a.length-1],k=this._size,l=k[""],m=d(b[h],c);b[h].splice(m,1);--k[h];for(p=0;p<g.length;++p)if(e=b[g[p]])for(f=e.length-1;0<f;--f)g.push(e[f]);for(p=g.length-1;0<=p;--p)f=g[p],delete this._cache[f],delete b[f],delete k[f],this.onDelete(f);p=d(this._priority,c);0<=p&&this._priority.splice(p,1);this.onDelete(c,m-1,a);!h&&0<=l&&(k[""]=l-1,0<=this.totalSize&&(this.totalSize=l-1),this.model._onSizeChange())}else this.clear(),this.onDelete(c)}})})},"dojox/html/entities":function(){define(["dojo/_base/lang"],
function(n){var q=n.getObject("dojox.html.entities",!0),r=function(l,f){var k,g;if(f._encCache&&f._encCache.regexp&&f._encCache.mapper&&f.length==f._encCache.length)k=f._encCache.mapper,g=f._encCache.regexp;else{k={};g=["["];var h;for(h=0;h<f.length;h++)k[f[h][0]]="\x26"+f[h][1]+";",g.push(f[h][0]);g.push("]");g=RegExp(g.join(""),"g");f._encCache={mapper:k,regexp:g,length:f.length}}return l=l.replace(g,function(d){return k[d]})},m=function(l,f){var k,g;if(f._decCache&&f._decCache.regexp&&f._decCache.mapper&&
f.length==f._decCache.length)k=f._decCache.mapper,g=f._decCache.regexp;else{k={};g=["("];var h;for(h=0;h<f.length;h++){var d="\x26"+f[h][1]+";";h&&g.push("|");k[d]=f[h][0];g.push(d)}g.push(")");g=RegExp(g.join(""),"g");f._decCache={mapper:k,regexp:g,length:f.length}}return l=l.replace(g,function(c){return k[c]})};q.html=[["\x26","amp"],['"',"quot"],["\x3c","lt"],["\x3e","gt"],["\u00a0","nbsp"]];q.latin=[["\u00a1","iexcl"],["\u00a2","cent"],["\u00a3","pound"],["\u20ac","euro"],["\u00a4","curren"],
["\u00a5","yen"],["\u00a6","brvbar"],["\u00a7","sect"],["\u00a8","uml"],["\u00a9","copy"],["\u00aa","ordf"],["\u00ab","laquo"],["\u00ac","not"],["\u00ad","shy"],["\u00ae","reg"],["\u00af","macr"],["\u00b0","deg"],["\u00b1","plusmn"],["\u00b2","sup2"],["\u00b3","sup3"],["\u00b4","acute"],["\u00b5","micro"],["\u00b6","para"],["\u00b7","middot"],["\u00b8","cedil"],["\u00b9","sup1"],["\u00ba","ordm"],["\u00bb","raquo"],["\u00bc","frac14"],["\u00bd","frac12"],["\u00be","frac34"],["\u00bf","iquest"],["\u00c0",
"Agrave"],["\u00c1","Aacute"],["\u00c2","Acirc"],["\u00c3","Atilde"],["\u00c4","Auml"],["\u00c5","Aring"],["\u00c6","AElig"],["\u00c7","Ccedil"],["\u00c8","Egrave"],["\u00c9","Eacute"],["\u00ca","Ecirc"],["\u00cb","Euml"],["\u00cc","Igrave"],["\u00cd","Iacute"],["\u00ce","Icirc"],["\u00cf","Iuml"],["\u00d0","ETH"],["\u00d1","Ntilde"],["\u00d2","Ograve"],["\u00d3","Oacute"],["\u00d4","Ocirc"],["\u00d5","Otilde"],["\u00d6","Ouml"],["\u00d7","times"],["\u00d8","Oslash"],["\u00d9","Ugrave"],["\u00da",
"Uacute"],["\u00db","Ucirc"],["\u00dc","Uuml"],["\u00dd","Yacute"],["\u00de","THORN"],["\u00df","szlig"],["\u00e0","agrave"],["\u00e1","aacute"],["\u00e2","acirc"],["\u00e3","atilde"],["\u00e4","auml"],["\u00e5","aring"],["\u00e6","aelig"],["\u00e7","ccedil"],["\u00e8","egrave"],["\u00e9","eacute"],["\u00ea","ecirc"],["\u00eb","euml"],["\u00ec","igrave"],["\u00ed","iacute"],["\u00ee","icirc"],["\u00ef","iuml"],["\u00f0","eth"],["\u00f1","ntilde"],["\u00f2","ograve"],["\u00f3","oacute"],["\u00f4",
"ocirc"],["\u00f5","otilde"],["\u00f6","ouml"],["\u00f7","divide"],["\u00f8","oslash"],["\u00f9","ugrave"],["\u00fa","uacute"],["\u00fb","ucirc"],["\u00fc","uuml"],["\u00fd","yacute"],["\u00fe","thorn"],["\u00ff","yuml"],["\u0192","fnof"],["\u0391","Alpha"],["\u0392","Beta"],["\u0393","Gamma"],["\u0394","Delta"],["\u0395","Epsilon"],["\u0396","Zeta"],["\u0397","Eta"],["\u0398","Theta"],["\u0399","Iota"],["\u039a","Kappa"],["\u039b","Lambda"],["\u039c","Mu"],["\u039d","Nu"],["\u039e","Xi"],["\u039f",
"Omicron"],["\u03a0","Pi"],["\u03a1","Rho"],["\u03a3","Sigma"],["\u03a4","Tau"],["\u03a5","Upsilon"],["\u03a6","Phi"],["\u03a7","Chi"],["\u03a8","Psi"],["\u03a9","Omega"],["\u03b1","alpha"],["\u03b2","beta"],["\u03b3","gamma"],["\u03b4","delta"],["\u03b5","epsilon"],["\u03b6","zeta"],["\u03b7","eta"],["\u03b8","theta"],["\u03b9","iota"],["\u03ba","kappa"],["\u03bb","lambda"],["\u03bc","mu"],["\u03bd","nu"],["\u03be","xi"],["\u03bf","omicron"],["\u03c0","pi"],["\u03c1","rho"],["\u03c2","sigmaf"],["\u03c3",
"sigma"],["\u03c4","tau"],["\u03c5","upsilon"],["\u03c6","phi"],["\u03c7","chi"],["\u03c8","psi"],["\u03c9","omega"],["\u03d1","thetasym"],["\u03d2","upsih"],["\u03d6","piv"],["\u2022","bull"],["\u2026","hellip"],["\u2032","prime"],["\u2033","Prime"],["\u203e","oline"],["\u2044","frasl"],["\u2118","weierp"],["\u2111","image"],["\u211c","real"],["\u2122","trade"],["\u2135","alefsym"],["\u2190","larr"],["\u2191","uarr"],["\u2192","rarr"],["\u2193","darr"],["\u2194","harr"],["\u21b5","crarr"],["\u21d0",
"lArr"],["\u21d1","uArr"],["\u21d2","rArr"],["\u21d3","dArr"],["\u21d4","hArr"],["\u2200","forall"],["\u2202","part"],["\u2203","exist"],["\u2205","empty"],["\u2207","nabla"],["\u2208","isin"],["\u2209","notin"],["\u220b","ni"],["\u220f","prod"],["\u2211","sum"],["\u2212","minus"],["\u2217","lowast"],["\u221a","radic"],["\u221d","prop"],["\u221e","infin"],["\u2220","ang"],["\u2227","and"],["\u2228","or"],["\u2229","cap"],["\u222a","cup"],["\u222b","int"],["\u2234","there4"],["\u223c","sim"],["\u2245",
"cong"],["\u2248","asymp"],["\u2260","ne"],["\u2261","equiv"],["\u2264","le"],["\u2265","ge"],["\u2282","sub"],["\u2283","sup"],["\u2284","nsub"],["\u2286","sube"],["\u2287","supe"],["\u2295","oplus"],["\u2297","otimes"],["\u22a5","perp"],["\u22c5","sdot"],["\u2308","lceil"],["\u2309","rceil"],["\u230a","lfloor"],["\u230b","rfloor"],["\u2329","lang"],["\u232a","rang"],["\u25ca","loz"],["\u2660","spades"],["\u2663","clubs"],["\u2665","hearts"],["\u2666","diams"],["\u0152","OElig"],["\u0153","oelig"],
["\u0160","Scaron"],["\u0161","scaron"],["\u0178","Yuml"],["\u02c6","circ"],["\u02dc","tilde"],["\u2002","ensp"],["\u2003","emsp"],["\u2009","thinsp"],["\u200c","zwnj"],["\u200d","zwj"],["\u200e","lrm"],["\u200f","rlm"],["\u2013","ndash"],["\u2014","mdash"],["\u2018","lsquo"],["\u2019","rsquo"],["\u201a","sbquo"],["\u201c","ldquo"],["\u201d","rdquo"],["\u201e","bdquo"],["\u2020","dagger"],["\u2021","Dagger"],["\u2030","permil"],["\u2039","lsaquo"],["\u203a","rsaquo"]];q.encode=function(l,f){l&&(f?
l=r(l,f):(l=r(l,q.html),l=r(l,q.latin)));return l};q.decode=function(l,f){l&&(f?l=m(l,f):(l=m(l,q.html),l=m(l,q.latin)));return l};return q})},"gridx/core/model/_Extension":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/aspect"],function(n,q,r){return n([],{constructor:function(m){var l=this.inner=m._model;this._cnnts=[];this.model=m;m._model=this;l&&(this.aspect(l,"onDelete","_onDelete"),this.aspect(l,"onNew","_onNew"),this.aspect(l,"onSet","_onSet"))},destroy:function(){for(var m=
0,l=this._cnnts.length;m<l;++m)this._cnnts[m].remove()},aspect:function(m,l,f,k,g){m=r[g||"after"](m,l,q.hitch(k||this,f),1);this._cnnts.push(m);return m},_onNew:function(){this.onNew.apply(this,arguments)},_onSet:function(){this.onSet.apply(this,arguments)},_onDelete:function(){this.onDelete.apply(this,arguments)},onNew:function(){},onDelete:function(){},onSet:function(){},_call:function(m,l){var f=this[m],k=this.inner;return f?f.apply(this,l||[]):k&&k._call(m,l)},_mixinAPI:function(){var m,l=this.model,
f=arguments,k=function(f){return function(){return l._model._call(f,arguments)}};for(m=f.length-1;0<=m;--m)l[f[m]]=k(f[m])}})})},"gridx/core/model/Model":function(){define("require dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/Deferred dojo/DeferredList dojo/aspect dojo/store/Memory dojo/store/JsonRest ./cache/Sync ./cache/Async".split(" "),function(n,q,r,m,l,f,k,g,h,d,c){function a(a){return a||0===a}function b(a){return"number"==typeof a&&0<=a}function e(e,c){var d,f=[],g=[],h=
{range:f,id:g},k=function(a){if(a&&b(a.start))f.push(a);else if(b(a))f.push({start:a,count:1});else if(p(a))for(d=a.length-1;0<=d;--d)b(a[d])?f.push({start:a[d],count:1}):a[d]&&b(a[d].start)?f.push(a[d]):s(a)&&g.push(a[d]);else s(a)&&g.push(a)};if(c&&(c.index||c.range||c.id))if(k(c.index),k(c.range),p(c.id))for(d=c.id.length-1;0<=d;--d)g.push(c.id[d]);else a(c.id)&&g.push(c.id);else k(c);!f.length&&(!g.length&&0>e.size())&&f.push({start:0,count:e._cache.pageSize||1});return h}var p=m.isArrayLike,
s=m.isString;return q([],{constructor:function(a){var b=a.cacheClass||d,b="string"==typeof b?n(b):b;this.store=a.store;this._exts={};this._cmdQueue=[];this._model=this._cache=new b(this,a);this._createExts(a.modelExtensions||[],a);a=this._model;this._cnnts=[k.after(a,"onDelete",m.hitch(this,"onDelete"),1),k.after(a,"onNew",m.hitch(this,"onNew"),1),k.after(a,"onSet",m.hitch(this,"onSet"),1)]},destroy:function(){r.forEach(this._cnnts,function(a){a.remove()});for(var a in this._exts)this._exts[a].destroy();
this._cache.destroy()},clearCache:function(){this._cache.clear()},isId:a,setStore:function(a){this.store=a;this._cache.setStore(a)},when:function(a,b,e){this._oldSize=this.size();this._addCmd({name:"_cmdRequest",scope:this,args:arguments,async:1});return this._exec()},scan:function(a,b){var e=new l,c=a.start||0,d=a.pageSize||this._cache.pageSize||1,p=a.count,f=0<p?c+p:Infinity,s=a.whenScope||this,g=a.whenFunc||s.when,h=function(a){e.progress(a/(0<p?a+p:s.size()));g.call(s,{id:[],range:[{start:a,count:d}]},
function(){var e,c,p=[];for(e=a;e<a+d&&e<f;++e)if(c=s.byIndex(e))p.push(c);else{f=-1;break}if(b(p,a)||e==f)f=-1}).then(function(){-1==f?e.callback():h(a+d)})};h(c);return e},onDelete:function(){},onNew:function(){},onSet:function(){},onSizeChange:function(){},_msg:function(){},_addCmd:function(a){var b=this._cmdQueue,e=b[b.length-1];e&&e.name==a.name&&e.scope==a.scope?e.args.push(a.args||[]):(a.args=[a.args||[]],b.push(a))},_onSizeChange:function(){var a=this._oldSize,b=this._oldSize=this.size();
if(a!=b)this.onSizeChange(b,a)},_cmdRequest:function(){var a=this;return new f(r.map(arguments,function(b){var c=b[0],d=function(){a._onSizeChange();b[1]&&b[1].call(b[2])};return null===c||!b.length?(c=new l,d(),c.callback(),c):a._model._call("when",[e(a,c),d])}),0,1)},_exec:function(){var a=this,b=a._cache,e=new l,c=a._cmdQueue,d=function(e,c){a._busy=0;b._checkSize&&b._checkSize();c?e.errback(c):e.callback()},p=function(){if(r.some(c,function(a){return"_cmdRequest"==a.name}))try{for(;c.length;){var a=
c.shift(),b=a.scope[a.name].apply(a.scope,a.args);if(a.async){l.when(b,p,m.partial(d,e));return}}}catch(f){d(e,f);return}d(e)};if(a._busy)return a._busy;a._busy=e;p();return e},_createExts:function(a,b){a=r.filter(r.map(a,function(a){return"string"==typeof a?n(a):a}),function(a){return a&&a.prototype});a.sort(function(a,b){return a.prototype.priority-b.prototype.priority});for(var e=0,c=a.length;e<c;++e)if(e==a.length-1||a[e]!=a[e+1]){var d=new a[e](this,b);this._exts[d.name]=d}}})})},"dojo/store/JsonRest":function(){define(["../_base/xhr",
"../_base/lang","../json","../_base/declare","./util/QueryResults"],function(n,q,r,m,l){return m("dojo.store.JsonRest",null,{constructor:function(f){this.headers={};m.safeMixin(this,f)},headers:{},target:"",idProperty:"id",ascendingPrefix:"+",descendingPrefix:"-",_getTarget:function(f){var k=this.target;"undefined"!=typeof f&&(k="/"==k.charAt(k.length-1)?k+f:k+("/"+f));return k},get:function(f,k){k=k||{};var g=q.mixin({Accept:this.accepts},this.headers,k.headers||k);return n("GET",{url:this._getTarget(f),
handleAs:"json",headers:g})},accepts:"application/javascript, application/json",getIdentity:function(f){return f[this.idProperty]},put:function(f,k){k=k||{};var g="id"in k?k.id:this.getIdentity(f);return n("undefined"!=typeof g&&!k.incremental?"PUT":"POST",{url:this._getTarget(g),postData:r.stringify(f),handleAs:"json",headers:q.mixin({"Content-Type":"application/json",Accept:this.accepts,"If-Match":!0===k.overwrite?"*":null,"If-None-Match":!1===k.overwrite?"*":null},this.headers,k.headers)})},add:function(f,
k){k=k||{};k.overwrite=!1;return this.put(f,k)},remove:function(f,k){k=k||{};return n("DELETE",{url:this._getTarget(f),headers:q.mixin({},this.headers,k.headers)})},query:function(f,k){k=k||{};var g=q.mixin({Accept:this.accepts},this.headers,k.headers),h=-1<this.target.indexOf("?");f&&"object"==typeof f&&(f=(f=n.objectToQuery(f))?(h?"\x26":"?")+f:"");if(0<=k.start||0<=k.count)g["X-Range"]="items\x3d"+(k.start||"0")+"-"+("count"in k&&Infinity!=k.count?k.count+(k.start||0)-1:""),this.rangeParam?(f+=
(f||h?"\x26":"?")+this.rangeParam+"\x3d"+g["X-Range"],h=!0):g.Range=g["X-Range"];if(k&&k.sort){var d=this.sortParam;f+=(f||h?"\x26":"?")+(d?d+"\x3d":"sort(");for(h=0;h<k.sort.length;h++){var c=k.sort[h];f+=(0<h?",":"")+(c.descending?this.descendingPrefix:this.ascendingPrefix)+encodeURIComponent(c.attribute)}d||(f+=")")}var a=n("GET",{url:this.target+(f||""),handleAs:"json",headers:g});a.total=a.then(function(){var b=a.ioArgs.xhr.getResponseHeader("Content-Range");b||(b=a.ioArgs.xhr.getResponseHeader("X-Content-Range"));
return b&&(b=b.match(/\/(.*)/))&&+b[1]});return l(a)}})})},"gridx/core/Row":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred"],function(n,q,r){return n([],{constructor:function(m,l){this.grid=m;this.model=m.model;this.id=l},index:function(){return this.model.idToIndex(this.id)},parent:function(){return this.grid.row(this.model.parentId(this.id),1)},cell:function(m,l){return this.grid.cell(this,m,l)},cells:function(m,l){for(var f=this.grid,k=[],g=f._columns,h=g.length,
d=m||0,c=0<=l?m+l:h;d<c&&d<h;++d)k.push(f.cell(this.id,g[d].id,1));return k},data:function(){return this.model.byId(this.id).data},rawData:function(){return this.model.byId(this.id).rawData},item:function(){return this.model.byId(this.id).item},setRawData:function(m){var l=this.grid.store,f=this.item(),k,g;if(l.setValue){g=new r;try{for(k in m)l.setValue(f,k,m[k]);l.save({onComplete:q.hitch(g,g.callback),onError:q.hitch(g,g.errback)})}catch(h){g.errback(h)}}return g||r.when(l.put(q.mixin(q.clone(f),
m)))}})})},"gridx/core/Column":function(){define(["dojo/_base/declare"],function(n){return n([],{constructor:function(n,r){this.grid=n;this.model=n.model;this.id=r},index:function(){var n=this.def();return n?n.index:-1},def:function(){return this.grid._columnsById[this.id]},cell:function(n,r,m){return this.grid.cell(n,this,r,m)},cells:function(n,r,m){var l=this.grid,f=[],k=l.rowCount(m),g=n||0;for(n=0<=r?n+r:k;g<n&&g<k;++g)f.push(l.cell(g,this,0,m));return f},name:function(){return this.def().name||
""},setName:function(n){this.def().name=n;return this},field:function(){return this.def().field||null},getWidth:function(){return this.def().width}})})},"gridx/core/Cell":function(){define(["dojo/_base/declare"],function(n){return n([],{constructor:function(n,r,m){this.grid=n;this.model=n.model;this.row=r;this.column=m},data:function(){return this.model.byId(this.row.id).data[this.column.id]},rawData:function(){var n=this.column.field();return n&&this.model.byId(this.row.id).rawData[n]},setRawData:function(n){var r=
{},m=this.column.field();if(m)return r[m]=n,this.row.setRawData(r)}})})},"gridx/core/_Module":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/_base/connect dojo/aspect".split(" "),function(n,q,r,m,l,f){var k=q.isFunction;n=n([],{constructor:function(f,d){this.grid=f;this.model=f.model;this.loaded=new m;this._cnnts=[];this._sbscs=[];q.mixin(this,d)},destroy:function(){var f=r.forEach;f(this._cnnts,l.disconnect);f(this._sbscs,l.unsubscribe)},getAPIPath:function(){var f=
{};f[this.name]=this;return f},arg:function(f,d,c){2==arguments.length&&k(d)&&(c=d,d=void 0);var a=this.grid,b=this[f];if(!this.hasOwnProperty(f)){var e=this.name+f.substring(0,1).toUpperCase()+f.substring(1);void 0===a[e]?void 0!==d&&(b=d):b=a[e]}this[f]=c&&!c(b)?d:b;return b},aspect:function(g,d,c,a,b){g=f[b||"after"](g,d,q.hitch(a||this,c),1);this._cnnts.push(g);return g},connect:function(f,d,c,a,b){var e=this.grid,p=a||this;f=f===e&&"string"==typeof d?l.connect(f,d,function(){var a=arguments;
e._eventFlags[d]===b&&(k(c)?c.apply(p,a):k(p[c])&&p[c].apply(p,a))}):l.connect(f,d,p,c);this._cnnts.push(f);return f},batchConnect:function(){for(var f=0,d=arguments,c=d.length;f<c;++f)q.isArrayLike(d[f])&&this.connect.apply(this,d[f])},subscribe:function(f,d,c){f=l.subscribe(f,c||this,d);this._sbscs.push(f);return f}});var g=n._modules={};n.register=function(f){var d=f.prototype;return g[d.name||d.declaredClass]=f};return n})},"gridx/core/model/extensions/Query":function(){define(["dojo/_base/declare",
"../_Extension"],function(n,q){return n(q,{name:"query",priority:40,constructor:function(n,m){this._mixinAPI("query");this._cmdQuery(0,0,[m.query,m.queryOptions])},query:function(){this.model._addCmd({name:"_cmdQuery",scope:this,args:arguments})},_cmdQuery:function(){var n=arguments,n=n[n.length-1],m=this.model,l=m._cache,f=l.options=l.options||{};f.query=n[0];f.queryOptions=n[1];m._msg("storeChange");l.clear()}})})},"gridx/modules/Header":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-class dojo/dom-geometry dojo/query dojo/_base/sniff dojo/keys ../core/_Module".split(" "),
function(n,q,r,m,l,f,k,g,h,d){return n(d,{name:"header",constructor:function(){var c=this.domNode=m.create("div",{"class":"gridxHeaderRow",role:"presentation"});this.innerNode=m.create("div",{"class":"gridxHeaderRowInner",role:"row"});this.grid._connectEvents(c,"_onMouseEvent",this)},preload:function(c){var a=this,b=a.grid;a.domNode.appendChild(a.innerNode);a._build();b.headerNode.appendChild(a.domNode);b.vLayout.register(a,"domNode","headerNode");a.aspect(b,"onHScroll","_onHScroll");g("ff")&&a.aspect(b,
"onModulesLoaded",function(){a._onHScroll(a._scrollLeft)});b.columnResizer&&a.aspect(b.columnResizer,"onResize",function(){"none"==b.hScrollerNode.style.display&&a._onHScroll(0)});a.aspect(b,"onHeaderCellMouseOver",function(){b.vLayout.reLayout()});a.aspect(b,"onHeaderCellMouseOut",function(){b.vLayout.reLayout();setTimeout(function(){b.vLayout.reLayout()},0)});a._initFocus()},destroy:function(){this.inherited(arguments);m.destroy(this.domNode)},columnMixin:{headerNode:function(){return this.grid.header.getHeaderNode(this.id)}},
hidden:!1,getHeaderNode:function(c){return k("[colid\x3d'"+this.grid._escapeId(c)+"']",this.domNode)[0]},refresh:function(){this._build();this._onHScroll(this._scrollLeft);this.grid.vLayout.reLayout();this.onRender()},onRender:function(){},onMoveToHeaderCell:function(){},_scrollLeft:0,_build:function(){var c=this,a=c.grid,b=a.focus,e=['\x3ctable role\x3d"presentation" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\x3ctr\x3e'];r.forEach(a._columns,function(d){d._domId=(a.id+"-"+d.id).replace(/\s+/,
"");e.push('\x3ctd id\x3d"',d._domId,'" role\x3d"columnheader" aria-readonly\x3d"true" tabindex\x3d"-1" colid\x3d"',d.id,'" class\x3d"gridxCell ',b&&"header"==b.currentArea()&&d.id==c._focusHeaderId?c._focusClass:"",(q.isFunction(d.headerClass)?d.headerClass(d):d.headerClass)||"",'" style\x3d"width:',d.width,";min-width:",d.width,";",a.getTextDirStyle(d.id,d.name),(q.isFunction(d.headerStyle)?d.headerStyle(d):d.headerStyle)||"",'"\x3e\x3cdiv class\x3d"gridxSortNode"\x3e',d.name||"","\x3c/div\x3e\x3c/td\x3e")});
e.push("\x3c/tr\x3e\x3c/table\x3e");c.innerNode.innerHTML=e.join("");l.toggle(c.domNode,"gridxHeaderRowHidden",c.arg("hidden"))},_onHScroll:function(c){if((g("webkit")||8>g("ie"))&&!this.grid.isLeftToRight())c=this.innerNode.scrollWidth-this.innerNode.offsetWidth-c;this.innerNode.scrollLeft=this._scrollLeft=c},_onMouseEvent:function(c,a){var b=this.grid,e="onHeaderCell"+c,d="onHeader"+c;if(b._isConnected(e)||b._isConnected(d)){this._decorateEvent(a);if(0<=a.columnIndex)b[e](a);b[d](a)}},_decorateEvent:function(c){var a=
k(c.target).closest(".gridxCell",this.domNode)[0],b=a&&this.grid._columnsById[a.getAttribute("colid")];b&&(c.headerCellNode=a,c.columnId=b.id,c.columnIndex=b.index)},_focusHeaderId:null,_focusClass:"gridxHeaderCellFocus",_initFocus:function(){var c=this,a=c.grid;a.focus&&a.focus.registerArea({name:"header",priority:0,focusNode:c.innerNode,scope:c,doFocus:c._doFocus,doBlur:c._blurNode,onBlur:c._blurNode,connects:a.touch?[c.aspect(a,"onHeaderCellTouchStart",function(a){l.add(a.headerCellNode,c._focusClass)}),
c.aspect(a,"onHeaderCellTouchEnd",function(a){l.remove(a.headerCellNode,c._focusClass)})]:[c.aspect(a,"onHeaderCellKeyDown","_onKeyDown"),c.connect(a,"onHeaderCellMouseDown",function(a){c._focusNode(c.getHeaderNode(a.columnId))})]})},_doFocus:function(c,a){if(!this.hidden){var b=this._focusHeaderId&&this.getHeaderNode(this._focusHeaderId),b=this._focusNode(b||k(".gridxCell",this.domNode)[0]);this.grid.focus.stopEvent(b&&c);return b}return!1},_focusNode:function(c){if(c){var a=this,b=a.grid,e=a._focusHeaderId=
c.getAttribute("colid");if(e)return a._blurNode(),b.body._focusCellCol=b._columnsById[e].index,l.add(c,a._focusClass),setTimeout(function(){g("webkit")&&l.add(c,a._focusClass);c.focus();8>g("ie")&&(a.innerNode.scrollLeft=a._scrollLeft);b.hScroller&&b.hScroller.scrollToColumn(e,a.innerNode)},0),!0}return!1},_blurNode:function(){var c=k("."+this._focusClass,this.innerNode)[0];c&&l.remove(c,this._focusClass);return!0},_onKeyDown:function(c){var a=this.grid,b;b=a.isLeftToRight()?1:-1;var e=c.keyCode==
h.LEFT_ARROW?-b:b;if(this._focusHeaderId&&!a._isCtrlKey(c)&&!c.altKey&&(c.keyCode==h.LEFT_ARROW||c.keyCode==h.RIGHT_ARROW))if(a.focus.stopEvent(c),b=a._columnsById[this._focusHeaderId],b=a._columns[b.index+e])this._focusNode(this.getHeaderNode(b.id)),this.onMoveToHeaderCell(b.id,c)}})})},"gridx/modules/View":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/Deferred","../core/_Module"],function(n,q,r,m,l){return n(l,{name:"view",load:function(f){var k=this,g=
k.model;f=k.grid;var h=f.persist?f.persist.registerAndLoad("tree",function(){return k._openInfo}):{};k._clear();k.aspect(g,"onSizeChange","_onSizeChange");k.aspect(g,"onDelete","_onDelete");k.aspect(g,"setStore",function(){k.arg("clearOnSetStore")&&k._clear()},k,"before");k._loadLevels(h).then(function(){var d=k._openInfo[""].count=g.size();k.rootCount=k.rootCount||d-k.rootStart;k.rootStart+k.rootCount>d&&(k.rootCount=d-k.rootStart);for(var c in h)k._expand(c);k._updateVC();k.loaded.callback()},function(d){k._err=
d;k.loaded.callback()})},rowMixin:{visualIndex:function(){return this.grid.view.getRowInfo({rowId:this.id}).visualIndex}},clearOnSetStore:!0,rootStart:0,rootCount:0,visualCount:0,getRowInfo:function(f){var k=this.model,g=f.rowId;k.isId(g)&&(f.rowIndex=k.idToIndex(g),f.parentId=k.parentId(g));if("number"==typeof f.rowIndex&&0<=f.rowIndex)k.isId(f.parentId)||(f.parentId=""),f.visualIndex=this._getVisualIndex(f.parentId,f.rowIndex);else if("number"==typeof f.visualIndex&&0<=f.visualIndex){var h=k.layerId();
if(k.isId(h))f.rowIndex=f.visualIndex,f.parentId=h;else{for(var d=this._openInfo[""].openned,h=this.rootStart+f.visualIndex,c=0;c<d.length;++c){var a=this._openInfo[d[c]];if(k.idToIndex(a.id)<this.rootStart)h+=a.count;else break}for(d={parentId:"",preCount:0};!d.found;)d=this._getChild(h,d);f.rowIndex=d.rowIndex;f.parentId=d.parentId}}else return f;f.rowId=k.isId(g)?g:k.indexToId(f.rowIndex,f.parentId);return f},logicExpand:function(f){var k=this,g=new m;k.model.when({parentId:f,start:0,count:1},
function(){k._expand(f)&&k._updateVC()}).then(function(){g.callback()},function(f){g.errback(f)});return g},logicCollapse:function(f){var k=this._openInfo,g=k[f];if(g){var h=this.model.parentId(f),d=this._parentOpenInfo[h],c=g.count;d.splice(q.indexOf(d,f),1);for(g=k[h];g;)g.count-=c,g=k[g.parentId];delete k[f];this.model.free(f,1);this._updateVC()}},updateRootRange:function(f,k,g){var h=this;h.rootStart=f;h.rootCount=k;return h.updateVisualCount().then(function(){if(!g)h.onUpdate()})},updateVisualCount:function(){var f=
this;return f._loadLevels().then(function(){f._updateVC()})},onUpdate:function(){},_parentOpenInfo:null,_openInfo:null,_clear:function(){var f=[];this._openInfo={"":{id:"",parentId:null,path:[],count:0,openned:f}};this._parentOpenInfo={"":f}},_expand:function(f){var k=this.model;if(k.hasChildren(f)){var g=k.parentId(f),h=this._openInfo,d=this._parentOpenInfo,c=d[g]=d[g]||[];d[f]=d[f]||[];if(!h[f]&&0<=k.idToIndex(f)){k.keep(f,1);0>q.indexOf(c,f)&&c.push(f);for(var c=k.size(f),a=d[f].length-1;0<=a;--a)c+=
h[d[f][a]].count;h[f]={id:f,parentId:g,path:k.treePath(f).slice(1).concat([f]),count:c,openned:d[f]};for(f=h[g];f;)f.count+=c,f=h[f.parentId];return 1}}},_getVisualIndex:function(f,k){var g=this.model,h=this._openInfo,d=h[f],c=0,a=""===f?k:g.idToIndex(g.rootId(f));if(d&&a>=this.rootStart&&a<this.rootStart+this.rootCount){for(;d;){c+=k;for(a=0;a<d.openned.length;++a){var b=h[d.openned[a]],e=g.idToIndex(b.id);if(e<k&&(""!==d.id||e>=this.rootStart))c+=b.count}d.openned.sort(function(a,b){return g.idToIndex(a)-
g.idToIndex(b)});k=g.idToIndex(d.id);g.isId(d.id)&&c++;d=h[d.parentId]}return c-this.rootStart}return null},_getChild:function(f,k){var g=this.model,h=this._openInfo[k.parentId],d=k.preCount+g.idToIndex(h.id)+1,c={found:!0,visualIndex:f};h.openned.sort(function(a,b){return g.idToIndex(a)-g.idToIndex(b)});for(var a=0,b=h.openned.length;a<b;++a){var e=h.openned[a],p=this._openInfo[e],s=g.idToIndex(e),t=s+d;if(t===f)return r.mixin({parentId:h.id,rowIndex:s},c);if(t<f&&t+p.count>=f)return{parentId:e,
preCount:d};t+p.count<f&&(d+=p.count)}return r.mixin({parentId:h.id,rowIndex:f-d},c)},_loadLevels:function(f){f=f||this._openInfo;var k=this.model,g=new m,h,d=[];for(h in f)if(k.isId(h)){var c,a=f[h].path;for(c=0;c<a.length;++c)d[c]=d[c]||[],d[c].push({parentId:a[c],start:0,count:1})}var b=function(a){a<d.length?k.when(d[a],function(){q.forEach(d[a],function(a){k.keep(a.parentId,1)});b(a+1)}).then(null,function(a){g.errback(a)}):k.when({}).then(function(){g.callback()},function(a){g.errback(a)})};
b(0);return g},_updateVC:function(){var f=this.model,k=this._openInfo,g=k[""],h=g.openned.length,d=f.size(),c,a,b;d<this.rootStart+this.rootCount&&(d>this.rootStart?this.rootCount=d-this.rootStart:(this.rootStart=0,this.rootCount=d));d=this.rootCount;for(c=0;c<h;++c)a=k[g.openned[c]],b=f.idToIndex(a.id),b>=this.rootStart&&b<this.rootStart+this.rootCount&&(d+=a.count);this.visualCount=d},_onSizeChange:function(f,k){!this.paging&&(0===this.rootStart&&(this.rootCount===k||0>k))&&this.updateRootRange(0,
f)},_onDelete:function(f,k,g){if(g){var h=this._openInfo,d=this._parentOpenInfo,c=h[f],a=this.model,b=g.pop();g=1;var e=function(b,c){var f=h[b];q.forEach(d[b]||[],function(a){e(a)});delete d[b];if(f)delete h[b],c=f.parentId;else if(!a.isId(c))return;var f=d[c],g=q.indexOf(f,b);0<=g&&f.splice(g,1)};c?(g+=c.count,c=h[c.parentId]):a.isId(b)&&(c=h[b]);for(e(f,b);c;)c.count-=g,c=h[c.parentId];String(b)==String(a.layerId())&&(k>=this.rootStart&&k<this.rootStart+this.rootCount)&&this.rootCount--;f=a.idToIndex(a.rootId(f));
f>=this.rootStart&&f<this.rootStart+this.rootCount&&(this.visualCount-=g)}else this._clear();this.grid.body.lazyRefresh()}})})},"gridx/modules/Body":function(){define("dojo/_base/declare ../support/query dojo/_base/array dojo/_base/lang dojo/_base/json dojo/dom-construct dojo/dom-class dojo/_base/Deferred dojo/_base/sniff dojo/keys ../core/_Module".split(" "),function(n,q,r,m,l,f,k,g,h,d,c){return n(c,{name:"body",forced:["view"],constructor:function(){var a=this,b=a.grid,e=a.domNode=b.bodyNode;a._cellCls=
{};a.arg("rowHoverEffect")&&k.add(e,"gridxBodyRowHoverEffect");b.emptyNode.innerHTML=a.arg("loadingInfo",b.nls.loadingInfo);b._connectEvents(e,"_onMouseEvent",a);a.aspect(a.model,"onDelete","_onDelete");a.aspect(a.model,"onSet","_onSet");b.touch||(a.aspect(b,"onRowMouseOver","_onRowMouseOver"),a.connect(b.mainNode,"onmouseleave",function(){q("\x3e .gridxRowOver",a.domNode).removeClass("gridxRowOver")}),a.connect(b.mainNode,"onmouseover",function(e){e.target==b.bodyNode&&q("\x3e .gridxRowOver",a.domNode).removeClass("gridxRowOver")}));
a.aspect(b.model,"setStore",function(){a.refresh()})},preload:function(){this._initFocus()},load:function(a){a=this.grid.view;this.aspect(a,"onUpdate","lazyRefresh");a._err&&this._loadFail(a._err);this.loaded.callback()},destroy:function(){this.inherited(arguments);this.domNode.innerHTML="";this._destroyed=!0},rowMixin:{node:function(){return this.grid.body.getRowNode({rowId:this.id})}},cellMixin:{node:function(){return this.grid.body.getCellNode({rowId:this.row.id,colId:this.column.id})},contentNode:function(){var a=
this.node();return a&&q(".gridxCellContent",a)[0]||a}},rowHoverEffect:!0,stuffEmptyCell:!0,renderWholeRowOnSet:!1,renderStart:0,renderCount:0,autoUpdate:!0,compareOnSet:function(a,b){return"object"==typeof a&&"object"==typeof b?l.toJson(a)==l.toJson(b):a===b},addClass:function(a,b,e){var c=this._cellCls,c=c[a]=c[a]||{},c=c[b]=c[b]||[];0>r.indexOf(c,e)&&(c.push(e),k.add(this.getCellNode({rowId:a,colId:b}),e))},removeClass:function(a,b,e){var c=this._cellCls[a],d=(c=c&&c[b])&&r.indexOf(c,e);0<=d&&(c.splice(d,
1),k.remove(this.getCellNode({rowId:a,colId:b}),e))},getRowNode:function(a){return this.model.isId(a.rowId)&&(h("ie")||h("trident"))?this._getRowNode(a.rowId):(a=this._getRowNodeQuery(a))&&q("\x3e "+a,this.domNode)[0]||null},getCellNode:function(a){var b=a.colId,e=this.grid._columns,c=this._getRowNodeQuery(a);return c?(!b&&e[a.colIndex]&&(b=e[a.colIndex].id),b=" [colid\x3d'"+b+"'].gridxCell",this.model.isId(a.rowId)&&(h("ie")||h("trident"))?(a=this._getRowNode(a.rowId))&&q(b,a)[0]||null:q(c+b,this.domNode)[0]||
null):null},refresh:function(a){var b=this,e=b.grid.loadingNode,c=new g;delete b._err;clearTimeout(b._sizeChangeHandler);k.toggle(b.domNode,"gridxBodyRowHoverEffect",b.arg("rowHoverEffect"));k.add(e,"gridxLoading");b.grid.view.updateVisualCount().then(function(){try{var d=b.renderStart,h=b.renderCount,l=b.grid.view.visualCount;d+h>l&&(h<l?d=b.renderStart=l-h:(d=b.renderStart=0,h=l));if("number"==typeof a&&0<=a){a=d>a?d:a;var m=d+h-a,n=q('\x3e [visualindex\x3d"'+a+'"]',b.domNode)[0],d=[],h=[];if(n){var y=
b._buildRows(a,m,d,h);y&&f.place(y,n,"before")}var A={};for(r.forEach(h,function(a){A[a.id]=1});n;){var u=n.nextSibling,w=n.getAttribute("rowid");if(!A[w])b.onUnrender(w,"refresh");f.destroy(n);n=u}r.forEach(h,b.onAfterRow,b);g.when(b._buildUncachedRows(d),function(){b.onRender(a,m);b.onForcedScroll();k.remove(e,"gridxLoading");c.callback()})}else b.renderRows(d,h,0,1),b.onForcedScroll(),k.remove(e,"gridxLoading"),c.callback()}catch(z){b._loadFail(z),k.remove(e,"gridxLoading"),c.errback(z)}},function(a){b._loadFail(a);
k.remove(e,"gridxLoading");c.errback(a)});return c},refreshCell:function(a,b){var e=new g,c=this,d=c.model,f=c.grid,h=f._columns[b],k=h&&c.getCellNode({visualIndex:a,colId:h.id});if(k){var l,m=f.view.getRowInfo({visualIndex:a}),n=m.rowIndex,q=m.parentId;d.when({start:n,count:1,parentId:q},function(){if(l=d.byIndex(n,q)){m.rowId=d.indexToId(n,q);var b=f.cell(m.rowId,h.id,1),e=f.tree&&f.tree.isPaddingCell(m.rowId,h.id);k.innerHTML=c._buildCellContent(h,m.rowId,b,a,e);c.onAfterCell(b)}}).then(function(){e.callback(!!l)});
return e}e.callback(!1);return e},lazyRefresh:function(){var a=this;clearTimeout(a._sizeChangeHandler);a._sizeChangeHandler=setTimeout(function(){a._destroyed||a.refresh()},10)},renderRows:function(a,b,e,c){var d=this,h=d.grid,k="",l=[],m=[],n=d.domNode,q=h.emptyNode,u=d.arg("emptyInfo",h.nls.emptyInfo),w="";if(!d._err)if(0<b){q.innerHTML=d.arg("loadingInfo",h.nls.loadingInfo);q.style.zIndex="";"top"!=e&&"bottom"!=e&&d.model.free();k=d._buildRows(a,b,l,m);if("top"==e)d.renderCount+=d.renderStart-
a,d.renderStart=a,f.place(k,n,"first"),h.cellWidget&&h.vScroller._updateRowHeight&&(k=d.renderStart+d.renderCount,h=h.vScroller._updateRowHeight("post"),k-h<a+b&&(b=k-h-a));else if("bottom"==e)d.renderCount=a+b-d.renderStart,f.place(k,n,"last"),h.cellWidget&&h.vScroller._updateRowHeight&&(h.vScroller._updateRowHeight("pre"),d.renderStart>a&&(a=d.renderStart,b=d.renderCount));else{d.renderStart=a;d.renderCount=b;e=c?n.scrollTop:0;if(!d._skipUnrender)d.onUnrender();n.innerHTML=k;n.scrollTop=e;n.scrollLeft=
h.hScrollerNode.scrollLeft;w=k?"":u;k||(q.style.zIndex=1)}r.forEach(m,d.onAfterRow,d);g.when(d._buildUncachedRows(l),function(){d._err||(q.innerHTML=w);d.onRender(a,b)})}else if(!{top:1,bottom:1}[e]){n.scrollTop=0;if(!d._skipUnrender)d.onUnrender();n.innerHTML="";q.innerHTML=u;q.style.zIndex=1;d.onEmpty();d.model.free()}},unrenderRows:function(a,b){if(0<a){var e=this.model,c=0,d,g=this.domNode;if("post"==b)for(;c<a&&g.lastChild;++c){d=g.lastChild.getAttribute("rowid");if(e.isId(d))e.free(d),this.onUnrender(d);
else this.onUnrender(d,void 0,"post");f.destroy(g.lastChild)}else{for(var h=g.scrollTop;c<a&&g.firstChild;++c){d=g.firstChild.getAttribute("rowid");var k=g.firstChild.getAttribute("data-rowHeight"),h=h-(k?parseInt(k,10):g.firstChild.offsetHeight);if(e.isId(d))e.free(d),this.onUnrender(d);else this.onUnrender(d,void 0,"pre");f.destroy(g.firstChild)}this.renderStart+=c;g.scrollTop=0<h?h:0}this.renderCount-=c;e.when()}},onAfterRow:function(){},onAfterCell:function(){},onRender:function(){var a=this.domNode;
9>h("ie")&&a.childNodes.length&&(q("\x3e gridxLastRow",a).removeClass("gridxLastRow"),k.add(a.lastChild,"gridxLastRow"))},onUnrender:function(){},onDelete:function(){},onSet:function(){},onMoveToCell:function(){},onEmpty:function(){},onLoadFail:function(){},onForcedScroll:function(){},collectCellWrapper:function(){},_getRowNodeQuery:function(a){var b,e=this.model,c=this.grid._escapeId;e.isId(a.rowId)?b="[rowid\x3d'"+c(a.rowId)+"']":"number"==typeof a.rowIndex&&0<=a.rowIndex?b="[rowindex\x3d'"+a.rowIndex+
"']"+(e.isId(a.parentId)?"[parentid\x3d'"+c(a.parentId)+"']":""):"number"==typeof a.visualIndex&&0<=a.visualIndex&&(b="[visualindex\x3d'"+a.visualIndex+"']");return b&&b+".gridxRow"},_getRowNode:function(a){for(var b=0,e=this.domNode.childNodes,c;c=e[b];++b)if(c.getAttribute("rowid")==a)return c;return null},_loadFail:function(a){console.error(a);var b=this.grid.emptyNode;b.innerHTML=this.arg("loadFailInfo",this.grid.nls.loadFailInfo);b.style.zIndex=1;this.domNode.innerHTML="";this._err=a;this.onEmpty();
this.onLoadFail(a)},_buildRows:function(a,b,e,c){b=a+b;for(var d=[],f=this.grid,g=this.domNode.scrollWidth,h=f.columns(),k=this.grid._encodeHTML;a<b;++a){var l=f.view.getRowInfo({visualIndex:a}),m=f.row(l.rowId,1);d.push('\x3cdiv class\x3d"gridxRow ',a%2?"gridxRowOdd":"",'" role\x3d"row" visualindex\x3d"',a);m?(this.model.keep(m.id),d.push('" rowid\x3d"',k(m.id),'" rowindex\x3d"',l.rowIndex,'" parentid\x3d"',k(l.parentId),'"\x3e',this._buildCells(m,a,h),"\x3c/div\x3e"),c.push(m)):(d.push('"\x3e\x3cdiv class\x3d"gridxRowDummy" style\x3d"width:',
g,'px;"\x3e\x3c/div\x3e\x3c/div\x3e'),l.start=l.rowIndex,l.count=1,e.push(l))}return d.join("")},_buildUncachedRows:function(a){var b=this;return a.length&&b.model.when(a,function(){try{r.forEach(a,b._buildRowContent,b)}catch(e){b._loadFail(e)}}).then(null,function(a){b._loadFail(a)})},_buildRowContent:function(a){var b=q('\x3e [visualindex\x3d"'+a.visualIndex+'"]',this.domNode)[0];if(b){var e=this.grid.row(a.rowIndex,0,a.parentId);e?(this.model.keep(e.id),b.setAttribute("rowid",e.id),b.setAttribute("rowindex",
a.rowIndex),b.setAttribute("parentid",a.parentId||""),b.innerHTML=this._buildCells(e,a.visualIndex),this.onAfterRow(e)):console.error("Error in Body._buildRowContent: Row is not in cache: "+a.rowIndex)}},onCheckCustomRow:function(a,b){},onBuildCustomRow:function(a,b){},_buildCells:function(a,b,e){var c=a.id,d=['\x3ctable class\x3d"gridxRowTable" role\x3d"presentation" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\x3ctr\x3e'],g={};this.onCheckCustomRow(a,g);if(g[c])g={},this.onBuildCustomRow(a,
g),d.push('\x3ctd class\x3d"gridxCustomRow" aria-readonly\x3d"true" role\x3d"gridcell" tabindex\x3d"-1"\x3e',this._wrapCellData(g[c],c),"\x3c/td\x3e");else for(var g=this.grid,h="body"==g.focus.currentArea()&&this._focusCellRow===b,k=this.model.byId(c).data,l=g._columns,n=this._cellCls[c]||{},q=0,r=l.length;q<r;++q){var w=l[q],z=w.id,D=w.width,G=g.tree&&g.tree.isPaddingCell(c,z),H=w["class"],F=k[z],I=H&&m.isFunction(H),C=w.style&&m.isFunction(w.style),J=(I||C||!G&&w.decorator)&&g.cell(a,e&&e[q]||
z,1),K=this._buildCellContent(w,c,J,b,G,F),E=f.create("div",{innerHTML:K}),E=void 0!==E.innerText&&null!==E.innerText?E.innerText:E.textContent,E=E.trim?E.trim():E.replace(/\s/g,"");isEmpty="\x26nbsp;"===E||!E;d.push('\x3ctd aria-readonly\x3d"true" role\x3d"gridcell" tabindex\x3d"-1" aria-describedby\x3d"',w._domId,'" colid\x3d"',z,'" class\x3d"gridxCell ',h&&this._focusCellCol===q?"gridxCellFocus ":"",G?"gridxPaddingCell ":"",w._class||""," ",(I?H(J):H)||""," ",n[z]?n[z].join(""):"",' " style\x3d"width:',
D,";min-width:",D,";max-width:",D,";",g.getTextDirStyle(z,F),(C?w.style(J):w.style)||"",isEmpty?'" aria-label\x3d"empty cell':"",'"\x3e',K,"\x3c/td\x3e")}d.push("\x3c/tr\x3e\x3c/table\x3e");return d.join("")},_buildCellContent:function(a,b,e,c,d,f){var g="";f=void 0===f&&e?e.data():f;d||(e=a.decorator?a.decorator(f,b,c,e):f,g=this._wrapCellData(e,b,a.id));return(""===g||null===g||void 0===g)&&(8>h("ie")||this.arg("stuffEmptyCell"))?"\x26nbsp;":g},_wrapCellData:function(a,b,e){var c=[];this.collectCellWrapper(c,
b,e);var d=c.length-1;for(0<d&&c.sort(function(a,b){return(a.priority||0)-(b.priority||0)});0<=d;--d)a=c[d].wrap(a,b,e);return a},_onMouseEvent:function(a,b){var e=this.grid,c="onCell"+a,d="onRow"+a;if(e._isConnected(c)||e._isConnected(d))if(this._decorateEvent(b),b.rowId){if(b.columnId)e[c](b);e[d](b)}},_decorateEvent:function(a){r.forEach("rowId columnId rowIndex visualIndex columnIndex parentId cellNode".split(" "),function(b){b in a&&delete a[b]});for(var b=a.target||a.originalTarget,e=this.grid,
c;b&&b!=e.bodyNode;b=b.parentNode){c=b.tagName&&b.tagName.toLowerCase();if("td"==c&&k.contains(b,"gridxCell")&&b.parentNode.parentNode.parentNode.parentNode.parentNode===e.bodyNode){var d=e._columnsById[b.getAttribute("colid")];a.cellNode=b;a.columnId=d.id;a.columnIndex=d.index}if("table"==c&&k.contains(b,"gridxRowTable")&&b.parentNode.parentNode===e.bodyNode){b=b.parentNode;a.rowId=b.getAttribute("rowid");a.parentId=b.getAttribute("parentid");a.rowIndex=parseInt(b.getAttribute("rowindex"),10);a.visualIndex=
parseInt(b.getAttribute("visualindex"),10);break}}},_onDelete:function(a,b,e){e&&1<e.length&&this.lazyRefresh()},_onSet:function(a,b,e,c){var d=this;if(d.autoUpdate&&e){var f=d.grid,g=f.row(a,1),h=g&&g.node();if(h){var k=e.data,l=c.data;e=f._columns;c=d.arg("renderWholeRowOnSet");var m=d.arg("compareOnSet");c?(h.innerHTML=d._buildCells(g,g.visualIndex()),d.onAfterRow(g),d.onSet(g),d.onRender(b,1)):r.forEach(e,function(b){if(!m(k[b.id],l[b.id])){var e=f.tree&&f.tree.isPaddingCell(a,b.id),c=g.cell(b.id,
1);if("auto"===(b.textDir||f.textDir)){var p=f.getTextDir(b.id,c.node().innerHTML);p&&(c.node().style.direction=p)}c.node().innerHTML=d._buildCellContent(b,a,c,g.visualIndex(),e);d.onAfterCell(c)}})}}},_onRowMouseOver:function(a){var b=q("\x3e div.gridxRowOver",this.domNode)[0];a=this.getRowNode({rowId:a.rowId});b!=a&&(b&&k.remove(b,"gridxRowOver"),a&&k.add(a,"gridxRowOver"))},_isDescendantRowNode:function(a){return a.parentNode===this.grid.bodyNode},_isDescendantCellNode:function(a){return a.parentNode.parentNode.parentNode.parentNode.parentNode===
this.grid.bodyNode},_focusCellCol:0,_focusCellRow:0,_initFocus:function(){var a=this,b=a.grid,e=b.focus;e.registerArea({name:"body",priority:1,focusNode:a.domNode,scope:a,doFocus:a._doFocus,doBlur:a._blurCell,onFocus:a._onFocus,onBlur:a._blurCell});a.connect(b.mainNode,"onkeydown",function(c){if(e.arg("enabled")&&"body"==e.currentArea()){var f=b._isCtrlKey(c);if(c.keyCode==d.HOME&&!f)a._focusCellCol=0,a._focusCell(),e.stopEvent(c);else if(c.keyCode==d.END&&!f)a._focusCellCol=b._columns.length-1,a._focusCell(),
e.stopEvent(c);else if(!b.tree||!f){e._noBlur=1;var f={},g=b.isLeftToRight()?1:-1;f[d.LEFT_ARROW]=[0,-g,c];f[d.RIGHT_ARROW]=[0,g,c];f[d.UP_ARROW]=[-1,0,c];f[d.DOWN_ARROW]=[1,0,c];a._moveFocus.apply(a,f[c.keyCode]||[]);e._noBlur=0}}});a.aspect(b,"onCellClick",function(b){a._focusCellRow=b.visualIndex;a._focusCellCol=b.columnIndex});a.aspect(a,"onRender",function(b,c){var d=e.currentArea();e.arg("enabled")&&("body"==d?a._focusCellRow>=b&&a._focusCellRow<b+c&&a._focusCell():e.focusArea(d,1))});a.connect(b.emptyNode,
"onfocus",function(){e.focusArea("body")})},_doFocus:function(a){return this._focusCell(a)||this._focusCell(0,-1,-1)},_focusCell:function(a,b,e){var c=this.grid;c.focus.stopEvent(a);e=0<=e?e:this._focusCellCol;b=0<=b?b:this._focusCellRow;a=c._columns[e]?c._columns[e].id:void 0;var d=this.getCellNode({visualIndex:b,colId:a});if(d)this._blurCell(),k.add(d,"gridxCellFocus"),this._focusCellRow=b,this._focusCellCol=e,c.header._focusHeaderId=a,8>h("ie")?(b=c.bodyNode.scrollLeft,d.focus(),c.bodyNode.scrollLeft=
b):d.focus(),c.hScroller.scrollToColumn(a,d.parentNode.parentNode.parentNode.parentNode);else if(!c.rowCount())return c.emptyNode.focus(),!0;return d},_moveFocus:function(a,b,e){if(a||b){var c,d,f=this,g=f.grid,k=g._columns.length,l=g.view.visualCount,n=9>h("ie")?m.mixin({},e):e;g.focus.stopEvent(e);c=f._focusCellRow+a;c=0>c?0:c>=l?l-1:c;d=f._focusCellCol+b;d=0>d?0:d>=k?k-1:d;g.vScroller.scrollToRow(c).then(function(){f._focusCell(0,c,d);f.onMoveToCell(c,d,n)})}},_nextCell:function(a,b,e,c){var d=
new g,f=this.grid,h=f._columns.length,k=f.view.visualCount;do if(b+=e,0>b||b>=h)a+=e,b=0>b?h-1:0,0>a?(a=k-1,b=h-1):a>=k&&(b=a=0);while(!c(a,b));f.vScroller.scrollToRow(a).then(function(){f.hScroller.scrollToColumn(f._columns[b].id);d.callback({r:a,c:b})});return d},_blurCell:function(){return!!q(".gridxCellFocus",this.domNode).removeClass("gridxCellFocus")},_onFocus:function(a){var b=this.domNode,e=q(a.target).closest(".gridxCell",b);return e[0]&&this._isDescendantCellNode(e[0])?(a=this.grid._columnsById[e[0].getAttribute("colid")].index,
b=parseInt(e.closest(".gridxRow",b)[0].getAttribute("visualindex"),10),this._focusCell(0,b,a)):!1}})})},"gridx/support/query":function(){define(["dojo/query","dojo/_base/array","dojo/_base/lang","dojo/dom-class"],function(n,q,r,m){var l=function(f,k){var g=n.apply(null,arguments);if(!k||"object"===typeof f||"string"===typeof f&&/^[^>]*>\s*[^>\s]*$/.test(f))return g;var h=n(k).closest(".gridx")[0];if(h){var d=h.getAttribute("id"),c=h.childNodes[2].childNodes[1];if(!l.isGridInGrid[d]||!n(".gridx",h).length||
!c.contains(k)&&!k.contains(c))return g}else return g;return g.filter(function(a){m.contains(a,"gridx")&&(a=a.parentNode?a.parentNode:null);return n(a).closest(".gridx")[0]===h})};l.isGridInGrid={};r.mixin(l,n);return l})},"gridx/modules/VLayout":function(){define(["dojo/_base/declare","dojo/DeferredList","../core/_Module"],function(n,q,r){return n(r,{name:"vLayout",preload:function(){var m=this,l=m.grid;m.connect(l,"_onResizeEnd",function(f,k){var g,h=[];for(g in k)h.push(k[g]);(new q(h)).then(function(){m.reLayout()})});
l.autoHeight?(m.connect(l.body,"onRender","reLayout"),m.connect(l.body,"onEmpty","reLayout")):m.connect(l,"setColumns",function(){setTimeout(function(){m.reLayout()},0)})},load:function(m,l){var f=this;l.then(function(){f._defs&&f._mods?(new q(f._defs)).then(function(){f._layout();f.loaded.callback()}):f.loaded.callback()})},register:function(m,l,f,k,g){this._defs=this._defs||[];this._mods=this._mods||{};this._mods[f]=this._mods[f]||[];this._defs.push(g||m.loaded);this._mods[f].push({p:k||0,mod:m,
nodeName:l})},reLayout:function(){var m=0,l,f;for(l in this._mods)(f=this.grid[l])&&(m+=f.offsetHeight);this._updateHeight(m)},_layout:function(){var m=0,l=this._mods,f,k,g,h,d,c;for(f in l)if(k=this.grid[f]){h=l[f];h.sort(function(a,b){return a.p-b.p});for(g=0;g<h.length;++g)d=h[g].mod,c=h[g].nodeName,d&&d[c]&&k.appendChild(d[c]);m+=k.offsetHeight}this._updateHeight(m)},_updateHeight:function(m){var l=this.grid,f=l.domNode,k=l.mainNode.style;if(l.autoHeight){var g=function(){var g=l.bodyNode.lastChild,
g=g?g.offsetTop+g.offsetHeight:l.emptyNode.offsetHeight;f.style.height=g+m+"px";k.height=g+"px"};g();l.vScroller.loaded.then(g)}else f.clientHeight>m&&(k.height=f.clientHeight-m+"px")}})})},"gridx/modules/HLayout":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/_base/array dojo/dom-style dojo/DeferredList ../core/_Module".split(" "),function(n,q,r,m,l,f){return n(f,{name:"hLayout",load:function(f,g){var h=this;h.connect(h.grid,"_onResizeEnd",function(d,c){var a,b=[];for(a in c)b.push(c[a]);
(new l(b)).then(function(){h.reLayout()})});g.then(function(){h._layout()})},lead:0,tail:0,register:function(f,g,h){var d=this._regs=this._regs||[];f||(f=new q,f.callback());d.push([f,g,h])},reLayout:function(){var f=this._regs,g=0,h=0;f&&(r.forEach(f,function(d){var c=d[1].offsetWidth||m.get(d[1],"width");d[2]?h+=c:g+=c}),this.lead=g,this.tail=h,this.onUpdateWidth(g,h))},onUpdateWidth:function(){},_layout:function(){var f=this,g=f._regs;if(g){var h=0,d=0,c=r.map(g,function(a){return a[0]});(new l(c)).then(function(){r.forEach(g,
function(a){var b=a[1].offsetWidth||m.get(a[1],"width");a[2]?d+=b:h+=b});f.lead=h;f.tail=d;f.loaded.callback()})}else f.loaded.callback()}})})},"gridx/modules/VScroller":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/_base/event dojo/_base/sniff dojo/query dojo/dom-geometry dojo/dom-class dojo/dom-style dojo/keys dojox/html/metrics ../core/_Module".split(" "),function(n,q,r,m,l,f,k,g,h,d,c){return n(c,{name:"vScroller",forced:["view","body","vLayout","columnWidth"],optional:["pagination"],
constructor:function(){var a=this.grid,b=this.domNode=a.vScrollerNode;this.stubNode=b.firstChild;if(a.autoHeight)b.style.display="none",8>m("ie")&&(b.style.width="0px");else if(m("mac"))k.add(a.domNode,"gridxMac");else{var e=d.getScrollbar().w,a=a.isLeftToRight();b.style.width=e+"px";b.style[a?"right":"left"]=-e+"px";8>m("ie")&&(this.stubNode.style.width=e+1+"px")}},preload:function(a){this.grid.hLayout.register(null,this.domNode,1)},load:function(a,b){var e=this,c=e.grid,d=c.body,f=e.domNode,g=c.bodyNode;
e.batchConnect([e.domNode,"onscroll","_doScroll"],[g,"onmousewheel","_onMouseWheel"],[c.mainNode,"onkeypress","_onKeyScroll"],m("ff")&&[g,"DOMMouseScroll","_onMouseWheel"]);e.aspect(c,"_onResizeEnd","_onBodyChange");e.aspect(d,"onForcedScroll","_onForcedScroll");e.aspect(d,"onRender","_onBodyChange");e.aspect(c.header,"onRender","_onBodyChange");c.autoHeight||e.aspect(d,"onEmpty",function(){var a=f.style;a.display="none";a.width="";8>m("ie")&&(a.width=e.stubNode.style.width="0px");c.hLayout.reLayout();
c.hScroller.refresh()});b.then(function(){e._updatePos();q.when(e._init(a),function(){e.domNode.style.width="";e.loaded.callback()})})},scrollToRow:function(a,b){var e=new q,c=this.grid.bodyNode,d=this.domNode,f=0,g=l('[visualindex\x3d"'+a+'"]',c)[0],h=function(a){setTimeout(function(){e.callback(a)},5)};if(g){var f=g.offsetTop,k=c.scrollTop;if(b)return d.scrollTop=f,h(!0),e;if(f<=k)f-=k;else if(f+g.offsetHeight>k+c.clientHeight)f=f+g.offsetHeight-k-c.clientHeight;else return h(!0),e;d.scrollTop+=
f}h(!!g);return e},scroll:function(a){this.domNode.scrollTop=a},position:function(){return this.domNode.scrollTop},_init:function(){return this._onForcedScroll()},_update:function(){var a=this.grid;if(!a.autoHeight){var b=a.body,e=a.bodyNode,e=e.scrollHeight>e.clientHeight||e.scrollHeight==e.clientHeight&&b.renderCount<a.view.visualCount,b=this.domNode.style,c=d.getScrollbar().w+(m("webkit")?1:0);8>m("ie")?(c=e?c+2+"px":"0px",this.stubNode.style.width=c,b.width=c):b.width="";e=e?"block":"none";c=
e!=(g.get(this.domNode,"display")||"block");b.display=e;(this._updatePos()||c)&&a.hLayout.reLayout()}},_updatePos:function(){var a=this.grid,b=this.domNode,e=b.style,c=a.isLeftToRight(),a=f.getBorderExtents(a.mainNode),d=c?"right":"left",g=e[d];e[d]=-(b.offsetWidth+(c?a.r:a.l))+"px";return g!=e[d]},_doScroll:function(){this.grid.bodyNode.scrollTop=this.domNode.scrollTop},_onMouseWheel:function(a){"none"!=this.grid.vScrollerNode.style.display&&(this.domNode.scrollTop-="number"===typeof a.wheelDelta?
a.wheelDelta/3:-40*a.detail,r.stop(a))},_onBodyChange:function(){var a=this,b=a.grid;a._update();setTimeout(function(){b.bodyNode&&(a.stubNode.style.height=b.bodyNode.scrollHeight+"px",a._doScroll(),b.vScrollerNode.scrollTop=b.vScrollerNode.scrollTop||0)},0)},_onForcedScroll:function(){var a=this.grid.view,b=this.grid.body;return this.model.when({start:a.rootStart,count:a.rootCount},function(){b.renderRows(0,a.visualCount)})},_onKeyScroll:function(a){var b=this.grid,e=b.body,c=b.bodyNode,d=b.focus,
g=this.domNode,k=b._isCtrlKey(a),l;if(c.childNodes.length&&(!d||"body"==d.currentArea())){if(a.keyCode==h.HOME&&k)g.scrollTop=0,l=c.firstChild,e._focusCellCol=0;else if(a.keyCode==h.END&&k)g.scrollTop=g.scrollHeight-g.offsetHeight,l=c.lastChild,e._focusCellCol=b._columns.length-1;else if(a.keyCode==h.PAGE_UP)g.scrollTop?g.scrollTop-=g.offsetHeight:l=c.firstChild;else if(a.keyCode==h.PAGE_DOWN)g.scrollTop>=g.scrollHeight-g.offsetHeight?l=c.lastChild:g.scrollTop+=g.offsetHeight;else return;d&&(l?(e._focusCellRow=
parseInt(l.getAttribute("visualindex"),10),d.focusArea("body",1)):setTimeout(function(){for(var b=c.childNodes,g=0,k=b.length-1,m=f.position(c),t,n,q=function(e){var c=b[e];e=f.position(c);if(a.keyCode==h.PAGE_DOWN)return c=c.previousSibling,!c&&e.y>=m.y||e.y==m.y?0:c?(e=f.position(c),e.y<m.y&&e.y+e.h>=m.y?0:e.y>m.y?1:-1):-1;c=c.nextSibling;return!c&&e.y+e.h<=m.y+m.h||e.y+e.h==m.y+m.h?0:c?(e=f.position(c),e.y<=m.y+m.h&&e.y+e.h>m.y+m.h?0:e.y>m.y+m.h?1:-1):1};g<=k;)if(t=Math.floor((g+k)/2),n=q(t),0>
n)g=t+1;else if(0<n)k=t-1;else{l=b[t];break}l&&(e._focusCellRow=parseInt(l.getAttribute("visualindex"),10),d.focusArea("body",1))},0));r.stop(a)}}})})},"gridx/modules/HScroller":function(){define("dojo/_base/declare dojo/dom-style dojo/_base/sniff dojo/_base/Deferred dojo/query dojox/html/metrics ../core/_Module".split(" "),function(n,q,r,m,l,f,k){return n(k,{name:"hScroller",constructor:function(){var f=this.grid,h=this.domNode=f.hScrollerNode;f._initEvents(["H"],["Scroll"]);this.container=h.parentNode;
this.stubNode=h.firstChild},preload:function(){var g=this,h=g.grid,d=h.hScrollerNode;if(!h.autoWidth&&(h.vLayout.register(g,"container","footerNode",0),d.style.display="block",g.aspect(h.columnWidth,"onUpdate","refresh"),g.connect(d,"onscroll","_onScroll"),h.dod&&g.connect(h.bodyNode,"onscroll",function(){g.domNode.scrollLeft=h.bodyNode.scrollLeft}),r("ie")||r("trident")))d.style.height=f.getScrollbar().h+2+"px"},scroll:function(f){var h=this.domNode;if((r("webkit")||8>r("ie"))&&!this.grid.isLeftToRight())f=
h.scrollWidth-h.offsetWidth-f;r("ff")&&(!this.grid.isLeftToRight()&&0<f)&&(f=-f);h.scrollLeft=f},scrollToColumn:function(f,h){var d=this.grid.header.innerNode,c=l(".gridxCell",d),a=0,b=0,e=this.grid.isLeftToRight(),p=this.domNode.scrollLeft;if(!e&&(r("webkit")||8>r("ie")))p=this.domNode.scrollWidth-p-d.offsetWidth;if(h&&(this.grid.columnLock&&this.grid.columnLock.count)&&(p=h.scrollLeft,p!=this.domNode.scrollLeft)){this.scroll(p);return}for(var p=Math.abs(p),s=0;s<c.length&&!(a=c[s].offsetLeft,b=
a+c[s].offsetWidth,c[s].getAttribute("colid")==f);s++);e&&a<p?this.scroll(a):e&&b>p+d.offsetWidth?this.scroll(b-d.offsetWidth):!e&&b>d.scrollWidth-p?this.scroll(b-d.scrollWidth):!e&&a+p<d.scrollWidth-d.offsetWidth&&this.scroll(d.scrollWidth-d.offsetWidth-a)},refresh:function(){var f=this.grid,h=f.isLeftToRight(),d=f.hLayout.lead,c=f.hLayout.tail,a=(f.domNode.clientWidth||q.get(f.domNode,"width"))-d-c,b=f.header.innerNode,e=q.get(b,h?"paddingLeft":"paddingRight")||0,p=this.domNode.style,b=b.firstChild.offsetWidth+
e,s=p.display,k=b<=a?"none":"block";p[h?"marginLeft":"marginRight"]=d+e+"px";p[h?"marginRight":"marginLeft"]=c+"px";p.width=(0>a-e?0:a-e)+"px";this.stubNode.style.width=(0>b-e?0:b-e)+"px";p.display=k;s!=k&&f.vLayout.reLayout()},_lastLeft:0,_onScroll:function(f){f=this.domNode.scrollLeft;if((r("webkit")||8>r("ie"))&&!this.grid.isLeftToRight())f=this.domNode.scrollWidth-this.domNode.offsetWidth-f;this._lastLeft!=f&&(this._lastLeft=f,this._doScroll())},_doScroll:function(f){f=this.grid;f.bodyNode.scrollLeft=
this.domNode.scrollLeft;f.onHScroll(this._lastLeft)}})})},"gridx/modules/ColumnWidth":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/Deferred ../support/query dojo/_base/sniff dojo/dom-geometry dojo/dom-class dojo/dom-style dojo/keys ../core/_Module".split(" "),function(n,q,r,m,l,f,k,g,h,d){function c(a,e,c){a.sort(function(a,b){return(a.minWidth||0)-(b.minWidth||0)});for(var d=a.length-1,f;0<=d;--d)if(f=a[d],f.minWidth&&(f.minWidth+c)*(d+1)>e)f.width=f.minWidth+"px",e-=f.minWidth+
c;else break;var g=d+1;if(g){var h=Math.floor(e/g-c);e=e-(h+c)*(g-1)-c;0>h&&(h=0);0>e&&(e=0);for(d=0;d<g;++d)f=a[d],f.width=(d?h:e)+"px"}}var a=6>l("safari")||!l("safari")&&l("webkit")&&l("ios");return n(d,{name:"columnWidth",forced:["hLayout"],constructor:function(){this._init()},load:function(){var a=this.grid;this.aspect(a.hLayout,"onUpdateWidth","_onUpdateWidth");this.aspect(a,"setColumns","_onSetColumns");this._adaptWidth();this.loaded.callback()},"default":60,autoResize:!1,onUpdate:function(){},
_init:function(){var a=this,e=a.grid,c=a.arg("autoResize"),d=a.arg("default")+"px";q.forEach(e._columns,function(f){f.hasOwnProperty("declaredWidth")||(f.declaredWidth=f.width=f.width||"auto");e.autoWidth&&("auto"==f.declaredWidth||/%$/.test(f.declaredWidth))?f.width=a["default"]<f.minWidth?f.minWidth+"px":d:c&&!/%$/.test(f.declaredWidth)&&(f.width="auto")});c&&k.add(e.domNode,"gridxPercentColumnWidth")},_onUpdateWidth:function(){var a=this.grid;if(a.autoWidth)this._adaptWidth();else{var e="none"==
a.hScrollerNode.style.display,c=this.autoResize;this._adaptWidth(!e,1);!c&&e&&m(".gridxCell",a.bodyNode).forEach(function(e){var d=a._columnsById[e.getAttribute("colId")],f=d.declaredWidth;if(c||!f||"auto"==f||/%$/.test(f))e=e.style,d=d.width,e.width=d,e.minWidth=d,e.maxWidth=d});this.onUpdate()}},_adaptWidth:function(b,e){var d=this.grid,h=d.domNode,k=d.header,l=this.arg("autoResize"),n=d.isLeftToRight(),r=n?"marginLeft":"marginRight",n=n?"marginRight":"marginLeft",y=d.hLayout.lead,A=d.hLayout.tail,
u=k.innerNode,w=d.bodyNode.style,z=u.style,D=f.getBorderExtents(k.domNode).w,G=D,H=0,F=(h.clientWidth||g.get(h,"width"))-y-A-D,I=(D=m(".gridxCell",u)[0])?f.getMarginBox(D).w-f.getContentBox(D).w:0,C=d.header.arg("groups"),J=!h.offsetHeight;this._padBorder=I;0===G?G=1:H=2;z[r]=y+"px";z[n]=(A>G?A-G:0)+"px";d.mainNode.style[r]=y+"px";d.mainNode.style[n]=A+"px";F=0>F?0:F;if(b)this.onUpdate();else{l&&a&&m(".gridxCell",u).forEach(function(a){var b=d._columnsById[a.getAttribute("colid")];if(/px$/.test(b.declaredWidth)){var e=
parseInt(b.declaredWidth,10)+I,e=b.width=e+"px";a.style.width=e;a.style.minWidth=e;a.style.maxWidth=e}});if(d.autoWidth){var K=0;m(".gridxCell",u).forEach(function(b){var e=d._columnsById[b.getAttribute("colid")],c=g.get(b,"width");if(C||!a||!J)c+=I;c<e.minWidth&&(c=e.minWidth);K+=c;if("auto"==e.width||/%$/.test(e.width))b.style.width=e.width=c+"px",b.style.minWidth=e.width,b.style.maxWidth=e.width});w.width=K+"px";h.style.width=y+A+K+H+"px"}else if(l)z.borderWidth="none"==d.vScrollerNode.style.display?
0:"";else{var E=[],h=d._columns,M=0;!C&&a&&(I=0);q.forEach(h,function(a){if("auto"==a.declaredWidth)E.push(a);else if(/%$/.test(a.declaredWidth)){var b=parseFloat(F*parseFloat(a.declaredWidth,10)/100-I,10);0>b&&(b=0);"number"==typeof a.minWidth&&b<a.minWidth&&(b=a.minWidth);var e=k.getHeaderNode(a.id);e.style.width=a.width=b+"px";e.style.minWidth=a.width;e.style.maxWidth=a.width}});q.forEach(h,function(b){if("auto"!=b.declaredWidth){var e=k.getHeaderNode(b.id),e=!C&&a?parseFloat(e.style.width,10):
g.get(e,"width")+I;/%$/.test(b.declaredWidth)&&(b.width=(e>I?e-I:0)+"px");M+=e}});if(E.length){h=F-M;if(0<h)c(E,h,I);else{var P=this.arg("default");q.forEach(E,function(a,b){var e=P;"number"==typeof a.minWidth&&e<a.minWidth&&(e=a.minWidth);a.width=e+"px"})}q.forEach(E,function(a,b){var e=k.getHeaderNode(a.id);e.style.width=a.width;e.style.minWidth=a.width;e.style.maxWidth=a.width})}}C&&(m(".gridxCell",k.innerNode).forEach(function(a){var b=d._columnsById[a.getAttribute("colid")];if(/px$/.test(b.width)){var e=
a.clientWidth-f.getPadExtents(a).w;parseInt(b.width,10)!=e&&(b.width=e+="px",a.style.width=e,a.style.minWidth=e,a.style.maxWidth=e)}}),d.autoWidth&&m(".gridxCell",d.bodyNode).forEach(function(a){var b=d._columnsById[a.getAttribute("colId")],b=b&&b.width;a=a.style;b&&(a.width=b,a.minWidth=b,a.maxWidth=b)}));d.hScroller.scroll(0);k._onHScroll(0);d.vLayout.reLayout();if(!e)this.onUpdate()}},_onSetColumns:function(){var a=this.grid;this._init();a.header._build();this._adaptWidth();a.cellWidget&&(a.cellWidget._init(),
a.edit&&a.edit._init());a.tree&&a.tree._initExpandLevel();a.body.refresh();a.header.onRender()}})})},"gridx/modules/Focus":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/connect dojo/_base/lang dojo/_base/sniff dojo/_base/window dojo/_base/event dojo/keys ../core/_Module".split(" "),function(n,q,r,m,l,f,k,g,h){function d(c,a){var b=0,e=c.length,d;for(d=Math.floor((b+e)/2);b+1<e;d=Math.floor((b+e)/2))0<a(c[d])?e=d:b=d;return c.length&&0<=a(c[b])?b:e}return n(h,{name:"focus",constructor:function(){var c=
this,a=c.grid;c._areas={};c._tabQueue=[];c._focusNodes=[];c._onDocFocus=function(a){if(!c._noBlur){if(l("ie")||l("trident"))a.target=a.srcElement;c._onFocus(a)}};c.arg("enabled",!a.touch);c.batchConnect([a.domNode,"onkeydown","_onTabDown"],[a.domNode,"onfocus","_focus"],[a.lastFocusNode,"onfocus","_focus"],[a,"onBlur","_doBlur"]);9>l("ie")?f.doc.attachEvent("onfocusin",c._onDocFocus):f.doc.addEventListener("focus",c._onDocFocus,!0)},destroy:function(){this._areaQueue=this._areas=null;this._focusNodes=
[];this._queueIdx=-1;9>l("ie")?f.doc.detachEvent("onfocusin",this._onDocFocus):f.doc.removeEventListener("focus",this._onDocFocus,!0);this.inherited(arguments)},registerArea:function(c){if(c&&c.name&&"number"==typeof c.priority){var a=this._tabQueue,b=function(a){c[a]=c[a]?m.hitch(c.scope||c,c[a]):function(){return!0}};this._areas[c.name]&&this.removeArea(c.name);b("doFocus");b("doBlur");b("onFocus");b("onBlur");c.connects=c.connects||[];this._areas[c.name]=c;b=d(a,function(a){return a.p-c.priority});
a[b]&&a[b].p===c.priority?(a[b].stack.unshift(c.name),this._focusNodes[b]=c.focusNode||this._focusNodes[b]):(a.splice(b,0,{p:c.priority,stack:[c.name]}),this._focusNodes.splice(b,0,c.focusNode))}},focusArea:function(c,a){var b=this._areas[c];if(b&&this.arg("enabled")){var e=this._areas[this.currentArea()];if(e&&e.name===c)return a&&e.doFocus(null,null,a),!0;if(!e||e.doBlur()){if(e)this.onBlurArea(e.name);if(b.doFocus())return this.onFocusArea(b.name),this._updateCurrentArea(b),!0;this._updateCurrentArea()}}return!1},
blur:function(){var c=this._areas[this.currentArea()];c&&c.doBlur();this._queueIdx=-1;this._stackIdx=0},currentArea:function(){var c=this._tabQueue[this._queueIdx];return c?c.stack[this._stackIdx]:""},tab:function(c,a){var b=this._areas,e=b[this.currentArea()];if(!c)return e?e.name:"";var d=this._queueIdx+c,f=0<c?1:-1,g=this._tabQueue;if(e){var h=e.doBlur(a,c),k=b[h];if(h)this.onBlurArea(e.name);if(k&&k.doFocus(a,c))return this.onFocusArea(k.name),this._updateCurrentArea(k),k.name;if(!h)return e.name}for(;0<=
d&&d<g.length;d+=f){h=g[d].stack;for(e=0;e<h.length;++e)if(k=h[e],b[k].doFocus(a,c))return this.onFocusArea(k),this._queueIdx=d,this._stackIdx=e,k}this._tabingOut=1;0>c?(this._queueIdx=-1,this.grid.domNode.focus()):(this._queueIdx=g.length,this.grid.lastFocusNode.focus());return""},removeArea:function(c){var a=this._areas[c];if(a){this.currentArea()===c&&this._updateCurrentArea();var b=d(this._tabQueue,function(b){return b.p-a.priority}),e,f=this._tabQueue[b].stack;for(e=f.length-1;0<=e;--e)if(f[e]===
a.name){f.splice(e,1);break}f.length||(this._tabQueue.splice(b,1),this._focusNodes.splice(b,1));q.forEach(a.connects,r.disconnect);delete this._areas[c];return!0}return!1},stopEvent:function(c){c&&k.stop(c)},onFocusArea:function(){},onBlurArea:function(){},_queueIdx:-1,_stackIdx:0,_onTabDown:function(c){this.arg("enabled")&&c.keyCode===g.TAB&&this.tab(c.shiftKey?-1:1,c)},_onFocus:function(c){var a,b,e,d;b=this.grid.domNode;e=c.target;var f=this._areas[this.currentArea()];if(this.arg("enabled")){for(;e&&
e!==b;){a=q.indexOf(this._focusNodes,e);if(0<=a){e=this._tabQueue[a].stack;for(b=0;b<e.length;++b)if(d=this._areas[e[b]],d.onFocus(c)){f&&f.name!==d.name&&(f.onBlur(c),this.onBlurArea(f.name));this.onFocusArea(d.name);this._queueIdx=a;this._stackIdx=b;break}return}e=e.parentNode}e==b&&f&&this._doBlur(c,f)}},_focus:function(c){this.arg("enabled")&&(this._tabingOut?this._tabingOut=0:c.target==this.grid.domNode?(this._queueIdx=-1,this.tab(1)):c.target===this.grid.lastFocusNode&&(this._queueIdx=this._tabQueue.length,
this.tab(-1)))},_doBlur:function(c,a){this.arg("enabled")&&(!a&&this.currentArea()&&(a=this._areas[this.currentArea()]),a&&(a.onBlur(c),this.onBlurArea(a.name),this._updateCurrentArea()))},_updateCurrentArea:function(c){var a=this._tabQueue;if(c){var b=this._queueIdx=d(a,function(a){return a.p-c.priority});this._stackIdx=q.indexOf(a[b].stack,c.name)}else this._queueIdx=null,this._stackIdx=0}})})},"dijit/_BidiSupport":function(){define(["dojo/has","./_WidgetBase","./_BidiMixin"],function(n,q,r){q.extend(r);
n.add("dojo-bidi",!0);return q})},"dijit/_BidiMixin":function(){define([],function(){return{textDir:"",getTextDir:function(n){return"auto"==this.textDir?this._checkContextual(n):this.textDir},_checkContextual:function(n){return(n=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(n))?"z">=n[0]?"ltr":"rtl":this.dir?this.dir:this.isLeftToRight()?"ltr":"rtl"},applyTextDir:function(n,q){if(this.textDir){var r=this.textDir;"auto"==r&&("undefined"===typeof q&&(r=n.tagName.toLowerCase(),
q="input"==r||"textarea"==r?n.value:n.innerText||n.textContent||""),r=this._checkContextual(q));n.dir!=r&&(n.dir=r)}},enforceTextDirWithUcc:function(n,q){return this.textDir?(n&&(n.originalText=q),("ltr"==("auto"==this.textDir?this._checkContextual(q):this.textDir)?"\u202a":"\u202b")+q+"\u202c"):q},restoreOriginalText:function(n){n.originalText&&(n.text=n.originalText,delete n.originalText);return n},_setTextDirAttr:function(n){if(!this._created||this.textDir!=n)this._set("textDir",n),n=null,this.displayNode?
(n=this.displayNode,this.displayNode.align="rtl"==this.dir?"right":"left"):n=this.textDirNode||this.focusNode||this.textbox,n&&this.applyTextDir(n)}}})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(n,q,r,m,l){var f=l.doc.documentElement;l=m("ie");var k=m("opera"),g=Math.floor,h=m("ff"),d=n.boxModel.replace(/-/,""),k={dj_quirks:m("quirks"),dj_opera:k,dj_khtml:m("khtml"),dj_webkit:m("webkit"),dj_safari:m("safari"),dj_chrome:m("chrome"),
dj_gecko:m("mozilla"),dj_ios:m("ios"),dj_android:m("android")};l&&(k.dj_ie=!0,k["dj_ie"+g(l)]=!0,k.dj_iequirks=m("quirks"));h&&(k["dj_ff"+g(h)]=!0);k["dj_"+d]=!0;var c="",a;for(a in k)k[a]&&(c+=a+" ");f.className=q.trim(f.className+" "+c);r(function(){if(!n.isBodyLtr()){var a="dj_rtl dijitRtl "+c.replace(/ /g,"-rtl ");f.className=q.trim(f.className+" "+a+"dj_rtl dijitRtl "+c.replace(/ /g,"-rtl "))}});return m})},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],
function(n,q,r,m){r(function(){q("highcontrast")&&n.add(m.body(),"dijit_a11y")});return q})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),function(n,q,r,m,l,f,k){l.add("highcontrast",function(){var f=k.doc.createElement("div");f.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+(q.blankGif||n.toUrl("./resources/blank.gif"))+'");';k.body().appendChild(f);
var h=m.getComputedStyle(f),d=h.backgroundImage,h=h.borderTopColor==h.borderRightColor||d&&("none"==d||"url(invalid-url:)"==d);8>=l("ie")?f.outerHTML="":k.body().removeChild(f);return h});f(function(){l("highcontrast")&&r.add(k.body(),"dj_a11y")});return l})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),function(n,q,r,m,l,f,k,g,h){function d(a){return function(b,e,c){return 2==
arguments.length?a["string"==typeof e?"get":"set"](b,e):a.set(b,e,c)}}var c=function(a){return 1==a.length&&"string"==typeof a[0]},a=function(a){var b=a.parentNode;b&&b.removeChild(a)},b=q.NodeList,e=b._adaptWithCondition,p=b._adaptAsForEach,s=b._adaptAsMap;m.extend(b,{_normalize:function(a,b){var e=!0===a.parse;if("string"==typeof a.template){var c=a.templateFunc||n.string&&n.string.substitute;a=c?c(a.template,a):a}c=typeof a;"string"==c||"number"==c?(a=f.toDom(a,b&&b.ownerDocument),a=11==a.nodeType?
m._toArray(a.childNodes):[a]):m.isArrayLike(a)?m.isArray(a)||(a=m._toArray(a)):a=[a];e&&(a._runParse=!0);return a},_cloneNode:function(a){return a.cloneNode(!0)},_place:function(a,b,e,c){if(!(1!=b.nodeType&&"only"==e))for(var d,p=a.length,g=p-1;0<=g;g--){var h=c?this._cloneNode(a[g]):a[g];if(a._runParse&&n.parser&&n.parser.parse){d||(d=b.ownerDocument.createElement("div"));d.appendChild(h);n.parser.parse(d);for(h=d.firstChild;d.firstChild;)d.removeChild(d.firstChild)}g==p-1?f.place(h,b,e):b.parentNode.insertBefore(h,
b);b=h}},position:s(k.position),attr:e(d(g),c),style:e(d(h),c),addClass:p(l.add),removeClass:p(l.remove),toggleClass:p(l.toggle),replaceClass:p(l.replace),empty:p(f.empty),removeAttr:p(g.remove),marginBox:s(k.getMarginBox),place:function(a,b){var e=q(a)[0];return this.forEach(function(a){f.place(a,e,b)})},orphan:function(b){return(b?q._filterResult(this,b):this).forEach(a)},adopt:function(a,b){return q(a).place(this[0],b)._stash(this)},query:function(a){if(!a)return this;var e=new b;this.map(function(b){q(a,
b).forEach(function(a){void 0!==a&&e.push(a)})});return e._stash(this)},filter:function(a){var b=arguments,e=this,c=0;if("string"==typeof a){e=q._filterResult(this,b[0]);if(1==b.length)return e._stash(this);c=1}return this._wrap(r.filter(e,b[c],b[c+1]),this)},addContent:function(a,b){a=this._normalize(a,this[0]);for(var e=0,c;c=this[e];e++)a.length?this._place(a,c,b,0<e):f.empty(c);return this}});return b})},"dojo/NodeList-traverse":function(){define(["./query","./_base/lang","./_base/array"],function(n,
q,r){var m=n.NodeList;q.extend(m,{_buildArrayFromCallback:function(l){for(var f=[],k=0;k<this.length;k++){var g=l.call(this[k],this[k],f);g&&(f=f.concat(g))}return f},_getUniqueAsNodeList:function(l){for(var f=[],k=0,g;g=l[k];k++)1==g.nodeType&&-1==r.indexOf(f,g)&&f.push(g);return this._wrap(f,null,this._NodeListCtor)},_getUniqueNodeListWithParent:function(l,f){var k=this._getUniqueAsNodeList(l),k=f?n._filterResult(k,f):k;return k._stash(this)},_getRelatedUniqueNodes:function(l,f){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(f),
l)},children:function(l){return this._getRelatedUniqueNodes(l,function(f,k){return q._toArray(f.childNodes)})},closest:function(l,f){return this._getRelatedUniqueNodes(null,function(k,g){do if(n._filterResult([k],l,f).length)return k;while(k!=f&&(k=k.parentNode)&&1==k.nodeType);return null})},parent:function(l){return this._getRelatedUniqueNodes(l,function(f,k){return f.parentNode})},parents:function(l){return this._getRelatedUniqueNodes(l,function(f,k){for(var g=[];f.parentNode;)f=f.parentNode,g.push(f);
return g})},siblings:function(l){return this._getRelatedUniqueNodes(l,function(f,k){for(var g=[],h=f.parentNode&&f.parentNode.childNodes,d=0;d<h.length;d++)h[d]!=f&&g.push(h[d]);return g})},next:function(l){return this._getRelatedUniqueNodes(l,function(f,k){for(var g=f.nextSibling;g&&1!=g.nodeType;)g=g.nextSibling;return g})},nextAll:function(l){return this._getRelatedUniqueNodes(l,function(f,k){for(var g=[],h=f;h=h.nextSibling;)1==h.nodeType&&g.push(h);return g})},prev:function(l){return this._getRelatedUniqueNodes(l,
function(f,k){for(var g=f.previousSibling;g&&1!=g.nodeType;)g=g.previousSibling;return g})},prevAll:function(l){return this._getRelatedUniqueNodes(l,function(f,k){for(var g=[],h=f;h=h.previousSibling;)1==h.nodeType&&g.push(h);return g})},andSelf:function(){return this.concat(this._parent)},first:function(){return this._wrap(this[0]&&[this[0]]||[],this)},last:function(){return this._wrap(this.length?[this[this.length-1]]:[],this)},even:function(){return this.filter(function(l,f){return 0!=f%2})},odd:function(){return this.filter(function(l,
f){return 0==f%2})}});return m})},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../when","../_base/array"],function(n,q,r,m){n=function(l){function f(c,a){var b=l[c];b&&(l[c]=function(e){var f;"put"===c&&(f=l.getIdentity(e));if(d)return b.apply(this,arguments);d=!0;try{var g=b.apply(this,arguments);r(g,function(b){a("object"==typeof b&&b||e,f)});return g}finally{d=!1}})}var k=[],g=0;l=q.delegate(l);l.notify=function(c,a){g++;for(var b=k.slice(),e=0,d=b.length;e<d;e++)b[e](c,
a)};var h=l.query;l.query=function(c,a){a=a||{};var b=h.apply(this,arguments);if(b&&b.forEach){var e=q.mixin({},a);delete e.start;delete e.count;var d=l.queryEngine&&l.queryEngine(c,e),f=g,n=[],x;b.observe=function(e,c){1==n.push(e)&&k.push(x=function(e,h){r(b,function(b){var k=b.length!=a.count,q,r;if(++f!=g)throw Error("Query is out of date, you must observe() the query prior to any data modifications");var x,y=-1,B=-1;if(void 0!==h){q=0;for(r=b.length;q<r;q++){var C=b[q];if(l.getIdentity(C)==h){x=
C;y=q;(d||!e)&&b.splice(q,1);break}}}if(d){if(e&&(d.matches?d.matches(e):d([e]).length))q=-1<y?y:b.length,b.splice(q,0,e),B=m.indexOf(d(b),e),b.splice(q,1),a.start&&0==B||!k&&B==b.length?B=-1:b.splice(B,0,e)}else e&&(void 0!==h?B=y:a.start||(B=l.defaultIndex||0,b.splice(B,0,e)));if((-1<y||-1<B)&&(c||!d||y!=B)){k=n.slice();for(q=0;b=k[q];q++)b(e||x,y,B)}})});var h={};h.remove=h.cancel=function(){var a=m.indexOf(n,e);-1<a&&(n.splice(a,1),n.length||k.splice(m.indexOf(k,x),1))};return h}}return b};var d;
f("put",function(c,a){l.notify(c,a)});f("add",function(c){l.notify(c)});f("remove",function(c){l.notify(void 0,c)});return l};q.setObject("dojo.store.Observable",n);return n})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(n,q,r,m,l){var f={};n.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),function(k){f[k]=m[k]});r.mixin(f,{defaultDuration:q.defaultDuration||200});r.mixin(l,
f);return l})},"gridx/modules/NavigableCell":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/sniff dojo/dom-class dojo/keys dijit/a11y ../core/_Module".split(" "),function(n,q,r,m,l,f,k){return k.register(n(k,{name:"navigableCell",preload:function(){this.grid.focus.registerArea({name:"navigablecell",priority:1,scope:this,doFocus:this._doFocus,doBlur:this._doBlur,onFocus:this._onFocus,onBlur:this._onBlur,connects:[this.connect(this.grid,"onCellKeyDown","_onKey")]})},_doFocus:function(f,
h){if(this._navigating){var d=this._navElems,c=function(){var a=0>h?d.highest||d.last:d.lowest||d.first;if(a)try{a.focus()}catch(b){}};r("webkit")?c():setTimeout(c,5);return!0}return!1},_doBlur:function(f,h){if(f){var d=this,c=d.model,a=d.grid,b=a.view,e=a.body,p=d._navElems,k=p.lowest||p.first,p=p.last||p.highest||k;(r("ie")||r("trident")?f.srcElement:f.target)==(0<h?p:k)?(q.stop(f),c.when({id:d._focusRowId},function(){function f(p,s){e._nextCell(p,s,g,k).then(function(p){d._focusColId=a._columns[p.c].id;
var g=b.getRowInfo({visualIndex:p.r});d._focusRowId=c.indexToId(g.rowIndex,g.parentId);d._beginNavigate(d._focusRowId,d._focusColId)?(e._focusCellCol=p.c,e._focusCellRow=p.r,d._doFocus(null,h)):f(p.r,p.c)})}var p=b.getRowInfo({parentId:c.treePath(d._focusRowId).pop(),rowIndex:c.idToIndex(d._focusRowId)}).visualIndex,g=0<h?1:-1,k=function(b,e){return d._isNavigable(a._columns[e].id)&&a._columns[e].decorator};f(p,a._columnsById[d._focusColId].index)})):(a.focus._noBlur=1,setTimeout(function(){a.focus._noBlur=
0},0));return!1}this._navigating=!1;return!0},_isNavigable:function(f){return(f=this.grid._columnsById[f])&&(f.navigable||void 0===f.navigable)},_beginNavigate:function(g,h){if(this._isNavigable(h)){this._focusColId=h;this._focusRowId=g;var d=this._navElems=f._getTabNavigable(this.grid.body.getCellNode({rowId:g,colId:h}));return this._navigating=(d.highest||d.last)&&(d.lowest||d.first)}return!1},_onBlur:function(){this._navigating=!1;this.grid.edit&&this.grid.edit._applyAll()},_onFocus:function(f){for(var h=
f.target,d=this.grid.domNode;h&&h!==d&&!m.contains(h,"gridxCell");)h=h.parentNode;if(h&&h!==d){var d=h,c=h.getAttribute("colid");for(this.grid.hScroller.scrollToColumn(c);h&&!m.contains(h,"gridxRow");)h=h.parentNode;if(h)return h=h.getAttribute("rowid"),d!=f.target&&this._beginNavigate(h,c)}return!1},_onKey:function(f){var h=this.grid.focus;f.keyCode==l.F2&&!this._navigating&&"body"==h.currentArea()?this._beginNavigate(f.rowId,f.columnId)&&(q.stop(f),h.focusArea("navigablecell")):f.keyCode==l.ESCAPE&&
(this._navigating&&"navigablecell"==h.currentArea())&&(this._navigating=!1,h.focusArea("body"))}}))})},"gridx/modules/ColumnResizer":function(){define("dojo/_base/declare dojo/_base/window dojo/_base/event dojo/dom dojo/dom-style dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/keys ../support/query dojo/_base/sniff ../core/_Module".split(" "),function(n,q,r,m,l,f,k,g,h,d,c,a){return n(a,{name:"columnResizer",load:function(){var a=this.grid;this.batchConnect([a.header.domNode,"onmousemove",
"_mousemove"],[a,"onHeaderMouseOut","_mouseout"],[a,"onHeaderMouseDown","_mousedown",this,this.name],[a,"onHeaderKeyDown","_keydown"],[q.doc,"onmousemove","_updateResizer"],[q.doc,"onmouseup","_mouseup"]);this.loaded.callback()},columnMixin:{setWidth:function(a){this.grid.columnResizer.setWidth(this.id,a)}},minWidth:20,detectWidth:5,step:2,setWidth:function(a,e){var c=this.grid,f=c._columnsById[a];if(f){var h=c.header.getHeaderNode(a),k=h.style,m=l.get(h,"width"),n=this.arg("minWidth"),q=g.getPadExtents(h),
r=q.l+q.r,q=c._columns;e=parseInt(e,10);e<n&&(e=n);k.width=e+"px";k.minWidth=e+"px";k.maxWidth=e+"px";e=h.clientWidth-r;k.width=e+"px";k.minWidth=e+"px";k.maxWidth=e+"px";f.width=e+"px";f=0;for(h=q.length;f<h;++f)q[f].declaredWidth=q[f].width;d('[colid\x3d"'+c._escapeId(a)+'"]',c.bodyNode).forEach(function(a){a=a.style;a.width=e+"px";a.minWidth=e+"px";a.maxWidth=e+"px"});c.body.onRender();c.hLayout.reLayout();c.vLayout.reLayout();this.onResize(a,e,m)}},onResize:function(){},_mousemove:function(a){var e=
this;if(!e._resizing&&!e._ismousedown){var c=e.arg("detectWidth"),h=e.grid,k=h.isLeftToRight(),l=q.body(),m=h._eventFlags;d(".gridxCell",h.header.innerNode).some(function(n){var q=g.position(n),r=k?q.x+q.w:q.x;n.getAttribute("colid");if(r-c<=a.clientX&&r+c>=a.clientX){var u=(r=d(a._target||a.target).closest("td",h.header.innerNode)[0])&&g.position(r);if(r&&(a.clientX<=u.x+c||a.clientX>=u.x+u.w-c))return f.add(l,"gridxColumnResizing"),e._targetCell=n,e._cellPos=q,m.onHeaderMouseDown=e.name,e._readyToResize=
1}})||(m.onHeaderMouseDown=void 0,f.remove(l,"gridxColumnResizing"));m.onHeaderCellMouseDown=m.onHeaderMouseDown}},_mouseout:function(a){if(!this._resizing){var e=g.position(this.grid.header.domNode);if(c("chrome"))for(var d in e)e[d]=Math.floor(e[d]);if(a.clientY<=e.y||a.clientY>=e.y+e.h||a.clientX<=e.x||a.clientX>=e.x+e.w)this._readyToResize=0,f.remove(q.body(),"gridxColumnResizing")}},_mousedown:function(a){if(this._readyToResize){this._resizing=1;var e=this.grid,c=d(".gridxCell",e.header.innerNode)[0];
m.setSelectable(e.domNode,!1);q.doc.onselectstart=function(){return!1};this._containerPos=g.position(e.domNode);this._headerPos=g.position(e.header.domNode);this._padBorder=g.getMarginBox(c).w-g.getContentBox(c).w;this._initResizer();this._updateResizer(a);this._moving=0;setTimeout(function(){e.focus.blur()},0)}else this._ismousedown=1},_initResizer:function(){var a=this.grid,e=a.hScroller,c=e&&e.container.offsetHeight?e.container:a.bodyNode,e=a.header.domNode.offsetTop,c=c.parentNode.offsetTop+c.offsetHeight-
a.header.domNode.offsetTop,d=this._resizer;d||(d=this._resizer=k.create("div",{className:"gridxColumnResizer"},a.domNode,"last"),this.connect(d,"mouseup","_mouseup"));a=d.style;a.top=e+"px";a.height=c+"px";a.display="block"},_updateResizer:function(a){if(this._resizing){var e=this.grid.isLeftToRight(),c=this.arg("minWidth")+this._padBorder,d=this._cellPos;a=a.clientX;c=e?d.x+c:d.x+d.w-c;if(e?a<c:a>c)a=c;this._width=(e?a-d.x:d.x+d.w-a)-this._padBorder;this._resizer.style.left=a-this._containerPos.x-
2+"px";this._moving=1}},_mouseup:function(a){this._ismousedown=0;if(this._resizing){this._resizing=this._readyToResize=0;f.remove(q.body(),"gridxColumnResizing");m.setSelectable(this.grid.domNode,!0);q.doc.onselectstart=null;this._moving&&(this._moving=0,this.setWidth(this._targetCell.getAttribute("colid"),this._width+"px"));this._resizer.style.display="none";var e=a.clientX,c=a.clientY,d=this._headerPos;e>=d.x&&(e<=d.x+d.w&&c>=d.y&&c<=d.y+d.h)&&(a._target=this._targetCell,this._mousemove(a))}},_keydown:function(a){var e=
this.grid;if((a.keyCode==h.LEFT_ARROW||a.keyCode==h.RIGHT_ARROW)&&e._isCtrlKey(a)&&a.shiftKey){var c=a.columnId,f=d('[colid\x3d"'+e._escapeId(c)+'"].gridxCell',e.header.innerNode)[0],g=this.arg("step"),g=a.keyCode==h.LEFT_ARROW^!!e.isLeftToRight()?g:-g;this.setWidth(c,l.get(f,"width")+g);r.stop(a)}}})})},"gridx/modules/VirtualVScroller":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/sniff dojo/_base/event dojo/_base/Deferred ../support/query dojo/keys ./VScroller ../core/_Module".split(" "),
function(n,q,r,m,l,f,k,g,h,d){return n(h,{constructor:function(c,a){c.autoHeight?q.mixin(this,new h(c,a)):this._scrolls=[]},destroy:function(){this.inherited(arguments);clearTimeout(this._lazyScrollHandle);clearTimeout(this._pVirtual)},buffSize:5,lazy:!1,lazyTimeout:50,scrollToRow:function(c,a){var b=new f,e=this,d=e._scrolls,g=function(){e._subScrollToRow(c,b,a)};d.push(b);e._lazy=e.arg("lazy");e.lazy=!1;1<d.length?d[d.length-2].then(g):g();return b},_subScrollToRow:function(c,a,b){var e=this,d=
0,f=e._avgRowHeight,g=e.grid.bodyNode,h=e.domNode,d=g.scrollTop,l=h.scrollTop,m=g.clientHeight,n=k('[visualindex\x3d"'+c+'"]',g)[0],q=e.grid.focus,u=function(d){d&&!n.getAttribute("rowid")?a.scrollContext=[c,a,b]:(e._scrolls.splice(r.indexOf(e._scrolls,a),1),q&&"body"==q.currentArea()&&q.focusArea("body",1),e.lazy=e._lazy,a.callback(d))};if(n)if(f=n.offsetTop,n.offsetHeight>=m){if(f==d){u(!0);return}d=f-d}else if(f+n.offsetHeight>d+m)d=f-d,b||(d+=n.offsetHeight-m);else if(f<d||b&&f>d)d=f-d;else{u(!0);
return}else if(g.childNodes.length){for(var w=g.firstChild;w&&w.offsetTop<d;)w=w.nextSibling;var z=w&&w.getAttribute("visualindex");if(w&&c<z)d=(c-z)*f;else{for(w=g.lastChild;w&&w.offsetTop+w.offsetHeight>d+m&&w!=g.firstChild;)w=w.previousSibling;z=w&&w.getAttribute("visualindex");if(w&&c>z)d=(c-z)*f;else{u(!1);return}}}else{u(!1);return}m=0===l&&0>d;l=l>=h.scrollHeight-h.offsetHeight&&0<d;if(m||l)e._doVirtualScroll(1);else if(f=h.scrollTop,d=f+(d>g.offsetHeight?d/e._ratio:d),d>h.scrollHeight&&(d=
h.scrollHeight),h.scrollTop=d,h.scrollTop==f){u(!1);return}m&&0==g.firstChild.getAttribute("visualindex")||l&&g.lastChild.getAttribute("visualindex")==e.grid.view.visualCount-1?u(!1):setTimeout(function(){e._subScrollToRow(c,a,b)},5)},_init:function(c){var a=this;a._avgRowHeight=a.grid.body.arg("defaultRowHeight")||24;a._rowHeight={};a._syncHeight();a.connect(a.grid,"_onResizeEnd",function(){a._doScroll(0,1)});a._doScroll(0,1,1)},_doVirtualScroll:function(c){var a=this.domNode,b=a.scrollTop,e=b-(this._lastScrollTop||
0);if(c||e){this._lastScrollTop=b;var d=this.arg("buffSize");c=a.scrollHeight-a.offsetHeight;var f=this.grid.body,g=0+this.grid.view.visualCount,h=this.grid.bodyNode,l=h.firstChild,m=l&&l.clientTop-e,n=h.lastChild,q=n&&n.offsetTop-e+n.offsetHeight,r=h.scrollTop,w=r+h.clientHeight,z=this._avgRowHeight,D=Math.ceil(a.offsetHeight/z)+2*d,G=this._ratio,a=2>=b,H=2>=Math.abs(b-c),F,I,C;if(r==w&&!w||n&&0>n.offsetTop)return;l&&m>r&&m<w?(I=f.renderStart,C=Math.ceil((m-r)*G/z)+d,F=a?0:Math.max(I-C,0),C="top"):
n&&q>r&&q<w?(F=f.renderStart+f.renderCount,C=Math.ceil((w-q)*G/z)+d,I=H&&b?g:Math.min(F+C,g),C="bottom",0===e&&F==g&&(I=f.renderStart,C=Math.ceil((m-r)*G/z)+d,F=a?0:Math.max(I-C,0),C="top")):!l||m>w||!n||q<r?(b<=c/2?(F=a?0:0+Math.max(Math.floor(b*G/z)-d,0),I=Math.min(F+D,g)):(I=H?g:g+Math.min(D-Math.floor((c-b)*G/z),0),F=Math.max(I-D,0)),C="clear"):l&&(a?(g=f.renderStart,0<g&&(F=0,I=g,C="top")):H&&(d=f.renderStart+f.renderCount-1,d<g-1&&(F=d+1,I=g,C="bottom")));"number"==typeof F&&"number"==typeof I&&
(f.renderRows(F,I-F,C),b&&F<I&&(F=k('[visualindex\x3d"'+I+'"]',h)[0])&&(e+=F.offsetTop));a?h.scrollTop=0:H||b>c?h.scrollTop=h.scrollHeight:"clear"!=C&&(h.scrollTop+=e)}this._doVirtual()},_doScroll:function(c,a,b){if(!this._lock||a)!b&&this.arg("lazy")&&!a?(this._lazyScrollHandle&&clearTimeout(this._lazyScrollHandle),this._lazyScrollHandle=setTimeout(q.hitch(this,this._doVirtualScroll,a),this.arg("lazyTimeout"))):this._doVirtualScroll(a)},_onMouseWheel:function(c){"none"!=this.grid.vScrollerNode.style.display&&
(this.domNode.scrollTop-="number"===typeof c.wheelDelta?c.wheelDelta/3:-40*c.detail,l.stop(c))},_onBodyChange:function(){var c=this;c._update();c._doScroll(0,1);r.forEach(c._scrolls,function(a){if(a&&a.scrollContext){var b=a.scrollContext;delete a.scrollContext;c._subScrollToRow.apply(c,b)}})},_onForcedScroll:function(){this._rowHeight={};this._doScroll(0,1)},_avgRowHeight:24,_rowHeight:null,_ratio:1,_syncHeight:function(){var c=this._avgRowHeight*this.grid.view.visualCount,a=1342177;m("ff")?a=17895697:
m("webkit")&&(a=134217726);c>a&&(this._ratio=c/a,c=a);var a=this.domNode,b=this.grid.bodyNode,e=a.scrollTop,d=e>=a.scrollHeight-a.offsetHeight;this.stubNode.style.height=c+"px";this._lastScrollTop&&(a.scrollTop=d?a.scrollHeight:e,this._lastScrollTop=a.scrollTop);a.scrollTop>=a.scrollHeight-a.offsetHeight?b.scrollTop=b.scrollHeight:a.scrollTop||(b.scrollTop=0)},_doVirtual:function(){var c=this;clearTimeout(c._pVirtual);c._pVirtual=setTimeout(function(){c._updateRowHeight()},100)},_updateRowHeight:function(c){var a=
0,b=0,e=this.grid,d=e.body,e=e.bodyNode,f=this.buffSize*this._avgRowHeight,g=e.scrollTop,h=g-f,k=g+e.clientHeight+f,l=this._rowHeight,f=0;r.forEach(e.childNodes,function(e){var c=e.offsetHeight;l[e.getAttribute("rowid")]=c;e.setAttribute("data-rowHeight",c);e.offsetTop>k?++b:e.offsetTop+e.offsetHeight<h&&++a});"post"!=c&&(d.unrenderRows(a),f=a);"pre"!=c&&(d.unrenderRows(b,"post"),f=b);var m,d=c=0;for(m in l)c+=l[m],++d;c&&d&&(this._avgRowHeight=c/d,this._syncHeight());return f},_onKeyScroll:function(c){var a=
this.grid.body,b=this.grid.view,e=this.grid.focus,d=this.domNode,f=this.grid._isCtrlKey(c);if(!e||"body"==e.currentArea()){if(c.keyCode==g.HOME&&f)a._focusCellCol=0,a._focusCellRow=0,d.scrollTop=0,a._focusCell();else if(c.keyCode==g.END&&f)a._focusCellCol=this.grid._columns.length-1,a._focusCellRow=b.visualCount-1,d.scrollTop=this.stubNode.clientHeight-a.domNode.offsetHeight,a._focusCell();else if(c.keyCode==g.PAGE_UP)a=a._focusCellRow=Math.max(a.renderStart-a.renderCount,0),this.scrollToRow(a);else if(c.keyCode==
g.PAGE_DOWN)a=a._focusCellRow=Math.min(b.visualCount-1,a.renderStart+a.renderCount),this.scrollToRow(a,1);else return;l.stop(c)}}})})},"gridx/modules/GroupHeader":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/sniff dojo/dom-class dojo/keys dojo/query ./Header".split(" "),function(n,q,r,m,l,f,k,g,h){n.experimental("gridx/modules/GroupHeader");return q(h,{_skipSub:!1,preload:function(d){this.inherited(arguments);var c=this.grid,a=c._escapeId;c.columnResizer&&
!this._skipSub&&this.aspect(c.columnResizer,"onResize",function(b){var e=g('[colid\x3d"'+a(b)+'"]',c.headerNode)[0].offsetWidth-c.columnWidth._padBorder+"px";e!=c._columnsById[b].width&&g('[colid\x3d"'+a(b)+'"]',c.domNode).forEach(function(a){a=a.style;a.width=e;a.minWidth=e;a.maxWidth=e})})},refresh:function(){this.inherited(arguments);this._curNode=0},_parse:function(){var d=this.grid._columns,c=d.length,a=0,b=0,e=this.arg("groups",[]),f=this._groupsById={},g=function(e,h,k){r.isArrayLike(e)||(e=
[e]);h>b&&(b=h);for(var l=0,m=0;m<e.length;){var n=e[m];if(a>=c)e.splice(m,1);else if("number"==typeof n&&0<n){a+n>c&&(n=e[m]=c-a);for(var q=0;q<n;++q)d[a+q].groupId=k;l+=n;a+=n;++m}else n&&r.isObject(n)?(r.isArrayLike(n.children)||(n.children=[n.children]),n.groupId=k,n.id=n.id||"group-"+h+"-"+d[a].id,n.level=h,n.start=a,q=g(n.children,h+1,n.id),n.children.length?(f[n.id]=n,n.colCount=q,l+=q,++m):e.splice(m,1)):e.splice(m,1)}return l};g(e,0);a<c&&e.push(c-a);return b},_configMoveColumn:function(){var d=
this.grid;if(d.move&&d.move.column){var c=d.move.column.arg("constraints",{}),a;for(a in this._groupsById){var b=this._groupsById[a],e=b.start+b.colCount-1;if("number"!=typeof c[b.start]||e<c[b.start])c[b.start]=e}var f=-1,g=0;m.forEach(d._columns,function(a,b){a.groupId||(b!=f+1&&(g=b),f=b,c[g]=b)})}},_build:function(){var d=this.grid,c=d.focus,a=d._columns.slice(),b=0,e=this._parse(),p=this.groups.slice(),g=['\x3ctable role\x3d"presentation" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0"\x3e'];
for(this._configMoveColumn();p.length;){g.push("\x3ctr\x3e");for(var h=0,k=0,l=p.length;k<l;++k){var m=p.shift();if("number"==typeof m){for(var n=0;n<m;++n){var q=a[h+n],u=q.headerClass,w=q.headerStyle,z=q.width;q._domId=(d.id+"-"+q.id).replace(/\s+/,"");g.push('\x3ctd role\x3d"columnheader" aria-readonly\x3d"true" tabindex\x3d"-1" id\x3d"',q._domId,'" colid\x3d"',q.id,e-b?'" rowspan\x3d"'+(e-b+1):"",'" class\x3d"gridxCell ',b?"gridxSubHeader":"",c&&"header"==c.currentArea()&&q.id==this._focusHeaderId?
this._focusClass:"",(u&&r.isFunction(u)?u(q):u)||"",'" style\x3d"width:',z,";min-width:",z,";max-width:",z,";",d.getTextDirStyle(q.id,q.name),(w&&r.isFunction(w)?w(q):w)||"",'"\x3e\x3cdiv class\x3d"gridxSortNode"\x3e',q.name||"","\x3c/div\x3e\x3c/td\x3e")}a.splice(h,m)}else h+=m.colCount,p=p.concat(m.children),g.push('\x3ctd tabindex\x3d"-1" colspan\x3d"',m.colCount,'" class\x3d"gridxGroupHeader',b?" gridxSubHeader":"",'" groupid\x3d"',m.id,'"\x3e\x3cdiv class\x3d"gridxSortNode"\x3e',m.name||"","\x3c/div\x3e\x3c/td\x3e")}g.push("\x3c/tr\x3e");
b++}g.push("\x3c/table\x3e");this.innerNode.innerHTML=g.join("");f.toggle(this.domNode,"gridxHeaderRowHidden",this.arg("hidden"));f.add(d.domNode,"gridxGH")},_initFocus:function(){var d=this,c=d.grid;c.focus&&c.focus.registerArea({name:"header",priority:0,focusNode:d.innerNode,scope:d,doFocus:d._doFocus,doBlur:d._blurNode,onBlur:d._blurNode,connects:[d.connect(d.domNode,"onkeydown","_onKeyDown"),d.connect(d.domNode,"onmousedown",function(a){d._focusNode(g(a.target).closest("td",d.domNode)[0]);c.focus.currentArea()})]})},
_doFocus:function(d,c){var a=this._curNode||g("td",this.domNode)[0];this._focusNode(a);return a},_focusNode:function(d){if(d){var c=this,a=c.grid,b=c._focusHeaderId=d.getAttribute("colid");if(!b){var b=c._focusGroupId=d.getAttribute("groupid"),e=c._groupsById[b];e&&(b=a._columns[d.offsetLeft+d.offsetWidth>c.innerNode.scrollLeft+c.innerNode.clientWidth?e.start+e.colCount-1:e.start].id)}if(b&&a._columnsById[b])return c._blurNode(),a.hScroller&&a.hScroller.scrollToColumn(b),a.body._focusCellCol=a._columnsById[b].index,
c._curNode=d,f.add(d,c._focusClass),setTimeout(function(){l("webkit")&&f.add(d,c._focusClass);d.focus();c._isMSIE()&&(c.innerNode.scrollLeft=c._scrollLeft)},0),!0}return!1},_isMSIE:function(){var d=navigator.userAgent.toLowerCase();return(/msie/.test(d)||/trident/.test(d))&&!/opera/.test(d)},_blurNode:function(){var d=g("."+this._focusClass,this.innerNode)[0];d&&f.remove(d,this._focusClass);return!0},_getUpNode:function(d){var c=d.getAttribute("colid");d=d.getAttribute("groupid");return(c=this.grid._columnsById[c]||
this._groupsById[d])&&g('[groupid\x3d"'+c.groupId+'"]',this.domNode)[0]},_getDownNode:function(d,c){var a=this._groupsById[d.getAttribute("groupid")];if(a){var b=a.children[0];if("number"==typeof b)return this.getHeaderNode(this.grid._columns[a.start].id);a=g('[groupid\x3d"'+b.id+'"]',this.domNode);return c?a[a.length-1]:a[0]}},_getPrevNode:function(d){var c=d.previousSibling;c||(c=(c=(c=this._getUpNode(d))&&this._getPrevNode(c))&&this._getDownNode(c,1)||c);return c},_getNextNode:function(d){var c=
d.nextSibling;c||(c=(c=(c=this._getUpNode(d))&&this._getNextNode(c))&&this._getDownNode(c)||c);return c},_onKeyDown:function(d){var c=this.grid,a=this._curNode;if(!c._isCtrlKey(d)&&!d.altKey&&(d.keyCode==k.LEFT_ARROW||d.keyCode==k.RIGHT_ARROW)){if(c.focus.stopEvent(d),c=c.isLeftToRight()^d.keyCode==k.RIGHT_ARROW?this._getPrevNode(a):this._getNextNode(a))if(this._focusHeaderId=c.getAttribute("colid"),this._focusGroupId=c.getAttribute("groupid"),this._focusNode(c),this._focusHeaderId)this.onMoveToHeaderCell(this._focusHeaderId,
d)}else d.keyCode==k.UP_ARROW?(c.focus.stopEvent(d),this._focusNode(this._getUpNode(a))):d.keyCode==k.DOWN_ARROW&&(c.focus.stopEvent(d),this._focusNode(this._getDownNode(a)))}})})},"gridx/modules/NestedSort":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/event dojo/query dojo/string dojo/dom-class dojo/dom-construct dojo/keys ../core/_Module ../core/model/extensions/Sort ./HeaderRegions".split(" "),function(n,q,r,m,l,f,k,g,h,d,c){var a=q.filter,b=q.indexOf,e=k.remove,
p=k.add;return n(d,{name:"sort",required:["headerRegions"],modelExtensions:[c],preload:function(b){var e=this;b=e.grid;e._sortData=e.arg("initialOrder",[]);if(b.persist){var c=b.persist.registerAndLoad("sort",function(){return e._sortData});c&&(e._sortData=c)}e._sortData=a(e._sortData,function(a){return e.isSortable(a.colId)});e._sortData.length&&b.model.sort(e._sortData);e.connect(b.headerRegions,"refresh",e._updateUI);b.headerRegions.add(r.hitch(e,e._createBtn,1),10,1);b.headerRegions.add(r.hitch(e,
e._createBtn,0),11,1)},columnMixin:{isSorted:function(){return this.grid.sort.isSorted(this.id)},isSortable:function(){return this.grid.sort.isSortable(this.id)}},getSortData:function(){return this._sortData},sort:function(b){var e=this;e._sortData=a(b,function(a){return e.isSortable(a.colId)});e._doSort()},isSorted:function(a){var b=0;q.some(this._sortData,function(e){if(e.colId==a)return b=e.descending?-1:1,1});return b},isSortable:function(a){return(a=this.grid._columnsById[a])&&(a.sortable||void 0===
a.sortable)},clear:function(){this._sortData.length=0;this._doSort()},_createBtn:function(a,b){var e=this,c=e.grid.nls;if(e.isSortable(b.id)){var d=g.create("div",{"class":"gridxSortBtn gridxSortBtn"+(a?"Single":"Nested"),tabIndex:-1,title:a?c.singleSort+" - "+c.ascending:c.nestedSort+" - "+c.ascending,innerHTML:a?'\x3cspan class\x3d"gridxNestedSortBtnText"\x3e\x26#1784;\x3c/span\x3e\x26nbsp;':e._sortData.length+1+'\x3cspan class\x3d"gridxNestedSortBtnText"\x3e\x26#1784;\x3c/span\x3e'});e.connect(d,
"onmousedown",function(){e._sort(b,d,a)});e.connect(d,"onkeydown",function(c){c.keyCode==h.ENTER&&(m.stop(c),e._sort(b,d,a))});return d}},_sort:function(e,c,d){c=this._sortData;d?(1<c.length&&(c.length=0),d=a(c,function(a){return a.colId===e.id})[0],c.length=0,d&&c.push(d)):d=a(c,function(a){return a.colId===e.id})[0];d?(d.descending&&c.splice(b(c,d),1),d.descending=!d.descending):(d={colId:e.id,descending:!1},c.push(d));this._doSort()},_doSort:function(){var a=this.grid,b=this._sortData;this._updateUI();
a.model.sort(b.length?b:null);a.body.refresh()},_updateUI:function(){var c=this,d=c.grid,f=d.nls,g=d.domNode,h=q.filter(c._sortData,function(a){return d._columnsById[a.colId]});e(g,"gridxSingleSorted");e(g,"gridxNestedSorted");1==h.length?p(g,"gridxSingleSorted"):1<h.length&&p(g,"gridxNestedSorted");l(".gridxCell",d.header.domNode).forEach(function(d){var g=d.getAttribute("colid");if(c.isSortable(g)){q.forEach(["","Desc","Asc","Main"],function(a){e(d,"gridxCellSorted"+a)});var k=l(".gridxSortBtnSingle",
d)[0],m=l(".gridxSortBtnNested",d)[0];k.title=f.singleSort+" - "+f.ascending;m.title=f.nestedSort+" - "+f.ascending;k.innerHTML='\x3cspan class\x3d"gridxNestedSortBtnText"\x3e\x26#1784;\x3c/span\x3e\x26nbsp;';m.innerHTML=h.length+1+'\x3cspan class\x3d"gridxNestedSortBtnText"\x3e\x26#1784;\x3c/span\x3e';var n=a(h,function(a){return a.colId===g})[0];c._setWaiState(d,g,n);if(n){m.innerHTML=b(h,n)+1;p(d,"gridxCellSorted");n==h[0]&&p(d,"gridxCellSortedMain");var r=h.length;n.descending?(p(d,"gridxCellSortedDesc"),
1==r?(k.title=f.singleSort+" - "+f.unsorted,k.innerHTML='\x3cspan class\x3d"gridxNestedSortBtnText"\x3e\x26#9662;\x3c/span\x3e\x26nbsp;'):(m.title=f.nestedSort+" - "+f.unsorted,m.innerHTML+='\x3cspan class\x3d"gridxNestedSortBtnText"\x3e\x26#9662;\x3c/span\x3e')):(p(d,"gridxCellSortedAsc"),1==r?(k.title=f.singleSort+": "+f.descending,k.innerHTML='\x3cspan class\x3d"gridxNestedSortBtnText"\x3e\x26#9652;\x3c/span\x3e\x26nbsp;'):(m.title=f.nestedSort+" - "+f.descending,m.innerHTML+='\x3cspan class\x3d"gridxNestedSortBtnText"\x3e\x26#9652;\x3c/span\x3e'))}}})},
_setWaiState:function(a,b,e){b="Column "+this.grid.column(b).name();var c="none",d="ascending";e&&(c=e.descending?"descending":"ascending",d=e.descending?"none":"descending");e=f.substitute(this.grid.nls.waiSingleSortLabel,[b,c,d]);b=f.substitute(this.grid.nls.waiNestedSortLabel,[b,c,d]);l(".gridxSortBtnSingle",a)[0].setAttribute("aria-label",e);l(".gridxSortBtnNested",a)[0].setAttribute("aria-label",b)}})})},"gridx/core/model/extensions/Sort":function(){define(["dojo/_base/declare","dojo/_base/lang",
"dojo/_base/json","../_Extension"],function(n,q,r,m){return n(m,{name:"sort",priority:30,constructor:function(l,f){var k=f.baseSort;this._mixinAPI("sort");k&&k.length&&(this._baseSort=k,this._sort())},sort:function(){this.model._addCmd({name:"_cmdSort",scope:this,args:arguments})},_cmdSort:function(){var l=arguments;this._sort.apply(this,l[l.length-1])},_sort:function(l){var f=this.model,k=this._baseSort,g=f._cache,h=g.options=g.options||{},d,c,a;if(q.isArrayLike(l)){for(d=0;d<l.length;++d)c=l[d],
c.colId?c.attribute=g.columns?g.columns[c.colId].field||c.colId:c.colId:c.colId=c.attribute;k&&(l=l.concat(k))}else l=k;h.sort&&h.sort.length?r.toJson(h.sort)!==r.toJson(l)&&(a=1):l&&l.length&&(a=1);h.sort=q.clone(l);a&&g.clear();f._msg("storeChange")}})})},"gridx/modules/HeaderRegions":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/_base/array dojo/query dojo/dom-construct dojo/dom-class dojo/dom-style dojo/keys dojo/_base/event ../core/_Module".split(" "),function(n,q,r,m,l,f,k,
g,h,d){return d.register(n(d,{name:"headerRegions",forced:["header"],constructor:function(){this._regions=[]},load:function(){this.refresh();this._initFocus();this.aspect(this.grid.header,"onRender","refresh");this.loaded.callback()},add:function(c,a,b,e){this._regions.push({c:c,p:a||0,f:!e,n:{}});b||this.refresh()},refresh:function(){var c=this,a=c.grid,b=c._regionNodes=[],e=c._regions;e.length&&(r.forEach(c._regionCnnts||[],function(a){a.remove();c._cnnts.splice(r.indexOf(c._cnnts,a),1)}),c._regionCnnts=
[],e.sort(function(a,b){return b.p-a.p}),m(".gridxCell",a.header.domNode).forEach(function(d){f.remove(d,"gridxCellRegion");var g=d.getAttribute("colid"),h=a.column(g,1),k=[];r.forEach(e,function(a){var b=a.n[g];if(!b&&(b=a.n[g]=a.c(h)))f.add(b,"gridxHeaderRegion"),a.f&&(f.add(b,"gridxHeaderRegionFocusable"),b.setAttribute("tabindex",-1),c.connect(b,"onblur","_onRegionBlur"));b&&(l.place(b,d,"first"),a.f&&k.push(b))});if(k.length){var n=m(".gridxSortNode",d)[0];b.push(n);n.setAttribute("tabindex",
-1);c._regionCnnts.push(c.connect(n,"onblur","_onRegionBlur"))}else b.push(d),f.add(d,"gridxCellRegion"),c._regionCnnts.push(c.connect(d,"onblur","_onRegionBlur"));b.push.apply(b,k)}),b[c._curRegionIdx]||(c._curRegionIdx=0))},_onRegionBlur:function(c){c=this.grid.header.domNode;m(".gridxHeaderRegionFocus",c).removeClass("gridxHeaderRegionFocus");f.remove(c,"gridxHeaderFocus")},_initFocus:function(){var c=this.grid;c.focus.registerArea({name:"header",priority:0,focusNode:c.header.domNode,scope:this,
doFocus:this._doFocus,onFocus:this._onFocus,connects:[this.aspect(c,"onHeaderKeyDown","_onKey")]})},_doFocus:function(c){this._focusRegion(this._regionNodes[this._curRegionIdx]);return!0},_onFocus:function(c){c=c.target;var a=this.grid.header.domNode,b=0>r.indexOf(this._regionNodes,c)?m(c,a).closest(".gridxSortNode")[0]:c,b=b||m(c,a).closest(".gridxHeaderRegion")[0];this._focusRegion(b);return b},_focusRegion:function(c){var a=this,b=a.grid;if(c&&!a._lock){a._lock=1;var e=b.header.domNode,d=m(c).closest(".gridxCell",
e)[0];a._curRegionIdx=r.indexOf(a._regionNodes,c);try{c.focus()}catch(g){}setTimeout(function(){m(".gridxHeaderRegionFocus",e).removeClass("gridxHeaderRegionFocus");f.add(d,"gridxHeaderRegionFocus");f.add(e,"gridxHeaderFocus");c.focus();b.hScroller&&b.hScroller.scrollToColumn(d.getAttribute("colid"));a._lock=0},0)}},_onKey:function(c){if(!this.grid._isCtrlKey(c)&&!c.shiftKey&&!c.altKey){var a=this.grid.isLeftToRight(),b=a?g.LEFT_ARROW:g.RIGHT_ARROW;c.keyCode==(a?g.RIGHT_ARROW:g.LEFT_ARROW)?(this._moveFocus(1),
h.stop(c)):c.keyCode==b&&(this._moveFocus(-1),h.stop(c))}},_moveFocus:function(c){for(var a=this._curRegionIdx+c,b=this._regionNodes;b[a]&&"none"==k.get(b[a],"display");)a+=c;b[a]&&this._focusRegion(b[a])}}))})},"gridx/modules/ColumnLock":function(){define("dojo/dom-style dojo/dom-class dojo/dom-geometry dojo/_base/lang ../core/_Module dojo/_base/declare dojo/_base/array dojo/_base/window dojo/query dojo/_base/sniff".split(" "),function(n,q,r,m,l,f,k,g,h,d){return f(l,{name:"columnLock",required:["body"],
count:0,preload:function(){var c=this;c.grid.persist&&(c.count=c.grid.persist.registerAndLoad("columnLock",function(){return c.count}))},load:function(c,a){this.count=this.arg("count");var b=this,e=this.grid;g.body();a.then(function(){if(!e.columnWidth||!e.columnWidth.arg("autoResize"))b.connect(e.body,"onAfterRow",function(a){b._lockColumns(a.node())}),b.connect(e.columnWidth,"onUpdate","_updateHeader"),b.connect(e.header,"onRender","_updateHeader"),b.connect(e.body,"onRender","_updateBody"),b.connect(e.body,
"onAfterCell","_updateBody"),e.columnResizer&&(b.connect(e.columnResizer,"onResize","_updateHeader"),b.connect(e.columnResizer,"onResize","_updateBody")),b.connect(e,"_onResizeEnd","_updateHeader"),b.connect(e,"_onResizeEnd","_updateBody"),b.connect(e.vScroller,"_onBodyChange","_updateBody"),b.connect(e,"resize","_updateUI"),e.header&&(e.header.loaded.then(function(){b._updateHeader()}),e.move&&e.move.column&&b.connect(e.move.column,"move","_updateHeader")),b._hackHScroller(),b.count&&b.lock(b.count);
e.rowLock&&(b.connect(e.rowLock,"onLock",function(){b.grid.hScroller&&b.grid.hScroller._doScroll()}),b.connect(e.rowLock,"onUnlock",function(a){for(var e=b.grid.bodyNode.childNodes,c=0;c<a;c++)b._lockColumns(e[c])}));b.loaded.callback()})},lock:function(c){if(!this.grid.columnWidth||!this.grid.columnWidth.arg("autoResize"))c>=this.grid._columns.length?console.warn("Warning: lock count is larger than columns count, do nothing."):(this.unlock(),c&&q.add(this.grid.domNode,"gridxColumnLock"),this.count=
c,this._updateUI())},unlock:function(){if(!this.grid.columnWidth||!this.grid.columnWidth.arg("autoResize")){q.remove(this.grid.domNode,"gridxColumnLock");var c=h(".gridxHeaderRowInner",this.grid.headerNode)[0];this._unlockColumns(c);k.forEach(this.grid.bodyNode.childNodes,this._unlockColumns,this);this.count=0;this._updateUI()}},_unlockColumns:function(c){for(var a=this.grid.isLeftToRight(),b=c.firstChild.rows[0],e=0;e<this.count;e++){var d=b.cells[e];q.remove(d,"gridxLockedCell");n.set(d,{height:"auto"})}c.style[a?
"paddingLeft":"paddingRight"]="0px";c.style.width="auto";c.firstChild.style.height="auto"},_updateUI:function(){this.grid.header&&this._updateHeader();this._updateBody();this._updateScroller();this.grid.header.onRender();this.grid.hScroller&&this.grid.hScroller._doScroll()},_lockColumns:function(c){if(this.count&&!(this.count>=this.grid._columns.length)){var a=q.contains(c,"gridxHeaderRowInner"),b=this.grid.isLeftToRight(),e=c.firstChild.rows[0],f;c.firstChild.style.height="auto";for(f=0;f<this.count;f++)n.set(e.cells[f],
"height","auto");var g=r.getContentBox(e.cells[e.cells.length-1]).h;f=r.getMarginBox(e.cells[e.cells.length-1]).h;if(8<d("ie")||4<d("trident")){var h=n.getComputedStyle(c.firstChild).height;0<=String(h).toString().indexOf(".")&&(f++,g++)}n.set(c.firstChild,"height",f+"px");h=a=a?this.grid.hLayout.lead:0;for(f=0;f<this.count;f++){var k=e.cells[f],l;q.add(k,"gridxLockedCell");l={height:g+"px"};l[b?"left":"right"]=h+"px";n.set(k,l);h+=k.offsetWidth}c.style[b?"paddingLeft":"paddingRight"]=h-a+"px";c.style.width=
this.grid.bodyNode.offsetWidth-h+a+"px";c.scrollLeft=this.grid.hScroller?this.grid.hScroller.domNode.scrollLeft:0}},_updateHeader:function(){var c=this.grid.header.innerNode,a=c.scrollLeft;this._lockColumns(c);c.scrollLeft=a;this._updateScroller()},_updateBody:function(c){(!c||!1!==c._updateBody)&&k.forEach(this.grid.bodyNode.childNodes,this._lockColumns,this)},_updateScroller:function(){this.grid.hScroller&&this.grid.hScroller.refresh()},_hackHScroller:function(){var c=this;m.mixin(this.grid.hScroller,
{_doScroll:function(){var a=this.domNode.scrollLeft;c.count?k.forEach(this.grid.bodyNode.childNodes,function(b){b.scrollLeft=a;if("absolute"==b.style.position){var e=0;k.forEach(b.firstChild.rows[0].cells,function(b){q.contains(b,"gridxLockedCell")&&(b.style.left=a+e+"px",e+=b.offsetWidth)})}}):this.grid.bodyNode.scrollLeft=a;this.grid.onHScroll(this.grid.hScroller._lastLeft)}})}})})},"gridx/modules/select/Column":function(){define("dojo/_base/declare dojo/query dojo/_base/array dojo/_base/sniff dojo/_base/event dojo/dom-class dojo/keys ./_Base ../../core/_Module".split(" "),
function(n,q,r,m,l,f,k,g,h){return n(g,{name:"selectColumn",columnMixin:{select:function(){this.grid.select.column.selectById(this.id);return this},deselect:function(){this.grid.select.column._markById(this.id,0);return this},isSelected:function(){return this.grid.select.column.isSelected(this.id)}},selectById:function(d){this.arg("multiple")||this.clear(d);this._markById(d,1)},deselectById:function(d){this._markById(d,0)},isSelected:function(d){d=this.grid._columnsById[d];return!(!d||!d._selected)},
getSelected:function(){var d=[],c,a,b=this.grid._columns,e=b.length;for(c=0;c<e;++c)a=b[c],a._selected&&d.push(a.id);return d},clear:function(d){var c=this.grid._columns,a,b=c.length;for(a=0;a<b;++a)c[a].id!==d&&this._markById(c[a].id,0)},_type:"column",_init:function(){var d=this,c=d.grid;d.batchConnect([c,"onHeaderCellClick",function(a){f.contains(a.target,"gridxArrowButtonNode")||d._select(a.columnId,c._isCtrlKey(a))}],[c,4>m("ff")?"onHeaderCellKeyUp":"onHeaderCellKeyDown",function(a){if(a.keyCode==
k.SPACE||a.keyCode==k.ENTER)d._select(a.columnId,c._isCtrlKey(a)),l.stop(a)}])},_markById:function(d,c){var a=this.grid._columnsById[d];this.arg("enabled")&&(c=!!c,a&&!a._selected==c&&(a._selected=c,this._highlight(d,c),this[c?"onSelected":"onDeselected"](this.grid.column(d,1),d),this._onSelectionChange()))},_highlight:function(d,c){var a=this,b=a.grid;q("[colid\x3d'"+b._escapeId(d)+"']",b.bodyNode).forEach(function(e){f.toggle(e,"gridxColumnSelected",c);a.onHighlightChange({column:b._columnsById[d].index},
c)})},_onRender:function(d,c){var a,b,e,p=d+c,g=this.grid,h=g.bodyNode,k=r.filter(g._columns,function(a){return a._selected});for(a=k.length-1;0<=a;--a)for(b=d;b<p;++b)e=q(['[visualindex\x3d"',b,'"] [colid\x3d"',g._escapeId(k[a].id),'"]'].join(""),h)[0],f.add(e,"gridxColumnSelected")}})})},"gridx/modules/select/_Base":function(){define(["dojo/_base/declare","dojo/_base/connect","../../core/_Module"],function(n,q,r){return n(r,{getAPIPath:function(){var m={select:{}};m.select[this._type]=this;return m},
preload:function(){var m=this.grid;this._lastSelectedIds=[];this.subscribe("gridClearSelection_"+m.id,function(l){});this.connect(m.body,"onRender","_onRender");this.arg("multiple")&&m.domNode.setAttribute("aria-multiselectable",!0);this._init()},enabled:!0,multiple:!0,holdingCtrl:!1,onSelected:function(){},onDeselected:function(){},onHighlightChange:function(){},onSelectionChange:function(){},_getMarkType:function(){},_isSelected:function(){return this.isSelected.apply(this,arguments)},_isSelectable:function(){return!0},
_onSelectionChange:function(){var m=this.getSelected();this.onSelectionChange(m,this._lastSelectedIds);this._lastSelectedIds=m},_select:function(m,l){var f=1;this.arg("enabled")&&this._isSelectable(m)&&(this.arg("multiple")&&(l||this.arg("holdingCtrl"))?f=!this._isSelected(m):this.clear(m),q.publish("gridClearSelection_"+this.grid.id,[this._type]),this._markById(m,f))}})})},"gridx/modules/select/Cell":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/sniff dojo/_base/event dojo/dom-class dojo/keys ./_RowCellBase ../../core/_Module".split(" "),
function(n,q,r,m,l,f,k,g){return n(k,{name:"selectCell",cellMixin:{select:function(){this.grid.select.cell.selectById(this.row.id,this.column.id);return this},deselect:function(){this.grid.select.cell.deselectById(this.row.id,this.column.id);return this},isSelected:function(){return this.grid.select.cell.isSelected(this.row.id,this.column.id)}},getSelected:function(){var f=this,d=[];q.forEach(f.grid._columns,function(c){var a=f.model.getMarkedIds(f._getMarkType(c.id));d.push.apply(d,q.map(a,function(a){return[a,
c.id]}))});return d},clear:function(f){var d=this,c=d.model;d.arg("enabled")&&(q.forEach(d.grid._columns,function(a){var b=d._getMarkType(a.id),e=c.getMarkedIds(b),p=e.length,g;for(g=0;g<p;++g)(!f||f[1]!==a.id||f[0]!==e[g])&&c.markById(e[g],0,b)}),c.when())},_type:"cell",_markTypePrefix:"select_",_getMarkType:function(f){f=this._markTypePrefix+f;this.model._spTypes[f]=1;return f},_init:function(){var g=this,d=g.grid;g.inherited(arguments);var c=function(a){(!d.select.row||!d.select.row.arg("triggerOnCell"))&&
(!l.contains(a.target,"gridxTreeExpandoIcon")&&!l.contains(a.target,"gridxTreeExpandoInner"))&&g._select([a.rowId,a.columnId],d._isCtrlKey(a))};g.batchConnect([d,"onCellClick",c],[d,"onCellTouchStart",c],[d,4>r("ff")?"onCellKeyUp":"onCellKeyDown",function(a){if(a.keyCode==f.SPACE&&(!d.focus||"body"==d.focus.currentArea()))g._select([a.rowId,a.columnId],d._isCtrlKey(a)),m.stop(a)}])},_isSelected:function(f){return this.isSelected(f[0],f[1])},_onMark:function(f,d,c,a){0===a.indexOf(this._markTypePrefix)&&
(c=a.substr(this._markTypePrefix.length),this.grid._columnsById[c]&&(this._highlight(f,c,d),this[d?"onSelected":"onDeselected"](this.grid.cell(f,c,1),f,c),this._onSelectionChange()))},_highlight:function(f,d,c){if(f=this.grid.body.getCellNode({rowId:f,colId:d}))l.toggle(f,"gridxCellSelected",c),f.setAttribute("aria-selected",!!c),this.onHighlightChange()},_markById:function(f,d){var c=this.model;c.markById(f[0],d,this._getMarkType(f[1]));c.when()},_onRender:function(f,d){var c=this.model,a=f+d,b,
e,p,g,k=this.grid._columns;for(b=f;b<a;++b){p=c.indexToId(b);for(e=k.length-1;0<=e;--e)g=k[e].id,c.getMark(p,this._getMarkType(g))&&this._highlight(p,g,1)}}})})},"gridx/modules/select/_RowCellBase":function(){define(["dojo/_base/declare","dojo/_base/lang","./_Base","../../core/model/extensions/Mark"],function(n,q,r,m){return n(r,{modelExtensions:[m],selectById:function(l,f){var k=this.model,g=this._getMarkType(f),h="row"==this._type?l:[l,f];this.arg("enabled")&&this._isSelectable(h)&&(this.arg("multiple")||
k.clearMark(g),k.markById(l,1,g),k.when())},deselectById:function(l,f){var k=this.model,g="row"==this._type?l:[l,f];this.arg("enabled")&&this._isSelectable(g)&&(k.markById(l,0,this._getMarkType(f)),k.when())},isSelected:function(l,f){return!0===this.model.getMark(l,this._getMarkType(f))},_init:function(){this.connect(this.model,"onMarkChange","_onMark")}})})},"gridx/core/model/extensions/Mark":function(){define(["dojo/_base/declare","dojo/_base/array","../_Extension"],function(n,q,r){return n(r,{name:"mark",
priority:5,constructor:function(m){this.mixed="mixed";this.states={"0":!1,1:this.mixed,2:!0};this.clear();this._tree={};this._mixinAPI("getMark","getMarkedIds","markById","markByIndex","clearMark","treeMarkMode","setMarkable");this.aspect(m,"_msg","_receiveMsg");this.aspect(m._cache,"onLoadRow","_onLoadRow");this.aspect(m,"setStore","clear");m.onMarkChange=function(){};m._spTypes={}},clear:function(){this._byId={};this._last={};this._lazy={};this._unmarkable={}},setMarkable:function(m,l,f){f=this._initMark(f);
var k=this.model._model,g=this._unmarkable;(g[f]=g[f]||{})[m]=!l;l&&(l=k._call("children",[m]),k=l.length?l[0]:k._call("parentId",[m]),m=this._byId[this._initMark(f)][k]||0,this._doMark(k,f,m))},clearMark:function(m){this._byId[this._initMark(m)]={}},getMarkedIds:function(m,l){var f=[],k,g=this._initMark(m);if(g=this._byId[g])for(k in g)(l||2==g[k])&&f.push(k);return f},isMarked:function(m,l){l=this._initMark(l);return 2==this._byId[l][m]},isPartialMarked:function(m,l){return 1==this._byId[this._initMark(l)][m]},
getMark:function(m,l){var f=this._byId[this._initMark(l)][m]||0;return{"0":!1,1:this.mixed,2:!0}[f]},markById:function(m,l,f){this._cmd(m,l,f,1)},markByIndex:function(m,l,f,k){0<=m&&Infinity>m&&this._cmd(m,l,f,0,k)},treeMarkMode:function(m,l){m=this._initMark(m);var f=this._tree;return void 0===l?f[m]:f[m]=l},_cmdMark:function(){var m=this,l=arguments,f=[],k=m.model._model;q.forEach(l,function(g){g[3]||f.push({start:g[0],count:1})});return k._call("when",[{id:[],range:f},function(){q.forEach(l,function(f){var h=
f[3]?f[0]:k._call("indexToId",[f[0],f[4]]),d=f[1];f=m._initMark(f[2]);d=d===m.mixed?1:d?2:0;m.model.isId(h)&&m._isMarkable(f,h)&&m._mark(h,d,f)})}])},_onDelete:function(m,l,f){var k,g=this._byId,h=this._last,d=this._lazy;for(k in g)k=this._initMark(k),delete g[k][m],delete h[k][m],delete d[k][m],f&&this._updateParents(f,k);this.onDelete.apply(this,arguments)},_initMark:function(m){var l=this._byId,f=this._last,k=this._lazy;m=m||"select";l[m]=l[m]||{};k[m]=k[m]||{};f[m]=f[m]||{};return m},_cmd:function(){this.model._addCmd({name:"_cmdMark",
scope:this,args:arguments,async:1})},_receiveMsg:function(m,l){if("filter"==m){var f,k,g=this.model._spTypes;for(f in g)if(g[f])for(k in this._byId[f])0>q.indexOf(l,k)&&this._doMark(k,f,0,0,1)}},_mark:function(m,l,f){f=this._initMark(f);var k=this._byId[f][m]||0;this.model.isId(m)&&k!=l&&this._doMark(m,f,l)},_onLoadRow:function(m){var l=this.model,f=l._model,k=this._lazy,g,h,d=f._call("treePath",[m]).pop();if(l.isId(d))for(g in k)l=k[g],h=l[d],"number"==typeof h&&(h=l[d]={toMark:h,count:f._call("size",
[d])}),h&&(--h.count,h.count||delete l[d],this._doMark(m,g,h.toMark,1))},_fireEvent:function(m,l,f,k){var g=this.model;f!=k&&(f||delete this._byId[l][m],g.onMarkChange(m,this.states[f||0],this.states[k||0],l))},_updateParents:function(m,l,f){for(var k=this.model._model,g=this._byId[l],h=this._last[l],d=m.length-1;0<d;--d){var c=m[d],a=g[c],b=k._call("children",[c]),e=q.filter(b,function(a){return h[a]=g[a]}).length,p=q.filter(b,function(a){return 2==g[a]}).length;0!=p&&p==b.length&&2!=a?g[c]=2:!e&&
a?delete g[c]:e&&(p<b.length&&1!=a)&&(g[c]=1);f||this._fireEvent(c,l,g[c],a)}},_doMark:function(m,l,f,k,g){var h,d,c,a=this.model._model,b=this._byId[l],e=this._last[l],p=this._lazy[l],s=b[m]||0,n;this._tree[l]&&(d=a._call("children",[m]),1==f&&q.every(d,function(a){return(e[a]||0)==(e[d[0]]||0)})&&(f=2));b[m]=e[m]=f;g||this._fireEvent(m,l,f,s);if(this._tree[l]){for(h=[m];h.length;)c=h.shift(),s=b[c]||0,n=b[c]=1==f?e[c]||0:f,g||this._fireEvent(c,l,n,s),a._call("hasChildren",[c])&&(d=a._call("children",
[c]),d.length?h=h.concat(d):p[c]=f);k||(m=a._call("treePath",[m]),this._updateParents(m,l,g))}},_isMarkable:function(m,l){return this._unmarkable[m]?!this._unmarkable[m][l]:!0}})})},"gridx/modules/extendedSelect/Row":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/event ../../support/query dojo/_base/lang dojo/_base/Deferred dojo/_base/sniff dojo/dom-class dojo/mouse dojo/keys ../../core/_Module ./_RowCellBase".split(" "),function(n,q,r,m,l,f,k,g,h,d,c,a){return n(a,{name:"selectRow",
rowMixin:{select:function(){this.grid.select.row.selectById(this.id);return this},deselect:function(){this.grid.select.row.deselectById(this.id);return this},isSelected:function(){return!0===this.model.getMark(this.id)},isSelectable:function(){return this.grid.select.row._isSelectable(this.id)},setSelectable:function(a){this.grid.select.row.setSelectable(this.id,a)}},treeMode:!0,setSelectable:function(a,e){var c=this.model,d=this.grid.body.getRowNode({rowId:a});c.setMarkable(a,e);this.unselectable[a]=
!e;d&&(g.toggle(d,"gridxRowUnselectable",!e),this.onHighlightChange({row:parseInt(d.getAttribute("visualindex"),10)},c.getMark(a)),this.onSelectionChange())},getSelected:function(){return this.model.getMarkedIds()},isSelected:function(){return q.every(arguments,function(a){return!0===this.model.getMark(a)},this)},clear:function(a){m(".gridxRowSelected",this.grid.mainNode).forEach(function(a){g.remove(a,"gridxRowSelected");a.removeAttribute("aria-selected")});m(".gridxRowPartialSelected",this.grid.mainNode).forEach(function(a){g.remove(a,
"gridxRowPartialSelected")});this._clear();this.model.clearMark();a||this._onSelectionChange()},onHighlightChange:function(){},_type:"row",_isSelectable:function(a){return!this.arg("unselectable",{})[a]},_getUnselectableRows:function(){var a=[],e=this.arg("unselectable"),c;for(c in e)e[c]&&this.model.byId(c)&&a.push(c);return a},_init:function(){function a(b){if(b.columnId){var d=c._columnsById[b.columnId];return e.arg("triggerOnCell")?!1!==d.rowSelectable&&!g.contains(b.target,"gridxTreeExpandoIcon")&&
!g.contains(b.target,"gridxTreeExpandoInner"):d.rowSelectable}return!b.columnId}var e=this,c=e.grid,f=e.arg("unselectable",{});e.model.treeMarkMode("",e.arg("treeMode")&&c.tree);for(var m in f)e.model.setMarkable(m,!f[m]);e.inherited(arguments);e.model._spTypes.select=1;e.model.setMarkable(l.hitch(e,e._isSelectable));e.batchConnect(c.rowHeader&&[c.rowHeader,"onMoveToRowHeaderCell","_onMoveToRowHeaderCell"],[c,"onRowMouseDown",function(d){h.isLeft(d)&&a(d)&&(e._isOnCell=d.columnId,e._isOnCell&&(c.body._focusCellCol=
d.columnIndex),e._start({row:d.visualIndex},c._isCtrlKey(d),d.shiftKey),!d.shiftKey&&!e.arg("canSwept")&&e._end())}],[c,"onRowTouchStart",function(d){a(d)&&(e._isOnCell=d.columnId,e._isOnCell&&(c.body._focusCellCol=d.columnIndex),e._start({row:d.visualIndex},c._isCtrlKey(d)||"__indirectSelect__"===d.columnId,d.shiftKey),!d.shiftKey&&!e.arg("canSwept")&&e._end())}],[c,"onRowTouchEnd","_end"],[c.body,"onAfterRow",function(a){var b=!a.isSelectable();g.toggle(a.node(),"gridxRowUnselectable",b)}],[c,"onRowMouseOver",
function(a){e._selecting&&(e.arg("triggerOnCell")&&a.columnId)&&(c.body._focusCellCol=a.columnIndex);e._highlight({row:a.visualIndex})}],[c,4>k("ff")?"onRowKeyUp":"onRowKeyDown",function(a){if(a.keyCode==d.SPACE&&(!a.columnId||c._columnsById[a.columnId].rowSelectable||e.arg("triggerOnCell")&&(!c.focus||"body"==c.focus.currentArea())))r.stop(a),e._isOnCell=a.columnId,e._start({row:a.visualIndex},c._isCtrlKey(a),a.shiftKey),e._end()}],[c.model,"setStore","_syncUnselectable"])},_markById:function(a,
e){var c=this.model;q.forEach(a,function(a){c.markById(a,e)});c.when()},_markByIndex:function(a,e){var c=this.model,d=this.grid.view,f;q.forEach(a,function(a){if(l.isArrayLike(a)){var b=a[0];a=a[1];var g;if(0<=b&&Infinity>b){g=a>=b&&Infinity>a?a-b+1:d.visualCount-b;f=d.getRowInfo({visualIndex:b});b=f.rowIndex;for(a=0;a<g;++a)c.markByIndex(a+b,e,"",f.parentId)}}else 0<=a&&Infinity>a&&(f=d.getRowInfo({visualIndex:a}),c.markByIndex(f.rowIndex,e,"",f.parentId))});return c.when()},_onRender:function(a,
c){var d,f=a+c;for(d=a;d<f;++d){var g={row:d},h=this._isSelected(g)||this._selecting&&this._toSelect&&this._inRange(d,this._startItem.row,this._currentItem.row,1);h&&this._doHighlight(g,h)}},_onMark:function(a,c,d,f){"select"==f&&(a=m('[rowid\x3d"'+this.grid._escapeId(a)+'"]',this.grid.mainNode),a.length&&(a.forEach(function(a){var b=c&&"mixed"!=c;g.toggle(a,"gridxRowSelected",b);g.toggle(a,"gridxRowPartialSelected","mixed"==c);a.setAttribute("aria-selected",!!b)}),this.onHighlightChange({row:parseInt(a[0].getAttribute("visualindex"),
10)},c)))},_onMoveToCell:function(a,c,f){if(this.arg("triggerOnCell")&&f.shiftKey&&(f.keyCode==d.UP_ARROW||f.keyCode==d.DOWN_ARROW))this._start({row:a},this.grid._isCtrlKey(f),1),this._end()},_onMoveToRowHeaderCell:function(a,c){c.shiftKey&&(this._start({row:a},this.grid._isCtrlKey(c),1),this._end())},_isSelected:function(a){a=this._getRowId(a.row);return this._isRange?0<=q.indexOf(this._refSelectedIds,a):this.model.getMark(a)},_beginAutoScroll:function(){this.grid.autoScroll.horizontal=!1},_endAutoScroll:function(){this.grid.autoScroll.horizontal=
!0},_doHighlight:function(a,c){m('[visualindex\x3d"'+a.row+'"]',this.grid.mainNode).forEach(function(a){var b=c&&"mixed"!=c;g.toggle(a,"gridxRowSelected",b);g.toggle(a,"gridxRowPartialSelected","mixed"==c);a.setAttribute("aria-selected",!!b)});this.onHighlightChange(a,c)},_end:function(){this.inherited(arguments);delete this._isOnCell},_focus:function(a){var c=this.grid,d=c.focus;d&&(c.body._focusCellRow=a.row,d.focusArea(this._isOnCell?"body":"rowHeader",!0))},_addToSelected:function(a,c,d){var g=
this,h=g.grid.view,k=g.model,l=g._lastEndItem,m,n,r;g._isRange||(g._refSelectedIds=k.getMarkedIds());if(g._isRange&&g._inRange(c.row,a.row,l.row))return m=Math.min(c.row,l.row),l=Math.max(c.row,l.row),a=h.getRowInfo({visualIndex:m}).rowIndex+1,c=h.getRowInfo({visualIndex:l}).rowIndex,r=new f,k.when({start:a,count:c-a+1},function(){for(n=a;n<=c;++n){var d=k.indexToId(n),f=0<=q.indexOf(g._refSelectedIds,d);k.markById(d,f)}}).then(function(){k.when(null,function(){r.callback()})}),r;m=Math.min(a.row,
c.row);l=Math.max(a.row,c.row);for(n=m;n<=l;++n)m=h.getRowInfo({visualIndex:n}),k.markByIndex(m.rowIndex,d,"",m.parentId);return k.when()},_highlightSingle:function(a,c){var d=this._getRowId(a.row);c=this._isSelectable(d)?c?this._toSelect:this._isSelected(a):this.model.getMark(d);this._doHighlight(a,c)},_syncUnselectable:function(){var a=this.arg("unselectable"),c;for(c in a)this.model.setMarkable(c,!a[c])}})})},"gridx/modules/extendedSelect/_RowCellBase":function(){define(["dojo/_base/declare","dojo/_base/lang",
"../../support/query","./_Base","../../core/model/extensions/Mark"],function(n,q,r,m,l){return n(m,{modelExtensions:[l],_getRowId:function(f){var k=r('[visualindex\x3d"'+f+'"]',this.grid.bodyNode)[0];return k?k.getAttribute("rowid"):this.grid.view.getRowInfo({visualIndex:f}).rowId},_init:function(){var f=this.model;this.batchConnect([this.grid.body,"onMoveToCell","_onMoveToCell"],[f,"onMarkChange","_onMark"],[f,"setStore","clear"])}})})},"gridx/modules/extendedSelect/_Base":function(){define("dojo/_base/declare dojo/query dojo/_base/connect dojo/_base/Deferred dojo/_base/sniff dojo/_base/window dojo/dom dojo/keys ../../core/_Module ../AutoScroll".split(" "),
function(n,q,r,m,l,f,k,g,h){return n(h,{required:["autoScroll"],getAPIPath:function(){var d={select:{}};d.select[this._type]=this;return d},load:function(){var d=this,c=d.grid,a=f.doc;c.domNode.setAttribute("aria-multiselectable",!0);d._refSelectedIds=[];d.subscribe("gridClearSelection_"+c.id,function(a){a!=d._type&&d.clear()});d.batchConnect([c.body,"onRender","_onRender"],[a,"onmouseup","_end"],[a,"onkeydown",function(b){b.keyCode==g.SHIFT&&k.setSelectable(9<l("ie")||5<l("trident")?a.body:c.domNode,
!1)}],[a,"onkeyup",function(b){b.keyCode==g.SHIFT&&k.setSelectable(9<l("ie")||5<l("trident")?a.body:c.domNode,!0)}]);d._init();d.loaded.callback()},enabled:!0,canSwept:!0,holdingCtrl:!1,holdingShift:!1,selectById:function(){return this._subMark("_markById",arguments,!0)},deselectById:function(){return this._subMark("_markById",arguments,!1)},selectByIndex:function(){return this._subMark("_markByIndex",arguments,!0)},deselectByIndex:function(){return this._subMark("_markByIndex",arguments,!1)},onSelectionChange:function(){},
_clear:function(){delete this._lastToSelect;delete this._lastStartItem;delete this._lastEndItem},_subMark:function(d,c,a){var b=this;if(b.arg("enabled"))return a&&r.publish("gridClearSelection_"+b.grid.id,[b._type]),b._lastSelectedIds=b.getSelected(),b._refSelectedIds=[],m.when(b[d](c,a),function(){b._onSelectionChange()})},_start:function(d,c,a){var b=this.grid.model;if(!this._selecting&&!this._marking&&this.arg("enabled")){k.setSelectable(this.grid.domNode,!1);this._fixFF(1);var e=!0===this._isSelected(d);
(a=a||this.arg("holdingShift"))&&this._lastStartItem?(this._isRange=1,this._toSelect=this._lastToSelect,this._startItem=this._lastStartItem,this._currentItem=this._lastEndItem):(this._startItem=d,this._currentItem=null,c||this.arg("holdingCtrl")?(this._toSelect=!e,"row"===this._type&&(b.treeMarkMode()&&!this._isSelected(d)&&this._toSelect)&&(this._toSelect="mixed")):(this._toSelect=1,"row"===this._type&&(b.treeMarkMode()&&!this._isSelected(d)&&this._toSelect)&&(this._toSelect="mixed"),this.clear(1)));
r.publish("gridClearSelection_"+this.grid.id,[this._type]);this._beginAutoScroll();this.grid.autoScroll.enabled=!0;this._lastSelectedIds=this.getSelected();this._selecting=1;this._highlight(d)}},_highlight:function(d){var c=this;if(c._selecting){var a=c._type,b=c._startItem,e=c._currentItem,f=function(b,e,d){b=b[a];e=e[a];for(var f=b<e?1:-1;b!=e;b+=f){var g={};g[a]=b;c._highlightSingle(g,d)}};null===e?c._highlightSingle(d,1):c._inRange(d[a],b[a],e[a])?f(e,d,0):(c._inRange(b[a],d[a],e[a])&&(f(e,b,
0),e=b),f(d,e,1));c._currentItem=d;c._focus(d)}},_end:function(){var d=this,c=d.grid;if(d._selecting){d._fixFF();d._endAutoScroll();d._selecting=0;d._marking=1;c.autoScroll.enabled=!1;var a=d._addToSelected(d._startItem,d._currentItem,d._toSelect);d._lastToSelect=d._toSelect;d._lastStartItem=d._startItem;d._lastEndItem=d._currentItem;d._startItem=d._currentItem=d._isRange=null;m.when(a,function(){k.setSelectable(c.domNode,!0);d._marking=0;d._onSelectionChange()})}},_highlightSingle:function(d,c){c=
c?this._toSelect:this._isSelected(d);this._doHighlight(d,c)},_onSelectionChange:function(){var d=this.getSelected();this.onSelectionChange(d,this._lastSelectedIds);this._lastSelectedIds=d},_inRange:function(d,c,a,b){return(d>=c&&d<=a||d>=a&&d<=c)&&(b||d!=a)},_fixFF:function(d){l("ff")&&q(".gridxSortNode",this.grid.headerNode).style("overflow",d?"visible":"")}})})},"gridx/modules/AutoScroll":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/_base/window dojo/query dojo/dom-geometry ../core/_Module".split(" "),
function(n,q,r,m,l,f){return f.register(n(f,{name:"autoScroll",constructor:function(){this.connect(r.doc,"mousemove","_onMouseMove")},enabled:!1,vertical:!0,horizontal:!0,margin:30,rowStep:1,columnStep:1,_timeout:300,_onMouseMove:function(f){if(this.arg("enabled")){var g,h,d=this.grid,c=this.arg("margin"),a=l.position(d.bodyNode);this.arg("vertical")&&d.vScroller&&(g=f.clientY-a.y-c,h=g+2*c-a.h,this._vdir=0>g?g:0<h?h:0);this.arg("horizontal")&&d.hScroller&&(g=f.clientX-a.x-c,h=g+2*c-a.w,this._hdir=
0>g?g:0<h?h:0);this._handler||this._scroll()}},_scroll:function(){var f=this;if(f.arg("enabled")){var g,h,d=f.grid,c=f._vdir,a=f._hdir;if(f.arg("vertical")&&c&&(g=0<c?1:-1,c=f._findNode(d.bodyNode.childNodes,function(a){if(0<g){if(a.offsetTop>=d.bodyNode.scrollTop+d.bodyNode.offsetHeight)return-1;if(a.offsetTop+a.offsetHeight<d.bodyNode.scrollTop+d.bodyNode.offsetHeight)return 1}else{if(a.offsetTop>d.bodyNode.scrollTop)return-1;if(a.offsetTop+a.offsetHeight<=d.bodyNode.scrollTop)return 1}return 0})))h=
parseInt(c.getAttribute("visualindex"),10),h=d.vScroller.scrollToRow(h+g*f.arg("rowStep"));if(f.arg("horizontal")&&a&&(g=0<a?1:-1,a=f._findNode(m(".gridxCell",d.header.domNode),function(a){if(0<g){if(a.offsetLeft>=d.hScrollerNode.scrollLeft+d.hScrollerNode.offsetWidth)return-1;if(a.offsetLeft+a.offsetWidth<d.hScrollerNode.scrollLeft+d.hScrollerNode.offsetWidth)return 1}else{if(a.offsetLeft>d.hScrollerNode.scrollLeft)return-1;if(a.offsetLeft+a.offsetHeight<=d.vScrollerNode.scrollLeft)return 1}return 0})))a=
d._columnsById[a.getAttribute("colid")].index+g*f.arg("columnStep"),a>=d._columns.length?a=d._columns.length-1:0>a&&(a=0),d.hScroller.scrollToColumn(d._columns[a].id),h=h||1;(f._handler=h)&&q.when(h,function(){f._handler=setTimeout(function(){f._scroll()},f._timeout)})}else delete f._handler},_findNode:function(f,g){for(var h=0,d=f.length,c=Math.floor((h+d)/2);h<d&&h!=c;){var a=g(f[c]);if(0>a)d=c,c=Math.floor((h+d)/2);else if(0<a)h=c,c=Math.floor((h+d)/2);else break}return f[c]}}))})},"gridx/modules/extendedSelect/Column":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/event dojo/query dojo/_base/lang dojo/_base/sniff dojo/dom-class dojo/mouse dojo/keys ../../core/_Module ./_Base".split(" "),
function(n,q,r,m,l,f,k,g,h,d,c){return n(c,{name:"selectColumn",columnMixin:{select:function(){this.grid.select.column.selectById(this.id);return this},deselect:function(){this.grid.select.column.deselectById(this.id);return this},isSelected:function(){return!!this.grid._columnsById[this.id]._selected}},getSelected:function(){return q.map(q.filter(this.grid._columns,function(a){return a._selected}),function(a){return a.id})},clear:function(a){m(".gridxColumnSelected",this.grid.domNode).forEach(function(a){k.remove(a,
"gridxColumnSelected");a.removeAttribute("aria-selected")});q.forEach(this.grid._columns,function(a){a._selected=0});this._clear();a||this._onSelectionChange()},isSelected:function(){var a=this.grid._columnsById;return q.every(arguments,function(b){return(b=a[b])&&b._selected})},_type:"column",_markById:function(a,b){q.forEach(a,function(a){if(a=this.grid._columnsById[a])a._selected=b,this._doHighlight({column:a.index},b)},this)},_markByIndex:function(a,b){var c,d,f=this.grid._columns;for(c=0;c<a.length;++c){var g=
a[c];if(l.isArrayLike(g)){var h=g[0],g=g[1];if(0<=h&&Infinity>h)for(g>=h&&Infinity>g||(g=f.length-1);h<g+1;++h)if(d=f[h])d._selected=b,this._doHighlight({column:d.index},b)}else if(0<=g&&Infinity>g&&(d=f[g]))d._selected=b,this._doHighlight({column:g},b)}},_init:function(){var a=this,b=a.grid;a.batchConnect([b,"onHeaderCellMouseDown",function(c){g.isLeft(c)&&!k.contains(c.target,"gridxArrowButtonNode")&&(a._start({column:c.columnIndex},b._isCtrlKey(c),c.shiftKey),!c.shiftKey&&!a.arg("canSwept")&&a._end())}],
[b,"onHeaderCellMouseOver",function(b){a._highlight({column:b.columnIndex})}],[b,"onCellMouseOver",function(b){a._highlight({column:b.columnIndex})}],[b,4>f("ff")?"onHeaderCellKeyUp":"onHeaderCellKeyDown",function(c){if((c.keyCode==h.SPACE||c.keyCode==h.ENTER)&&!k.contains(c.target,"gridxArrowButtonNode"))r.stop(c),a._start({column:c.columnIndex},b._isCtrlKey(c),c.shiftKey),a._end()}],[b.header,"onMoveToHeaderCell","_onMoveToHeaderCell"])},_onRender:function(a,b){var c,d,f=a+b,g=this.grid,h=g.bodyNode,
l,n=q.filter(g._columns,function(a){return a._selected});for(c=n.length-1;0<=c;--c)for(d=a;d<f;++d)l=m(['[visualindex\x3d"',d,'"] [colid\x3d"',g._escapeId(n[c].id),'"]'].join(""),h)[0],k.add(l,"gridxColumnSelected"),l.setAttribute("aria-selected",!0)},_onMoveToHeaderCell:function(a,b){if(b.shiftKey&&(b.keyCode==h.LEFT_ARROW||b.keyCode==h.RIGHT_ARROW))this._start({column:this.grid._columnsById[a].index},this.grid._isCtrlKey(b),1),this._end()},_isSelected:function(a){a=this.grid._columns[a.column];
var b=a.id;return this._isRange?0<=q.indexOf(this._refSelectedIds,b):a._selected},_beginAutoScroll:function(){this.grid.autoScroll.vertical=!1},_endAutoScroll:function(){this.grid.autoScroll.vertical=!0},_doHighlight:function(a,b){m('[colid\x3d"'+this.grid._escapeId(this.grid._columns[a.column].id)+'"].gridxCell',this.grid.domNode).forEach(function(a){k.toggle(a,"gridxColumnSelected",b)})},_focus:function(a){var b=this.grid;b.focus&&b.header._focusNode(m('[colid\x3d"'+b._escapeId(b._columns[a.column].id)+
'"].gridxCell',b.header.domNode)[0])},_addToSelected:function(a,b,c){var d=this.grid,f;this._isRange||(this._refSelectedIds=this.getSelected());if(this._isRange&&this._inRange(b.column,a.column,this._lastEndItem.column)){a=Math.min(b.column,this._lastEndItem.column);for(b=Math.max(b.column,this._lastEndItem.column);a<=b;++a)d._columns[a]._selected=0<=q.indexOf(this._refSelectedIds,d._columns[a].id)}else{f=Math.min(a.column,b.column);b=Math.max(a.column,b.column);for(a=f;a<=b;++a)d._columns[a]._selected=
c}}})})},"gridx/modules/extendedSelect/Cell":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/event dojo/query dojo/_base/lang dojo/_base/Deferred dojo/_base/sniff dojo/dom-class dojo/mouse dojo/keys ../../core/_Module ./_RowCellBase".split(" "),function(n,q,r,m,l,f,k,g,h,d,c,a){var b=l.isArrayLike;return n(a,{name:"selectCell",cellMixin:{select:function(){this.grid.select.cell.selectByIndex(this.row.index(),this.column.index());return this},deselect:function(){this.grid.select.cell.deselectByIndex(this.row.index(),
this.column.index());return this},isSelected:function(){return this.grid.select.cell.isSelected(this.row.id,this.column.id)}},getSelected:function(){var a=this,b=[];q.forEach(a.grid._columns,function(c){var d=a.model.getMarkedIds(a._getMarkType(c.id));b.push.apply(b,q.map(d,function(a){return[a,c.id]}))});return b},clear:function(a){var b=this;m(".gridxCellSelected",b.grid.bodyNode).forEach(function(a){g.remove(a,"gridxCellSelected");a.removeAttribute("aria-selected")});q.forEach(b.grid._columns,
function(a){b.model.clearMark(b._getMarkType(a.id))});b._clear();a||b._onSelectionChange()},isSelected:function(a,b){return this.model.getMark(a,this._getMarkType(b))},_type:"cell",_markTypePrefix:"select_",_getMarkType:function(a){a=this._markTypePrefix+a;this.model._spTypes[a]=1;return a},_markById:function(a,c){b(a[0])||(a=[a]);var d=this,f=d.grid._columnsById,g=d.model;q.forEach(a,function(a){var b=a[0];a=a[1];b&&f[a]&&g.markById(b,c,d._getMarkType(a))});g.when()},_markByIndex:function(a,c){b(a[0])||
(a=[a]);a=q.filter(a,function(a){if(b(a)&&2<=a.length&&0<=a[0]&&Infinity>a[0]&&0<=a[1]&&Infinity>a[1])return 4<=a.length&&(0<=a[2]&&Infinity>a[2]&&0<=a[3]&&Infinity>a[3])&&(a._range=1),!0});var d=this,f=d.model,g=d.grid,h=g._columns,k=g.view,l,m,n,r,z;q.forEach(a,function(a){if(a._range){var b=Math.min(a[0],a[2]),e=Math.max(a[0],a[2])-b+1,g=Math.min(a[1],a[3]);a=Math.max(a[1],a[3]);for(l=g;l<=a;++l)if(n=h[l]){z=k.getRowInfo({visualIndex:b});b=z.rowIndex;r=d._getMarkType(n.id);for(m=0;m<e;++m)f.markByIndex(b+
m,c,r,z.parentId)}}else if(n=h[a[1]])z=k.getRowInfo({visualIndex:a[0]}),l=z.rowIndex,f.markByIndex(l,c,d._getMarkType(n.id),z.parentId)});return f.when()},_init:function(){var a=this,b=a.grid;a.inherited(arguments);a.batchConnect([b,"onCellMouseDown",function(c){if(h.isLeft(c)&&(!b.select.row||!b.select.row.arg("triggerOnCell"))&&!g.contains(c.target,"gridxTreeExpandoIcon")&&!g.contains(c.target,"gridxTreeExpandoInner"))a._start({rid:c.rowId,r:c.visualIndex,cid:c.columnId,c:c.columnIndex},b._isCtrlKey(c),
c.shiftKey),!c.shiftKey&&!a.arg("canSwept")&&a._end()}],[b,"onCellMouseOver",function(b){a._highlight({rid:b.rowId,r:b.visualIndex,cid:b.columnId,c:b.columnIndex})}],[b,4>k("ff")?"onCellKeyUp":"onCellKeyDown",function(c){if(c.keyCode===d.SPACE&&(!b.focus||"body"==b.focus.currentArea()))r.stop(c),a._start({rid:c.rowId,r:c.visualIndex,cid:c.columnId,c:c.columnIndex},b._isCtrlKey(c),c.shiftKey),a._end()}])},_onRender:function(a,b){var c,d,f=this.model,h=this.grid,k=h._columns,l=a+b;for(c=0;c<k.length;++c){var n=
k[c].id,q=this._getMarkType(n);if(f.getMarkedIds(q).length)for(d=a;d<l;++d){var r=this._getRowId(d);(f.getMark(r,q)||this._selecting&&this._toSelect&&this._inRange(c,this._startItem.c,this._currentItem.c,1)&&this._inRange(d,this._startItem.r,this._currentItem.r,1))&&g.add(m('[visualindex\x3d"'+d+'"] [colid\x3d"'+h._escapeId(n)+'"]',h.bodyNode)[0],"gridxCellSelected")}}},_onMark:function(a,b,c,d){if(l.isString(d)&&(!this._marking&&0===d.indexOf(this._markTypePrefix))&&(c=this.grid._escapeId,a=m('[rowid\x3d"'+
c(a)+'"]',this.grid.bodyNode)[0]))d=d.substr(this._markTypePrefix.length),(d=m('[colid\x3d"'+c(d)+'"]',a)[0])&&g.toggle(d,"gridxCellSelected",b)},_onMoveToCell:function(a,b,c){if(c.shiftKey){var d=this.grid,f=this._getRowId(a);this._start({rid:f,r:a,cid:d._columns[b].id,c:b},d._isCtrlKey(c),1);this._end()}},_isSelected:function(a){a.rid||(a.rid=this._getRowId(a.r));if(this._isRange){var b=this._refSelectedIds[a.cid];return b&&0<=q.indexOf(b,a.rid)}return this.model.getMark(a.rid,this._getMarkType(a.cid))},
_highlight:function(a){var b=this,c=b._currentItem;if(b._selecting){if(null===c)b._highlightSingle(a,1),(k("ie")||k("trident"))&&b._focus(a);else{var d=b._startItem,f=function(a,c,d){var e=c.c>a.c?1:-1,f=c.r>a.r?1:-1,g,h,k,l,m={};if(!d){h=a.r;for(k=c.r+f;h!=k;h+=f)m[h]=b.model.indexToId(h)}g=a.c;for(l=c.c+e;g!=l;g+=e){var n=b.grid._columns[g].id;h=a.r;for(k=c.r+f;h!=k;h+=f)b._highlightSingle({rid:m[h],r:h,cid:n,c:g},d)}};(b._inRange(a.r,d.r,c.r)||b._inRange(a.c,d.c,c.c)||b._inRange(d.r,a.r,c.r)||
b._inRange(d.c,a.c,c.c))&&f(d,c,0);f(d,a,1);b._focus(a)}b._currentItem=a}},_doHighlight:function(a,b){var c,d=this.grid.bodyNode.childNodes;for(c=d.length-1;0<=c;--c)if(d[c].getAttribute("visualindex")==a.r){d=d[c].getElementsByTagName("td");for(c=d.length-1;0<=c;--c)if(d[c].getAttribute("colid")==a.cid){g.toggle(d[c],"gridxCellSelected",b);d[c].setAttribute("aria-selected",!!b);break}break}},_focus:function(a){this.grid.focus&&this.grid.body._focusCell(null,a.r,a.c)},_getSelectedIds:function(){var a=
this,b={};q.forEach(a.grid._columns,function(c){var d=a.model.getMarkedIds(a._getMarkType(c.id));d.length&&(b[c.id]=d)});return b},_beginAutoScroll:function(){},_endAutoScroll:function(){},_addToSelected:function(a,b,c){var d=this,g=d.model,h=d.grid.view,k=new f,l=d._lastEndItem,m,n,q,r,D=[],G=function(){g.when().then(function(){k.callback()})};d._isRange||(d._refSelectedIds=d._getSelectedIds());d._isRange&&(d._inRange(b.r,a.r,l.r)&&(m=Math.min(b.r,l.r),n=Math.max(b.r,l.r),r=h.getRowInfo({visualIndex:m+
1}),D.push({start:r.rowIndex,count:n-m,columnStart:a.c,columnEnd:l.c})),d._inRange(b.c,a.c,l.c)&&(q=b.c<l.c?1:-1,m=Math.min(a.r,b.r),n=Math.max(a.r,b.r),r=h.getRowInfo({visualIndex:m}),D.push({start:r.rowIndex,count:n-m+1,columnStart:b.c+q,columnEnd:l.c})));q=a.c<b.c?1:-1;for(l=a.c;l!=b.c+q;l+=q){var H=d._getMarkType(d.grid._columns[l].id);m=Math.min(a.r,b.r);for(n=Math.max(a.r,b.r);m<=n;++m)r=h.getRowInfo({visualIndex:m}),g.markByIndex(r.rowIndex,c,H,r.parentId)}D.length?g.when(D,function(){var a,
b,c,e;for(a=0;a<D.length;++a){e=D[a];var f=e.columnStart<e.columnEnd?1:-1;for(b=e.columnStart;b!=e.columnEnd+f;b+=f){c=d.grid._columns[b].id;var h=d._getMarkType(c),p=d._refSelectedIds[c];for(c=e.start;c<e.start+e.count;++c){var k=g.indexToId(c);g.markById(k,p&&p[k],h)}}}}).then(G):G();return k}})})},"gridx/modules/TouchScroll":function(){define("dojo/_base/declare dojo/_base/window dojo/_base/event dojo/dom dojo/dom-construct dojo/touch ../core/_Module".split(" "),function(n,q,r,m,l,f,k){return n(k,
{name:"touchScroll",required:["vScroller","hScroller"],constructor:function(){var g=this.grid,h=g.bodyNode;this.vWrapper=l.create("div",{"class":"gridxTouchScrollVWrapper"},g.mainNode);this.vInner=l.create("div",{"class":"gridxTouchScrollVBar"},this.vWrapper);this.hWrapper=l.create("div",{"class":"gridxTouchScrollHWrapper"},g.mainNode);this.hInner=l.create("div",{"class":"gridxTouchScrollHBar"},this.hWrapper);this.batchConnect([h,f.press,"_start"],[h,f.move,"_scroll"],[q.doc,f.release,"_end"])},_start:function(f){var h=
this.grid,d=h.vScrollerNode,c=h.hScrollerNode;if("none"!=d.style.display&&1==d.offsetWidth||"none"!=c.style.display&&1==c.offsetHeight){var a=this.vInner.style,b=this.hInner.style,e=h.bodyNode,p=e.clientHeight,e=e.clientWidth,d=d.scrollHeight,c=c.scrollWidth;this._last=f;m.setSelectable(h.domNode,!1);this.vWrapper.style.height=p-4+"px";this.hWrapper.style.width=e-4+"px";a.height=p*(p-4)/d+"px";b.width=e*(e-4)/c+"px";a.opacity=1;b.opacity=1;this._vr=(p-4)/d;this._hr=(e-4)/c;r.stop(f)}},_scroll:function(f){var h=
this.grid,d=h.hScrollerNode,h=h.vScrollerNode,c=this._last;c&&(h.scrollTop+=c.clientY-f.clientY,d.scrollLeft+=c.clientX-f.clientX,this.vInner.style.top=h.scrollTop*this._vr+"px",this.hInner.style.left=d.scrollLeft*this._hr+"px",this._last=f,r.stop(f))},_end:function(f){this._last&&(this._last=null,m.setSelectable(this.grid.domNode,!0),this.vInner.style.opacity=0,this.hInner.style.opacity=0,r.stop(f))}})})},"gridx/modules/move/Column":function(){define(["dojo/_base/declare","dojo/query","dojo/_base/array",
"dojo/keys","../../core/_Module"],function(n,q,r,m,l){return n(l,{name:"moveColumn",getAPIPath:function(){return{move:{column:this}}},preload:function(){this.aspect(this.grid,"onHeaderCellKeyDown","_onKeyDown")},columnMixin:{moveTo:function(f){this.grid.move.column.moveRange(this.index(),1,f);return this}},moveSelected:!0,_isInConstraints:function(f,k){var g=this.arg("constraints",{}),h;for(h in g)if(f>=h&&f<=g[h]&&(k<h||k>g[h]+1)||f>=h&&f<=g[h]&&(k<h||k>g[h]+1))return 0;return 1},move:function(f,
k){"number"===typeof f&&(f=[f]);var g=[],h,d,c=this.grid._columns,a,b=[];h=0;for(d=f.length;h<d;++h)this._isInConstraints(f[h],k)&&(g[f[h]]=!0);for(h=g.length-1;0<=h;--h)g[h]&&(b.unshift(c[h]),c.splice(h,1));h=0;for(d=c.length;h<d;++h)if(c[h].index>=k){a=h;break}void 0===a&&(a=c.length);this._moveComplete(b,a)},moveRange:function(f,k,g){if(g<f||g>f+k){for(var h=[],d=0;d<k;++d)this._isInConstraints(f+d,g)&&h.push(f+d);this.move(h,g)}},onMoved:function(){},_moveComplete:function(f,k){var g=this.grid,
h={},d=g._columns,c,a={},b=k<d.length?d[k].id:null,e=function(c){var e=q("\x3e .gridxCell",c).filter(function(b){return a[b.getAttribute("colid")]});if(null===b)e.place(c);else{var f=q('\x3e [colid\x3d"'+g._escapeId(b)+'"]',c)[0];f?e.place(f,"before"):0<k&&(c=q('\x3e [colid\x3d"'+g._escapeId(d[k-1].id)+'"]',c)[0])&&e.place(c,"after")}};for(c=f.length-1;0<=c;--c)h[f[c].index]=k+c,a[f[c].id]=1;[].splice.apply(d,[k,0].concat(f));for(c=d.length-1;0<=c;--c)d[c].index=c;q(".gridxHeaderRowInner \x3e table \x3e tbody \x3e tr",
g.headerNode).forEach(e);q(".gridxRow \x3e table \x3e tbody \x3e tr",g.bodyNode).forEach(e);this.onMoved(h)},_onKeyDown:function(f){var k=this.grid,g=this.arg("moveSelected")&&k.select&&k.select.column,h=k.isLeftToRight(),d=h?m.LEFT_ARROW:m.RIGHT_ARROW,h=h?m.RIGHT_ARROW:m.LEFT_ARROW;if(k._isCtrlKey(f)&&!f.shiftKey&&!f.altKey&&(f.keyCode==d||f.keyCode==h)){var c=f.columnIndex,g=g&&g.isSelected(f.columnId)?r.map(g.getSelected(),function(a){return k._columnsById[a].index}):[f.columnIndex],a=k.header.getHeaderNode(f.columnId);
if(f.keyCode==d){for(;0<=r.indexOf(g,c);)c--;0<=c&&(this.move(g,c),k.header._focusNode(a))}else if(f.keyCode==h){for(;0<=r.indexOf(g,c);)c++;c<k._columns.length&&(this.move(g,c+1),k.header._focusNode(a))}}}})})},"gridx/modules/dnd/Column":function(){define("dojo/_base/declare dojo/_base/array dojo/dom-geometry dojo/dom-class dojo/query ./_Base ../../core/_Module".split(" "),function(n,q,r,m,l,f,k){return n(f,{name:"dndColumn",required:["_dnd","selectColumn","moveColumn"],getAPIPath:function(){return{dnd:{column:this}}},
preload:function(){var f=this.grid;this.inherited(arguments);this._selector=f.select.column;this.connect(f.header,"onRender","_initHeader")},load:function(){this._initHeader();this.loaded.callback()},accept:[],provide:["grid/columns"],_checkDndReady:function(f){return this._selector.isSelected(f.columnId)?(this._selectedColIds=this._selector.getSelected(),this.grid.dnd._dnd.profile=this,!0):!1},onDraggedOut:function(){},_cssName:"Column",_initHeader:function(){l(".gridxCell",this.grid.header.domNode).attr("aria-grabbed",
"false")},_onBeginDnd:function(f){var h=this;f.delay=h.arg("delay");q.forEach(h._selectedColIds,function(d){l('[colid\x3d"'+h.grid._escapeId(d)+'"].gridxCell',h.grid.header.domNode).attr("aria-grabbed","true")})},_getDndCount:function(){return this._selectedColIds.length},_onEndDnd:function(){l('[aria-grabbed\x3d"true"].gridxCell',this.grid.header.domNode).attr("aria-grabbed","false")},_buildDndNodes:function(){var f=this.grid.id;return q.map(this._selectedColIds,function(h){return["\x3cdiv id\x3d'",
f,"_dndcolumn_",h,"' gridid\x3d'",f,"' columnid\x3d'",h,"'\x3e\x3c/div\x3e"].join("")}).join("")},_onBeginAutoScroll:function(){this.grid.autoScroll.vertical=!1},_onEndAutoScroll:function(){this.grid.autoScroll.vertical=!0},_getItemData:function(f){return f.substring((this.grid.id+"_dndcolumn_").length)},_calcTargetAnchorPos:function(f,h){for(var d=f.target,c=this,a=c.grid,b=a.isLeftToRight(),e=a._columns,p={height:h.h+"px",width:"",top:""},k=a._escapeId,n=function(d){var m=d.getAttribute("colid"),
n=a._columnsById[m].index,q=d,t=d,x=d=n;if(c._selector.isSelected(m)){for(d=n;0<d&&c._selector.isSelected(e[d-1].id);)--d;q=l(".gridxHeaderRow [colid\x3d'"+k(e[d].id)+"']",a.headerNode)[0];for(x=n;x<e.length-1&&c._selector.isSelected(e[x+1].id);)++x;t=l(".gridxHeaderRow [colid\x3d'"+k(e[x].id)+"']",a.headerNode)[0]}q&&t?(m=r.position(q),n=r.position(t),q=f.clientX<(m.x+n.x+n.w)/2,p.left=q?m.x-h.x-1+"px":n.x+n.w-h.x-1+"px",c._target=q^b?x+1:d):delete c._target;return p};d;){if(m.contains(d,"gridxCell"))return n(d);
d=d.parentNode}var q=l(".gridxRow",a.bodyNode)[0],B=r.position(q.firstChild);if(B.x+B.w<=f.clientX)p.left=B.x+B.w-h.x-1+"px",c._target=e.length;else if(B.x>=f.clientX)p.left=B.x-h.x-1+"px",c._target=0;else if(l(".gridxCell",q).some(function(a){var b=r.position(a);if(b.x<=f.clientX&&b.x+b.w>=f.clientX)return d=a,!0}))return n(d);return p},_onDropInternal:function(f,h){var d=this;if(0<=d._target){var c=q.map(d._selectedColIds,function(a){return d.grid._columnsById[a].index});d.grid.move.column.move(c,
d._target)}},_onDropExternal:function(){}})})},"gridx/modules/dnd/_Base":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang ../../core/_Module ./Avatar ./_Dnd".split(" "),function(n,q,r,m,l){return n(m,{delay:2,enabled:!0,canRearrange:!0,copyWhenDragOut:!1,avatar:l,preload:function(f){f=this.grid.dnd._dnd;f.register(this.name,this);f.avatar=this.arg("avatar")},checkArg:function(f,k){var g=this.arg(f);return g&&r.isObject(g)?q.some(k,function(f){return g[f]}):g}})})},"gridx/modules/dnd/Avatar":function(){define(["dojo/_base/declare",
"dojo/dom-class","dojo/dom-construct","dojo/_base/window","dojo/dnd/Avatar"],function(n,q,r,m,l){return n(l,{construct:function(){this.isA11y=q.contains(m.body(),"dijit_a11y");this.node=r.toDom(["\x3ctable border\x3d'0' cellspacing\x3d'0' class\x3d'gridxDndAvatar' style\x3d'position: absolute; z-index: 1999; margin: 0'\x3e\x3ctbody\x3e\x3ctr style\x3d'opacity: 0.9;'\x3e\x3ctd class\x3d'gridxDnDIcon'\x3e",this.isA11y?"\x3cspan id\x3d'a11yIcon'\x3e"+(this.manager.copy?"+":"\x3c")+"\x3c/span\x3e":"",
"\x3c/td\x3e\x3ctd class\x3d'gridxDnDItemIcon ",this._getIconClass(),"'\x3e\x3c/td\x3e\x3ctd\x3e\x3cspan class\x3d'gridxDnDItemCount'\x3e",this._generateText(),"\x3c/span\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"].join(""))},_getIconClass:function(){var f=this.manager._dndInfo;return["gridxDnDIcon",f.cssName,1===f.count?"Single":"Multi"].join("")},_generateText:function(){return"("+this.manager._dndInfo.count+")"}})})},"dojo/dnd/Avatar":function(){define("../_base/declare ../_base/window ../dom ../dom-attr ../dom-class ../dom-construct ../hccss ../query".split(" "),
function(n,q,r,m,l,f,k,g){return n("dojo.dnd.Avatar",null,{constructor:function(f){this.manager=f;this.construct()},construct:function(){var g=f.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),d=this.manager.source,c,a=f.create("tbody",null,g),b=f.create("tr",null,a),e=f.create("td",null,b),p=Math.min(5,this.manager.nodes.length),l=0;k("highcontrast")&&f.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"\x3c"},e);f.create("span",{innerHTML:d.generateText?
this._generateText():""},e);for(m.set(b,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});l<p;++l)d.creator?c=d._normalizedCreator(d.getItem(this.manager.nodes[l].id).data,"avatar").node:(c=this.manager.nodes[l].cloneNode(!0),"tr"==c.tagName.toLowerCase()&&(b=f.create("table"),f.create("tbody",null,b).appendChild(c),c=b)),c.id="",b=f.create("tr",null,a),e=f.create("td",null,b),e.appendChild(c),m.set(b,{"class":"dojoDndAvatarItem",style:{opacity:(9-l)/10}});this.node=g},destroy:function(){f.destroy(this.node);
this.node=!1},update:function(){l.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(k("highcontrast")){var f=r.byId("a11yIcon"),d="+";this.manager.canDropFlag&&!this.manager.copy?d="\x3c ":!this.manager.canDropFlag&&!this.manager.copy?d="o":this.manager.canDropFlag||(d="x");f.innerHTML=d}g("tr.dojoDndAvatarHeader td span"+(k("highcontrast")?" span":""),this.node).forEach(function(c){c.innerHTML=this.manager.source.generateText?this._generateText():""},this)},_generateText:function(){return this.manager.nodes.length.toString()}})})},
"gridx/modules/dnd/_Dnd":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/dom-construct dojo/dom-geometry dojo/dom-class dojo/dom-style dojo/dom dojo/_base/window dojo/_base/sniff dojo/dnd/Source dojo/dnd/Manager ../../core/_Module ../AutoScroll".split(" "),function(n,q,r,m,l,f,k,g,h,d,c,a,b){var e=q.hitch;return b.register(n(b,{name:"_dnd",optional:["selectRow","selectColumn"],constructor:function(){var a=this,b=a.grid,c=h.doc;a.accept=[];a._profiles={};a._selectStatus=
{};a._node=m.create("div");a.batchConnect([b,"onCellMouseOver","_checkDndReady"],[b,"onCellMouseOut","_dismissDndReady"],[b,"onCellMouseDown","_beginDnd"],[c,"onmouseup","_endDnd"],[c,"onmousemove","_onMouseMove"],[b,"onCellMouseUp",function(b){setTimeout(function(){a._checkDndReady(b)},0)}]);a.subscribe("/dnd/cancel","_endDnd")},load:function(a){a=this.arg("sourceNode",this.grid.mainNode);this._source=new c(a,{isSource:!1,accept:this.accept,getSelectedNodes:function(){return[0]},getItem:e(this,"_getItem"),
onSelectStart:function(){this.notSelectText&&c.prototype.onSelectStart.apply(this,arguments)},checkAcceptance:e(this,"_checkAcceptance"),onDraggingOver:e(this,"_onDraggingOver"),onDraggingOut:e(this,"_onDraggingOut"),onDropExternal:e(this,"_onDropExternal"),onDropInternal:e(this,"_onDropInternal")});d("ff")&&this._fixFF(this._source,a);this._source.grid=this.grid;this._saveSelectStatus();this.loaded.callback()},destroy:function(){this.inherited(arguments);this._source.destroy();m.destroy(this._node)},
getAPIPath:function(){return{dnd:{_dnd:this}}},profile:null,register:function(a,b){this._profiles[a]=b;[].push.apply(this.accept,b.arg("accept"))},_fixFF:function(a){return this.connect(h.doc,"onmousemove",function(b){var c=l.position(a.node),d=b.clientX,e=b.clientY;b=a._alreadyIn;c=e>=c.y&&e<=c.y+c.h&&d>=c.x&&d<=c.x+c.w;!b&&c?(a._alreadyIn=1,a.onOverEvent()):b&&!c&&(a._alreadyIn=0,a.onOutEvent())})},_onMouseMove:function(a){this._alreadyIn&&(this._dnding||this._extDnding)&&this._markTargetAnchor(a)},
_saveSelectStatus:function(a){var b,c,d=this.grid.select;if(d)for(b in d)if((c=d[b])&&q.isObject(c))this._selectStatus[b]=c.arg("enabled"),void 0!==a&&(c.enabled=a)},_loadSelectStatus:function(){var a,b,c=this.grid.select;if(c)for(a in c)if((b=c[a])&&q.isObject(b))b.enabled=this._selectStatus[a]},_checkDndReady:function(a){var b,c;if(!this._dndReady&&!this._dnding&&!this._extDnding)for(b in this._profiles)if(c=this._profiles[b],c.arg("enabled")&&c._checkDndReady(a)){this.profile=c;this._saveSelectStatus(!1);
f.add(h.body(),"gridxDnDReadyCursor");this._dndReady=this._source.notSelectText=1;break}},_dismissDndReady:function(){this._dndReady&&!this._dndBegun&&(this._loadSelectStatus(),this._dndReady=0,f.remove(h.body(),"gridxDnDReadyCursor"))},_beginDnd:function(b){var c=this;c._checkDndReady(b);if(c._dndReady){var d=c.profile,f=a.manager();c._dndBegun=1;c._source.isSource=!0;c._source.canNotDragOut=!d.arg("provide").length;c._node.innerHTML=d._buildDndNodes();c._oldStartDrag=f.startDrag;f.startDrag=e(c,
"_startDrag",b);c.avatar&&(c._oldMakeAvatar=f.makeAvatar,f.makeAvatar=function(){return new c.avatar(f)});f._dndInfo={grid:c.grid,cssName:d._cssName,count:d._getDndCount()};c.grid.vScrollerNode.focus();d._onBeginDnd(c._source);g.setSelectable(c.grid.domNode,!1)}},_endDnd:function(){var b=a.manager();this._source.isSource=!1;this._dndBegun=this._alreadyIn=0;delete b._dndInfo;this._oldStartDrag&&(b.startDrag=this._oldStartDrag,delete this._oldStartDrag);this._oldMakeAvatar&&(b.makeAvatar=this._oldMakeAvatar,
delete this._oldMakeAvatar);if(this._dndReady||this._dnding||this._extDnding)this._dnding=this._extDnding=0,this._destroyUI(),g.setSelectable(this.grid.domNode,!0),f.remove(h.body(),"gridxDnDReadyCursor"),this.profile._onEndDnd(),this._source.notSelectText=0,this._loadSelectStatus()},_createUI:function(){f.add(h.body(),"gridxDnDCursor");this.grid.autoScroll&&(this.profile._onBeginAutoScroll(),this.grid.autoScroll.enabled=!0)},_destroyUI:function(){this._unmarkTargetAnchor();f.remove(h.body(),"gridxDnDCursor");
this.grid.autoScroll&&(this.profile._onEndAutoScroll(),this.grid.autoScroll.enabled=!1)},_createTargetAnchor:function(){return m.create("div",{"class":"gridxDnDAnchor"})},_markTargetAnchor:function(a){if(this._extDnding||this.profile.arg("canRearrange")){var b=this._targetAnchor,c=l.position(this.grid.mainNode);b||(b=this._targetAnchor=this._createTargetAnchor(),b.style.display="none",this.grid.mainNode.appendChild(b));f.add(b,"gridxDnDAnchor"+this.profile._cssName);(a=this.profile._calcTargetAnchorPos(a,
c))?(k.set(b,a),b.style.display="block"):b.style.display="none"}},_unmarkTargetAnchor:function(){var a=this._targetAnchor;a&&(a.style.display="none",f.remove(a,"gridxDnDAnchor"+this.profile._cssName))},_startDrag:function(b,c,d,e){this._dndReady&&c===this._source&&(this._oldStartDrag.call(a.manager(),c,this._node.childNodes,e),this._dndReady=0,this._dnding=this._alreadyIn=1,this._createUI(),this._markTargetAnchor(b))},_getItem:function(a){return{type:this.profile.arg("provide"),data:this.profile._getItemData(a)}},
_checkAcceptance:function(a,b){var d=function(a){for(var b={},c=a.length-1;0<=c;--c)b[a[c]]=1;return b},e=c.prototype.checkAcceptance;if(e.apply(this._source,arguments)){if(a.grid===this.grid)return this.profile.arg("canRearrange");if(!a.canNotDragOut)for(var f in this._profiles){var g=this._profiles[f],h=e.apply({accept:d(g.arg("accept"))},arguments);if(g.arg("enabled")&&h&&(!g.checkAcceptance||g.checkAcceptance.apply(g,arguments)))return this.profile=g,this._extDnding=1,!0}}return!1},_onDraggingOver:function(){if(this._dnding||
this._extDnding)this._alreadyIn=1,this._createUI()},_onDraggingOut:function(){if(this._dnding||this._extDnding)this._alreadyIn=0,this._destroyUI()},_onDropInternal:function(a,b){this.profile._onDropInternal(a,b);this._endDnd()},_onDropExternal:function(a,b,c){var d=this;b=d.profile._onDropExternal(a,b,c);r.when(b,function(){if(!c)if(a.grid)a.grid.dnd._dnd.profile.onDraggedOut(d._source);else a.deleteSelectedNodes()})}}))})},"dojo/dnd/Source":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom-class ../dom-geometry ../mouse ../ready ../topic ./common ./Selector ./Manager".split(" "),
function(n,q,r,m,l,f,k,g,h,d,c,a){var b=q("dojo.dnd.Source",c,{isSource:!0,horizontal:!1,copyOnly:!1,selfCopy:!1,selfAccept:!0,skipForm:!1,withHandles:!1,autoSync:!1,delay:0,accept:["text"],generateText:!0,constructor:function(a,b){m.mixin(this,m.mixin({},b));var c=this.accept;if(c.length){this.accept={};for(var d=0;d<c.length;++d)this.accept[c[d]]=1}this.mouseDown=this.isDragging=!1;this.targetBox=this.targetAnchor=null;this.before=!0;this._lastY=this._lastX=0;this.sourceState="";this.isSource&&
l.add(this.node,"dojoDndSource");this.targetState="";this.accept&&l.add(this.node,"dojoDndTarget");this.horizontal&&l.add(this.node,"dojoDndHorizontal");this.topics=[h.subscribe("/dnd/source/over",m.hitch(this,"onDndSourceOver")),h.subscribe("/dnd/start",m.hitch(this,"onDndStart")),h.subscribe("/dnd/drop",m.hitch(this,"onDndDrop")),h.subscribe("/dnd/cancel",m.hitch(this,"onDndCancel"))]},checkAcceptance:function(a,b){if(this==a)return!this.copyOnly||this.selfAccept;for(var c=0;c<b.length;++c){for(var d=
a.getItem(b[c].id).type,f=!1,g=0;g<d.length;++g)if(d[g]in this.accept){f=!0;break}if(!f)return!1}return!0},copyState:function(b,c){if(b)return!0;2>arguments.length&&(c=this==a.manager().target);if(c){if(this.copyOnly)return this.selfCopy}else return this.copyOnly;return!1},destroy:function(){b.superclass.destroy.call(this);n.forEach(this.topics,function(a){a.remove()});this.targetAnchor=null},onMouseMove:function(c){if(!(this.isDragging&&"Disabled"==this.targetState)){b.superclass.onMouseMove.call(this,
c);var g=a.manager();if(!this.isDragging&&this.mouseDown&&this.isSource&&(Math.abs(c.pageX-this._lastX)>this.delay||Math.abs(c.pageY-this._lastY)>this.delay)){var h=this.getSelectedNodes();h.length&&g.startDrag(this,h,this.copyState(d.getCopyKeyState(c),!0))}if(this.isDragging){h=!1;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current)this.targetBox=f.position(this.current,!0);h=this.horizontal?c.pageX-this.targetBox.x<this.targetBox.w/2==f.isBodyLtr(this.current.ownerDocument):c.pageY-
this.targetBox.y<this.targetBox.h/2}if(this.current!=this.targetAnchor||h!=this.before)this._markTargetAnchor(h),g.canDrop(!this.current||g.source!=this||!(this.current.id in this.selection))}}},onMouseDown:function(a){if(!this.mouseDown&&this._legalMouseDown(a)&&(!this.skipForm||!d.isFormElement(a)))this.mouseDown=!0,this._lastX=a.pageX,this._lastY=a.pageY,b.superclass.onMouseDown.call(this,a)},onMouseUp:function(a){this.mouseDown&&(this.mouseDown=!1,b.superclass.onMouseUp.call(this,a))},onDndSourceOver:function(b){this!==
b?(this.mouseDown=!1,this.targetAnchor&&this._unmarkTargetAnchor()):this.isDragging&&(b=a.manager(),b.canDrop("Disabled"!=this.targetState&&(!this.current||b.source!=this||!(this.current.id in this.selection))))},onDndStart:function(b,c,d){this.autoSync&&this.sync();this.isSource&&this._changeState("Source",this==b?d?"Copied":"Moved":"");c=this.accept&&this.checkAcceptance(b,c);this._changeState("Target",c?"":"Disabled");this==b&&a.manager().overSource(this);this.isDragging=!0},onDndDrop:function(a,
b,c,d){if(this==d)this.onDrop(a,b,c);this.onDndCancel()},onDndCancel:function(){this.targetAnchor&&(this._unmarkTargetAnchor(),this.targetAnchor=null);this.before=!0;this.mouseDown=this.isDragging=!1;this._changeState("Source","");this._changeState("Target","")},onDrop:function(a,b,c){if(this!=a)this.onDropExternal(a,b,c);else this.onDropInternal(b,c)},onDropExternal:function(a,b,c){var f=this._normalizedCreator;this._normalizedCreator=this.creator?function(b,c){return f.call(this,a.getItem(b.id).data,
c)}:c?function(b){var c=a.getItem(b.id);b=b.cloneNode(!0);b.id=d.getUniqueId();return{node:b,data:c.data,type:c.type}}:function(b){var c=a.getItem(b.id);a.delItem(b.id);return{node:b,data:c.data,type:c.type}};this.selectNone();!c&&!this.creator&&a.selectNone();this.insertNodes(!0,b,this.before,this.current);!c&&this.creator&&a.deleteSelectedNodes();this._normalizedCreator=f},onDropInternal:function(a,b){var c=this._normalizedCreator;if(!(this.current&&this.current.id in this.selection)){if(b)this._normalizedCreator=
this.creator?function(a,b){return c.call(this,this.getItem(a.id).data,b)}:function(a){var b=this.getItem(a.id);a=a.cloneNode(!0);a.id=d.getUniqueId();return{node:a,data:b.data,type:b.type}};else{if(!this.current)return;this._normalizedCreator=function(a){var b=this.getItem(a.id);return{node:a,data:b.data,type:b.type}}}this._removeSelection();this.insertNodes(!0,a,this.before,this.current);this._normalizedCreator=c}},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){b.superclass.onOverEvent.call(this);
a.manager().overSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOver()},onOutEvent:function(){b.superclass.onOutEvent.call(this);a.manager().outSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOut()},_markTargetAnchor:function(a){this.current==this.targetAnchor&&this.before==a||(this.targetAnchor&&this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetAnchor=this.current,this.targetBox=null,this.before=a,this.targetAnchor&&
this._addItemClass(this.targetAnchor,this.before?"Before":"After"))},_unmarkTargetAnchor:function(){this.targetAnchor&&(this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetBox=this.targetAnchor=null,this.before=!0)},_markDndStatus:function(a){this._changeState("Source",a?"Copied":"Moved")},_legalMouseDown:function(a){if("touchstart"!=a.type&&!k.isLeft(a))return!1;if(!this.withHandles)return!0;for(a=a.target;a&&a!==this.node;a=a.parentNode){if(l.contains(a,"dojoDndHandle"))return!0;
if(l.contains(a,"dojoDndItem")||l.contains(a,"dojoDndIgnore"))break}return!1}});return b})},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(n,q,r,m){var l=r.getObject("dojo.dnd",!0);l.getCopyKeyState=function(f){return f[n("mac")?"metaKey":"ctrlKey"]};l._uniqueId=0;l.getUniqueId=function(){var f;do f=q._scopeName+"Unique"+ ++l._uniqueId;while(m.byId(f));return f};l._empty={};l.isFormElement=function(f){f=f.target;3==f.nodeType&&(f=f.parentNode);
return 0<=" a button textarea input select option ".indexOf(" "+f.tagName.toLowerCase()+" ")};return l})},"dojo/dnd/Selector":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom ../dom-construct ../mouse ../_base/NodeList ../on ../touch ./common ./Container".split(" "),function(n,q,r,m,l,f,k,g,h,d,c,a){var b=q("dojo.dnd.Selector",a,{constructor:function(a,b){b||(b={});this.singular=b.singular;this.autoSync=b.autoSync;this.selection={};this.anchor=null;this.simpleSelection=
!1;this.events.push(h(this.node,d.press,m.hitch(this,"onMouseDown")),h(this.node,d.release,m.hitch(this,"onMouseUp")))},singular:!1,getSelectedNodes:function(){var a=new g,b=c._empty,d;for(d in this.selection)d in b||a.push(l.byId(d));return a},selectNone:function(){return this._removeSelection()._removeAnchor()},selectAll:function(){this.forInItems(function(a,b){this._addItemClass(l.byId(b),"Selected");this.selection[b]=1},this);return this._removeAnchor()},deleteSelectedNodes:function(){var a=c._empty,
b;for(b in this.selection)if(!(b in a)){var d=l.byId(b);this.delItem(b);f.destroy(d)}this.anchor=null;this.selection={};return this},forInSelectedItems:function(a,b){b=b||r.global;var d=this.selection,f=c._empty,g;for(g in d)g in f||a.call(b,this.getItem(g),g,this)},sync:function(){b.superclass.sync.call(this);this.anchor&&!this.getItem(this.anchor.id)&&(this.anchor=null);var a=[],d=c._empty,f;for(f in this.selection)f in d||this.getItem(f)||a.push(f);n.forEach(a,function(a){delete this.selection[a]},
this);return this},insertNodes:function(a,c,d,f){var g=this._normalizedCreator;this._normalizedCreator=function(b,c){var d=g.call(this,b,c);a?(this.anchor?this.anchor!=d.node&&(this._removeItemClass(d.node,"Anchor"),this._addItemClass(d.node,"Selected")):(this.anchor=d.node,this._removeItemClass(d.node,"Selected"),this._addItemClass(this.anchor,"Anchor")),this.selection[d.node.id]=1):(this._removeItemClass(d.node,"Selected"),this._removeItemClass(d.node,"Anchor"));return d};b.superclass.insertNodes.call(this,
c,d,f);this._normalizedCreator=g;return this},destroy:function(){b.superclass.destroy.call(this);this.selection=this.anchor=null},onMouseDown:function(a){this.autoSync&&this.sync();if(this.current)if(!this.singular&&!c.getCopyKeyState(a)&&!a.shiftKey&&this.current.id in this.selection)this.simpleSelection=!0,k.isLeft(a)&&(a.stopPropagation(),a.preventDefault());else{if(!this.singular&&a.shiftKey){c.getCopyKeyState(a)||this._removeSelection();var b=this.getAllNodes();if(b.length&&(this.anchor||(this.anchor=
b[0],this._addItemClass(this.anchor,"Anchor")),this.selection[this.anchor.id]=1,this.anchor!=this.current)){for(var d=0,f;d<b.length&&!(f=b[d],f==this.anchor||f==this.current);++d);for(++d;d<b.length;++d){f=b[d];if(f==this.anchor||f==this.current)break;this._addItemClass(f,"Selected");this.selection[f.id]=1}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1}}else this.singular?this.anchor==this.current?c.getCopyKeyState(a)&&this.selectNone():(this.selectNone(),this.anchor=
this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1):c.getCopyKeyState(a)?this.anchor==this.current?(delete this.selection[this.anchor.id],this._removeAnchor()):this.current.id in this.selection?(this._removeItemClass(this.current,"Selected"),delete this.selection[this.current.id]):(this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this._addItemClass(this.anchor,"Selected")),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=
1):this.current.id in this.selection||(this.selectNone(),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1);a.stopPropagation();a.preventDefault()}},onMouseUp:function(){this.simpleSelection&&(this.simpleSelection=!1,this.selectNone(),this.current&&(this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1))},onMouseMove:function(){this.simpleSelection=!1},onOverEvent:function(){this.onmousemoveEvent=h(this.node,
d.move,m.hitch(this,"onMouseMove"))},onOutEvent:function(){this.onmousemoveEvent&&(this.onmousemoveEvent.remove(),delete this.onmousemoveEvent)},_removeSelection:function(){var a=c._empty,b;for(b in this.selection)if(!(b in a)){var d=l.byId(b);d&&this._removeItemClass(d,"Selected")}this.selection={};return this},_removeAnchor:function(){this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this.anchor=null);return this}});return b})},"dojo/_base/NodeList":function(){define(["./kernel","../query",
"./array","./html","../NodeList-dom"],function(n,q,r){q=q.NodeList;var m=q.prototype;m.connect=q._adaptAsForEach(function(){return n.connect.apply(this,arguments)});m.coords=q._adaptAsMap(n.coords);q.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");r.forEach(q.events,function(l){var f="on"+l;m[f]=function(k,g){return this.connect(f,k,g)}});return n.NodeList=q})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),
function(n,q,r,m,l,f,k,g){n.byId=q.byId;n.isDescendant=q.isDescendant;n.setSelectable=q.setSelectable;n.getAttr=m.get;n.setAttr=m.set;n.hasAttr=m.has;n.removeAttr=m.remove;n.getNodeProp=m.getNodeProp;n.attr=function(f,d,c){return 2==arguments.length?m["string"==typeof d?"get":"set"](f,d):m.set(f,d,c)};n.hasClass=f.contains;n.addClass=f.add;n.removeClass=f.remove;n.toggleClass=f.toggle;n.replaceClass=f.replace;n._toDom=n.toDom=k.toDom;n.place=k.place;n.create=k.create;n.empty=function(f){k.empty(f)};
n._destroyElement=n.destroy=function(f){k.destroy(f)};n._getPadExtents=n.getPadExtents=g.getPadExtents;n._getBorderExtents=n.getBorderExtents=g.getBorderExtents;n._getPadBorderExtents=n.getPadBorderExtents=g.getPadBorderExtents;n._getMarginExtents=n.getMarginExtents=g.getMarginExtents;n._getMarginSize=n.getMarginSize=g.getMarginSize;n._getMarginBox=n.getMarginBox=g.getMarginBox;n.setMarginBox=g.setMarginBox;n._getContentBox=n.getContentBox=g.getContentBox;n.setContentSize=g.setContentSize;n._isBodyLtr=
n.isBodyLtr=g.isBodyLtr;n._docScroll=n.docScroll=g.docScroll;n._getIeDocumentElementOffset=n.getIeDocumentElementOffset=g.getIeDocumentElementOffset;n._fixIeBiDiScrollLeft=n.fixIeBiDiScrollLeft=g.fixIeBiDiScrollLeft;n.position=g.position;n.marginBox=function(f,d){return d?g.setMarginBox(f,d):g.getMarginBox(f)};n.contentBox=function(f,d){return d?g.setContentSize(f,d):g.getContentBox(f)};n.coords=function(f,d){n.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");f=q.byId(f);var c=
r.getComputedStyle(f),c=g.getMarginBox(f,c),a=g.position(f,d);c.x=a.x;c.y=a.y;return c};n.getProp=l.get;n.setProp=l.set;n.prop=function(f,d,c){return 2==arguments.length?l["string"==typeof d?"get":"set"](f,d):l.set(f,d,c)};n.getStyle=r.get;n.setStyle=r.set;n.getComputedStyle=r.getComputedStyle;n.__toPixelValue=n.toPixelValue=r.toPixelValue;n.style=function(f,d,c){switch(arguments.length){case 1:return r.get(f);case 2:return r["string"==typeof d?"get":"set"](f,d)}return r.set(f,d,c)};return n})},"dojo/dnd/Container":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../_base/window ../dom ../dom-class ../dom-construct ../Evented ../has ../on ../query ../touch ./common".split(" "),
function(n,q,r,m,l,f,k,g,h,d,c,a,b,e){q=q("dojo.dnd.Container",h,{skipForm:!1,allowNested:!1,constructor:function(a,d){this.node=f.byId(a);d||(d={});this.creator=d.creator||null;this.skipForm=d.skipForm;this.parent=d.dropParent&&f.byId(d.dropParent);this.map={};this.current=null;this.containerState="";k.add(this.node,"dojoDndContainer");(!d||!d._skipStartup)&&this.startup();this.events=[c(this.node,b.over,m.hitch(this,"onMouseOver")),c(this.node,b.out,m.hitch(this,"onMouseOut")),c(this.node,"dragstart",
m.hitch(this,"onSelectStart")),c(this.node,"selectstart",m.hitch(this,"onSelectStart"))]},creator:function(){},getItem:function(a){return this.map[a]},setItem:function(a,b){this.map[a]=b},delItem:function(a){delete this.map[a]},forInItems:function(a,b){b=b||r.global;var c=this.map,d=e._empty,f;for(f in c)f in d||a.call(b,c[f],f,this);return b},clearItems:function(){this.map={}},getAllNodes:function(){return a((this.allowNested?"":"\x3e ")+".dojoDndItem",this.parent)},sync:function(){var a={};this.getAllNodes().forEach(function(b){if(b.id){var c=
this.getItem(b.id);if(c){a[b.id]=c;return}}else b.id=e.getUniqueId();var c=b.getAttribute("dndType"),d=b.getAttribute("dndData");a[b.id]={data:d||b.innerHTML,type:c?c.split(/\s*,\s*/):["text"]}},this);this.map=a;return this},insertNodes:function(a,b,c){this.parent.firstChild?b?c||(c=this.parent.firstChild):c&&(c=c.nextSibling):c=null;var d;if(c)for(b=0;b<a.length;++b)d=this._normalizedCreator(a[b]),this.setItem(d.node.id,{data:d.data,type:d.type}),c.parentNode.insertBefore(d.node,c);else for(b=0;b<
a.length;++b)d=this._normalizedCreator(a[b]),this.setItem(d.node.id,{data:d.data,type:d.type}),this.parent.appendChild(d.node);return this},destroy:function(){n.forEach(this.events,function(a){a.remove()});this.clearItems();this.node=this.parent=this.current=null},markupFactory:function(a,b,c){a._skipStartup=!0;return new c(b,a)},startup:function(){if(!this.parent&&(this.parent=this.node,"table"==this.parent.tagName.toLowerCase())){var a=this.parent.getElementsByTagName("tbody");a&&a.length&&(this.parent=
a[0])}this.defaultCreator=e._defaultCreator(this.parent);this.sync()},onMouseOver:function(a){for(var b=a.relatedTarget;b&&b!=this.node;)try{b=b.parentNode}catch(c){b=null}b||(this._changeState("Container","Over"),this.onOverEvent());b=this._getChildByEvent(a);this.current!=b&&(this.current&&this._removeItemClass(this.current,"Over"),b&&this._addItemClass(b,"Over"),this.current=b)},onMouseOut:function(a){for(a=a.relatedTarget;a;){if(a==this.node)return;try{a=a.parentNode}catch(b){a=null}}this.current&&
(this._removeItemClass(this.current,"Over"),this.current=null);this._changeState("Container","");this.onOutEvent()},onSelectStart:function(a){if(!this.skipForm||!e.isFormElement(a))a.stopPropagation(),a.preventDefault()},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(a,b){var c="dojoDnd"+a,d=a.toLowerCase()+"State";k.replace(this.node,c+b,c+this[d]);this[d]=b},_addItemClass:function(a,b){k.add(a,"dojoDndItem"+b)},_removeItemClass:function(a,b){k.remove(a,"dojoDndItem"+b)},
_getChildByEvent:function(a){if(a=a.target)for(var b=a.parentNode;b;a=b,b=a.parentNode)if((b==this.parent||this.allowNested)&&k.contains(a,"dojoDndItem"))return a;return null},_normalizedCreator:function(a,b){var c=(this.creator||this.defaultCreator).call(this,a,b);m.isArray(c.type)||(c.type=["text"]);c.node.id||(c.node.id=e.getUniqueId());k.add(c.node,"dojoDndItem");return c}});e._createNode=function(a){return!a?e._createSpan:function(b){return g.create(a,{innerHTML:b})}};e._createTrTd=function(a){var b=
g.create("tr");g.create("td",{innerHTML:a},b);return b};e._createSpan=function(a){return g.create("span",{innerHTML:a})};e._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};e._defaultCreator=function(a){a=a.tagName.toLowerCase();var b="tbody"==a||"thead"==a?e._createTrTd:e._createNode(e._defaultCreatorNodes[a]);return function(a,c){var d=a&&m.isObject(a),f,g;d&&a.tagName&&a.nodeType&&a.getAttribute?(f=a.getAttribute("dndData")||a.innerHTML,d=(d=a.getAttribute("dndType"))?d.split(/\s*,\s*/):
["text"],g=a):(f=d&&a.data?a.data:a,d=d&&a.type?a.type:["text"],g=("avatar"==c?e._createSpan:b)(String(f)));g.id||(g.id=e.getUniqueId());return{node:g,data:f,type:d}}};return q})},"dojo/dnd/Manager":function(){define("../_base/array ../_base/declare ../_base/lang ../_base/window ../dom-class ../Evented ../has ../keys ../on ../topic ../touch ./common ./autoscroll ./Avatar".split(" "),function(n,q,r,m,l,f,k,g,h,d,c,a,b,e){var p=q("dojo.dnd.Manager",[f],{constructor:function(){this.source=this.avatar=
null;this.nodes=[];this.copy=!0;this.target=null;this.canDropFlag=!1;this.events=[]},OFFSET_X:k("touch")?0:16,OFFSET_Y:k("touch")?-64:16,overSource:function(a){this.avatar&&(this.target=a&&"Disabled"!=a.targetState?a:null,this.canDropFlag=Boolean(this.target),this.avatar.update());d.publish("/dnd/source/over",a)},outSource:function(a){this.avatar?this.target==a&&(this.target=null,this.canDropFlag=!1,this.avatar.update(),d.publish("/dnd/source/over",null)):d.publish("/dnd/source/over",null)},startDrag:function(a,
e,f){function g(a){a.preventDefault();a.stopPropagation()}b.autoScrollStart(m.doc);this.source=a;this.nodes=e;this.copy=Boolean(f);this.avatar=this.makeAvatar();m.body().appendChild(this.avatar.node);d.publish("/dnd/start",a,e,this.copy);this.events=[h(m.doc,c.move,r.hitch(this,"onMouseMove")),h(m.doc,c.release,r.hitch(this,"onMouseUp")),h(m.doc,"keydown",r.hitch(this,"onKeyDown")),h(m.doc,"keyup",r.hitch(this,"onKeyUp")),h(m.doc,"dragstart",g),h(m.body(),"selectstart",g)];l.add(m.body(),"dojoDnd"+
(f?"Copy":"Move"))},canDrop:function(a){a=Boolean(this.target&&a);this.canDropFlag!=a&&(this.canDropFlag=a,this.avatar.update())},stopDrag:function(){l.remove(m.body(),["dojoDndCopy","dojoDndMove"]);n.forEach(this.events,function(a){a.remove()});this.events=[];this.avatar.destroy();this.source=this.target=this.avatar=null;this.nodes=[]},makeAvatar:function(){return new e(this)},updateAvatar:function(){this.avatar.update()},onMouseMove:function(c){var d=this.avatar;d&&(b.autoScrollNodes(c),d=d.node.style,
d.left=c.pageX+this.OFFSET_X+"px",d.top=c.pageY+this.OFFSET_Y+"px",d=Boolean(this.source.copyState(a.getCopyKeyState(c))),this.copy!=d&&this._setCopyStatus(d));k("touch")&&c.preventDefault()},onMouseUp:function(b){if(this.avatar){if(this.target&&this.canDropFlag){var c=Boolean(this.source.copyState(a.getCopyKeyState(b)));d.publish("/dnd/drop/before",this.source,this.nodes,c,this.target,b);d.publish("/dnd/drop",this.source,this.nodes,c,this.target,b)}else d.publish("/dnd/cancel");this.stopDrag()}},
onKeyDown:function(a){if(this.avatar)switch(a.keyCode){case g.CTRL:a=Boolean(this.source.copyState(!0));this.copy!=a&&this._setCopyStatus(a);break;case g.ESCAPE:d.publish("/dnd/cancel"),this.stopDrag()}},onKeyUp:function(a){this.avatar&&a.keyCode==g.CTRL&&(a=Boolean(this.source.copyState(!1)),this.copy!=a&&this._setCopyStatus(a))},_setCopyStatus:function(a){this.copy=a;this.source._markDndStatus(this.copy);this.updateAvatar();l.replace(m.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?
"Move":"Copy"))}});a._manager=null;p.manager=a.manager=function(){a._manager||(a._manager=new p);return a._manager};return p})},"dojo/dnd/autoscroll":function(){define("../_base/lang ../sniff ../_base/window ../dom-geometry ../dom-style ../window".split(" "),function(n,q,r,m,l,f){var k={};n.setObject("dojo.dnd.autoscroll",k);k.getViewport=f.getBox;k.V_TRIGGER_AUTOSCROLL=32;k.H_TRIGGER_AUTOSCROLL=32;k.V_AUTOSCROLL_VALUE=16;k.H_AUTOSCROLL_VALUE=16;var g,h=r.doc,d=Infinity,c=Infinity;k.autoScrollStart=
function(a){h=a;g=f.getBox(h);a=r.body(h).parentNode;d=Math.max(a.scrollHeight-g.h,0);c=Math.max(a.scrollWidth-g.w,0)};k.autoScroll=function(a){var b=g||f.getBox(h),e=r.body(h).parentNode,l=0,m=0;a.clientX<k.H_TRIGGER_AUTOSCROLL?l=-k.H_AUTOSCROLL_VALUE:a.clientX>b.w-k.H_TRIGGER_AUTOSCROLL&&(l=Math.min(k.H_AUTOSCROLL_VALUE,c-e.scrollLeft));a.clientY<k.V_TRIGGER_AUTOSCROLL?m=-k.V_AUTOSCROLL_VALUE:a.clientY>b.h-k.V_TRIGGER_AUTOSCROLL&&(m=Math.min(k.V_AUTOSCROLL_VALUE,d-e.scrollTop));window.scrollBy(l,
m)};k._validNodes={div:1,p:1,td:1};k._validOverflow={auto:1,scroll:1};k.autoScrollNodes=function(a){for(var b,c,d,f,g,h,n=0,v=0,y=a.target;y;){if(1==y.nodeType&&y.tagName.toLowerCase()in k._validNodes){d=l.getComputedStyle(y);f=d.overflow.toLowerCase()in k._validOverflow;g=d.overflowX.toLowerCase()in k._validOverflow;h=d.overflowY.toLowerCase()in k._validOverflow;if(f||g||h)b=m.getContentBox(y,d),c=m.position(y,!0);if(f||g){d=Math.min(k.H_TRIGGER_AUTOSCROLL,b.w/2);g=a.pageX-c.x;if(q("webkit")||q("opera"))g+=
r.body().scrollLeft;n=0;0<g&&g<b.w&&(g<d?n=-d:g>b.w-d&&(n=d),y.scrollLeft+=n)}if(f||h){f=Math.min(k.V_TRIGGER_AUTOSCROLL,b.h/2);h=a.pageY-c.y;if(q("webkit")||q("opera"))h+=r.body().scrollTop;v=0;0<h&&h<b.h&&(h<f?v=-f:h>b.h-f&&(v=f),y.scrollTop+=v)}if(n||v)return}try{y=y.parentNode}catch(A){y=null}}k.autoScroll(a)};return k})},"gridx/modules/RowHeader":function(){define("dojo/_base/declare ../support/query dojo/_base/lang dojo/_base/sniff dojo/aspect dojo/dom-construct dojo/dom-class dojo/dom-style dojo/dom-geometry dojo/keys ../core/_Module".split(" "),
function(n,q,r,m,l,f,k,g,h,d,c){return n(c,{name:"rowHeader",constructor:function(){this.headerNode=f.create("div",{"class":"gridxRowHeaderHeader",role:"row",innerHTML:'\x3ctable role\x3d"presentation" border\x3d"0" cellspacing\x3d"0" cellpadding\x3d"0" style\x3d"width: 100%;"\x3e\x3ctr\x3e\x3ctd class\x3d"gridxRowHeaderHeaderCell" role\x3d"rowheader" tabindex\x3d"-1"\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e'});this.bodyNode=f.create("div",{"class":"gridxRowHeaderBody"})},destroy:function(){this.inherited(arguments);
f.destroy(this.headerNode);f.destroy(this.bodyNode)},preload:function(){var a=this.headerNode,b=this.bodyNode,c=this.grid,d=c.body,f=this.arg("width");c._initEvents(["RowHeaderHeader","RowHeaderCell"],c._eventNames);c.header.domNode.appendChild(a);a.style.width=f;this.headerCellNode=q("td",a)[0];c._connectEvents(a,"_onHeaderMouseEvent",this);c.mainNode.appendChild(b);b.style.width=f;c.hLayout.register(null,b);this.batchConnect([d,"onRender","_onRendered"],[d,"onAfterRow","_onAfterRow"],[d,"onAfterCell",
"_onAfterCell"],[d,"onUnrender","_onUnrender"],[d,"onEmpty",function(){b.innerHTML=""}],[c.bodyNode,"onscroll","_onScroll"],[c,"onRowMouseOver","_onRowMouseOver"],[c,"onRowMouseOut","_onRowMouseOver"],[c,"_onResizeEnd","_onResize"],c.columnWidth&&[c.columnWidth,"onUpdate","_onResize"],c.columnResizer&&[c.columnResizer,"onResize","_onResize"],[c,"onRowHeaderCellMouseOver","_onCellMouseOver"],[c,"onRowHeaderCellMouseOut","_onCellMouseOver"],[this.model,"onSizeChange","_onSizeChange"]);this._cnnts.push(l.before(d,
"renderRows",r.hitch(this,this._onRenderRows),!0),l.before(d,"_onDelete",r.hitch(this,this._onDelete),!0));c._connectEvents(b,"_onBodyMouseEvent",this);this._initFocus()},load:function(a,b){var c=this,d=c.grid,f=c.bodyNode;b.then(function(){var a=f.offsetWidth||g.get(f,"width"),b=d.isLeftToRight(),k=h.getBorderExtents(d.mainNode);f.style[b?"left":"right"]=-(a+(b?k.l:k.r))+"px";c.loaded.callback()})},width:"20px",onMoveToRowHeaderCell:function(){},_onRenderRows:function(a,b,c){var d=this.bodyNode;
0<b?(a=this._buildRows(a,b),"top"==c?f.place(a,d,"first"):"bottom"==c?f.place(a,d,"last"):(d.innerHTML=a,d.scrollTop=0)):"top"!=c&&"bottom"!=c&&(d.innerHTML="")},_onAfterRow:function(a){var b=a.visualIndex(),c=q('[visualindex\x3d"'+b+'"].gridxRowHeaderRow',this.bodyNode)[0],b=this.grid.dod?q('[visualindex\x3d"'+b+'"].gridxRow',this.grid.bodyNode)[0]:q('[visualindex\x3d"'+b+'"].gridxRow .gridxRowTable',this.grid.bodyNode)[0],d=this.arg("cellProvider");c.setAttribute("rowid",a.id);c.setAttribute("rowindex",
a.index());c.setAttribute("parentid",this.model.treePath(a.id).pop()||"");d&&(c.firstChild.firstChild.firstChild.firstChild.innerHTML=d.call(this,a));this._syncRowHeight(c,b)},_onAfterCell:function(a){var b=a.row.visualIndex();a=q('[visualindex\x3d"'+b+'"].gridxRowHeaderRow',this.bodyNode)[0];b=q('[visualindex\x3d"'+b+'"].gridxRow .gridxRowTable',this.grid.bodyNode)[0];this._syncRowHeight(a,b)},_syncRowHeight:function(a,b){function c(){return 8>=m("ie")||d._isCollapse?b.offsetHeight+"px":g.getComputedStyle(b).height}
var d=this;if(void 0===d._isCollapse){var f=q(".gridxCell",d.grid.header.innerNode)[0];d._isCollapse=f&&"collapse"==g.get(f,"borderCollapse")}a.style.height=a.firstChild.style.height=c();setTimeout(function(){a&&a.firstChild&&(a.style.height=a.firstChild.style.height=c())},0)},_onRendered:function(a,b){var c=this.arg("headerProvider");c&&(this.headerCellNode.innerHTML=c());this._onScroll()},_onSizeChange:function(a,b){var c=this.arg("headerProvider");!a&&c&&(this.headerCellNode.innerHTML="");this._onScroll()},
_onDelete:function(a){var b=this.model.isId(a)&&q('[rowid\x3d"'+this.grid._escapeId(a)+'"].gridxRowHeaderRow',this.bodyNode);if(b&&b.length){var c=b[b.length-1],b=c.getAttribute("parentid"),d={},f=1;d[a]=1;for(a=c.nextSibling;a&&d[a.getAttribute("parentid")];a=a.nextSibling)c=a.getAttribute("rowid"),f++,d[c]=1;for(;a;a=a.nextSibling)a.getAttribute("parentid")==b&&a.setAttribute("rowindex",parseInt(a.getAttribute("rowindex"),10)-1),d=parseInt(a.getAttribute("visualindex"),10),a.setAttribute("visualindex",
d-f)}},_onUnrender:function(a,b,c){!this.model.isId(a)&&c?"post"===c?this.bodyNode.lastChild&&f.destroy(this.bodyNode.lastChild):this.bodyNode.firstChild&&f.destroy(this.bodyNode.firstChild):"refresh"!=b&&(a=this.model.isId(a)&&q('[rowid\x3d"'+this.grid._escapeId(a)+'"].gridxRowHeaderRow',this.bodyNode))&&a.length&&f.destroy(a[a.length-1])},_onScroll:function(){var a=this;a.bodyNode.scrollTop=a.grid.bodyNode.scrollTop;a.bodyNode.scrollHeight-a.bodyNode.clientHeight>=a.grid.bodyNode.scrollTop?a.bodyNode.scrollTop=
a.grid.bodyNode.scrollTop:setTimeout(function(){a.bodyNode.scrollTop=a.grid.bodyNode.scrollTop},0)},_onResize:function(){for(var a=m("ie")?m("ie"):m("trident")?11:!1,b,c=this.grid.bodyNode.firstChild,d=this.bodyNode.firstChild;c&&d;c=c.nextSibling,d=d.nextSibling)b=this.grid.dod?c:c.firstChild,b=8<a?g.getComputedStyle(b).height:b.offsetHeight+"px",d.style.height=d.firstChild.style.height=b;b=this.bodyNode;d=this.grid;a=b.offsetWidth||g.get(b,"width");c=d.isLeftToRight();d=h.getBorderExtents(d.mainNode);
b.style[c?"left":"right"]=-(a+(c?d.l:d.r))+"px"},_buildRows:function(a,b){for(var c=[],d=0;d<b;++d)c.push('\x3cdiv class\x3d"gridxRowHeaderRow" role\x3d"row" visualindex\x3d"',a+d,'"\x3e\x3ctable role\x3d"presentation" border\x3d"0" cellspacing\x3d"0" cellpadding\x3d"0" style\x3d"height: 24px;"\x3e\x3ctr\x3e\x3ctd class\x3d"gridxRowHeaderCell" role\x3d"rowheader" tabindex\x3d"-1"\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e');return c.join("")},_onHeaderMouseEvent:function(a,b){var c=this.grid,
d="onRowHeaderHeader"+a;if(c._isConnected(d))c[d](b)},_onBodyMouseEvent:function(a,b){var c=this.grid,d="onRowHeaderCell"+a,f="onRow"+a,g=c._isConnected(d),h=c._isConnected(f);if(g||h)if(this._decorateBodyEvent(b),0<=b.rowIndex){if(b.isRowHeader&&g)c[d](b);if(h)c[f](b)}},_decorateBodyEvent:function(a){for(var b=a.target||a.originalTarget;b&&b!=this.bodyNode;){if(k.contains(b,"gridxRowHeaderCell"))a.isRowHeader=!0,a.rowHeaderCellNode=b;else if("div"===b.tagName.toLowerCase()&&k.contains(b,"gridxRowHeaderRow")){a.rowId=
b.getAttribute("rowid");a.parentId=b.getAttribute("parentid");a.rowIndex=parseInt(b.getAttribute("rowindex"),10);a.visualIndex=parseInt(b.getAttribute("visualindex"),10);break}b=b.parentNode}},_onRowMouseOver:function(a){var b=q('\x3e [rowid\x3d"'+this.grid._escapeId(a.rowId)+'"].gridxRowHeaderRow',this.bodyNode)[0];b&&k.toggle(b,"gridxRowOver","mouseover"==a.type.toLowerCase())},_onCellMouseOver:function(a){var b=q('\x3e [rowid\x3d"'+this.grid._escapeId(a.rowId)+'"].gridxRowHeaderRow .gridxRowHeaderCell',
this.bodyNode)[0];b&&k.toggle(b,"gridxRowHeaderCellOver","mouseover"==a.type.toLowerCase())},_initFocus:function(){var a=this.grid.focus;a&&a.registerArea({name:"rowHeader",priority:0.9,focusNode:this.bodyNode,scope:this,doFocus:this._doFocus,onFocus:this._onFocus,doBlur:this._blur,onBlur:this._blur,connects:[this.connect(this.bodyNode,"onkeydown","_onKeyDown")]})},_doFocus:function(a){if(this._focusRow(this.grid.body._focusCellRow))return this.grid.focus.stopEvent(a),!0},_onFocus:function(a){for(a=
a.target;a!=this.bodyNode;){if(k.contains(a,"gridxRowHeaderRow"))return a=this.grid.body._focusCellRow=parseInt(a.getAttribute("visualindex"),10),this._focusRow(a),this._onScroll(),!0;a=a.parentNode}},_focusRow:function(a){a=q('[visualindex\x3d"'+a+'"] .gridxRowHeaderCell',this.bodyNode)[0];this._blur();if(a=a||this.bodyNode.firstChild)k.add(a,"gridxCellFocus"),a.focus();return a},_blur:function(){q(".gridxCellFocus",this.bodyNode).forEach(function(a){k.remove(a,"gridxCellFocus")});return!0},_onKeyDown:function(a){var b=
this,c=b.grid;if(!b._busy&&"rowHeader"==c.focus.currentArea()&&a.keyCode==d.UP_ARROW||a.keyCode==d.DOWN_ARROW){c.focus.stopEvent(a);var f=c.body,g=f._focusCellRow+(a.keyCode==d.UP_ARROW?-1:1);f._focusCellRow=g=0>g?0:g>=c.view.visualCount?c.view.visualCount-1:g;b._busy=1;c.vScroller.scrollToRow(g).then(function(){b._focusRow(g);b._busy=0;b.onMoveToRowHeaderCell(g,a)})}}})})},"url:gridx/templates/Grid.html":'\x3cdiv class\x3d"gridx" role\x3d"grid" tabindex\x3d"0" aria-readonly\x3d"true" aria-label\x3d"grid"\n\t\x3e\x3cdiv class\x3d"gridxLoad" data-dojo-attach-point\x3d"loadingNode"\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"gridxHeader" role\x3d"presentation" data-dojo-attach-point\x3d"headerNode"\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"gridxMain" role\x3d"presentation" data-dojo-attach-point\x3d"mainNode"\n\t\t\x3e\x3cdiv class\x3d"gridxBodyEmpty" role\x3d"alert" tabindex\x3d"-1" data-dojo-attach-point\x3d"emptyNode"\x3e\x3c/div\n\t\t\x3e\x3cdiv class\x3d"gridxBody" role\x3d"presentation" data-dojo-attach-point\x3d"bodyNode"\x3e\x3c/div\n\t\t\x3e\x3cdiv class\x3d"gridxVScroller" data-dojo-attach-point\x3d"vScrollerNode" tabindex\x3d"-1"\n\t\t\t\x3e\x3cdiv style\x3d\'width: 1px;\'\x3e\x3c/div\n\t\t\x3e\x3c/div\n\t\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"gridxFooter" data-dojo-attach-point\x3d"footerNode"\n\t\t\x3e\x3cdiv class\x3d"gridxHScroller"\n\t\t\t\x3e\x3cdiv class\x3d"gridxHScrollerInner" data-dojo-attach-point\x3d"hScrollerNode" tabindex\x3d"-1"\n\t\t\t\t\x3e\x3cdiv style\x3d"width:1px; height: 1px;"\x3e\x3c/div\n\t\t\t\x3e\x3c/div\n\t\t\x3e\x3c/div\n\t\x3e\x3c/div\n\t\x3e\x3cspan data-dojo-attach-point\x3d"lastFocusNode" tabindex\x3d"0"\x3e\x3c/span\n\x3e\x3c/div\x3e\n',
"*now":function(n){n(['dojo/i18n!*preload*gridx/nls/grid-all*["en-us","ROOT"]'])}}});define("gridx/grid-all",[],1);
//# sourceMappingURL=grid-all.js.map