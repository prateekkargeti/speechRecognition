var ionweb;!function(a){function b(a,b,d){function e(a){return a>="0"&&a<="9"}if("string"!=typeof a||"string"!=typeof b)return 0;for(var f=a.length,g=b.length,h=0,i=0;h<f&&i<g;){var j=a.charAt(h),k=b.charAt(i),l="",m="",n=e(j);do{if(l+=j,h++,h>=f)break;j=a.charAt(h)}while(e(j)===n);var o=e(k);do{if(m+=k,i++,i>=g)break;k=b.charAt(i)}while(e(k)===o);var p=0,q=!1;if(n&&o){var r=parseInt(l,10);if(q=!isNaN(r)){var s=parseInt(m,10);q=!isNaN(s),q&&(p=c.numberCompare(r,s))}}if(q||(p=c.asciiStringCompare(l,m,d)),0!=p)return p}return f-g}var c=function(){function c(){}return c.numberCompare=function(a,b){return a-b},c.numberCompareAbsolute=function(a,b){return Math.abs(a)-Math.abs(b)},c.asciiStringCompare=function(a,b,c){return"string"!=typeof a||"string"!=typeof b?0:c?a.localeCompare(b,[],{caseFirst:"upper"}):a.toLocaleLowerCase().localeCompare(b.toLocaleLowerCase())},c.naturalStringCompare=function(a,c,d){return b(a,c,d)},c.dateCompare=function(b,d,e){return b=b instanceof a.IsoTimeStamp?b.getNormalizeDate():new Date(b),d=d instanceof a.IsoTimeStamp?d.getNormalizeDate():new Date(d),e&&(b=new Date(b.getFullYear(),b.getMonth(),b.getDate()),d=new Date(d.getFullYear(),d.getMonth(),d.getDate())),c.numberCompare(b.getTime(),d.getTime())},c.anyCompare=function(a,b){var d=function(a,b){return c.naturalStringCompare(a,b,!1)};return c.internalAnyCompare(a,b,d)},c.anyCompareAscii=function(a,b,d){var e=function(a,b){return c.asciiStringCompare(a,b,d)};return c.internalAnyCompare(a,b,e)},c.internalAnyCompare=function(b,d,e){return"undefined"==typeof b||null===b?"undefined"==typeof d||null===d?0:-1:"undefined"==typeof d||null===d?1:(b instanceof Date?b=b.getTime():b instanceof a.IsoTimeStamp&&(b=b.getNormalizeDate().getTime()),d instanceof Date?d=d.getTime():d instanceof a.IsoTimeStamp&&(d=d.getNormalizeDate().getTime()),"string"==typeof b&&"string"==typeof d?e(b,d):b&&"object"==typeof b&&b.compareTo?b.compareTo(d):d&&"object"==typeof d&&d.compareTo?-d.compareTo(b):c.numberCompare(b,d))},c}();a.ValueComparer=c}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.dateFormatParser=function(){var a=function(a,b,c,d){for(c=c||{},d=a.length;d--;c[a[d]]=b);return c},b=[1,33],c=[1,34],d=[1,35],e=[1,4],f=[1,5],g=[1,6],h=[1,7],i=[1,8],j=[1,9],k=[1,10],l=[1,11],m=[1,12],n=[1,13],o=[1,14],p=[1,15],q=[1,16],r=[1,17],s=[1,18],t=[1,19],u=[1,20],v=[1,21],w=[1,22],x=[1,23],y=[1,24],z=[1,25],A=[1,26],B=[1,27],C=[1,28],D=[1,29],E=[1,31],F=[1,32],G=[1,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37],H={trace:function(){},yy:{},symbols_:{error:2,format_expression:3,"token-list":4,token:5,"moment-string":6,STRING:7,APOSTROPHE:8,QUOTE:9,DAY_NUMBER_SHORT:10,DAY_NUMBER_PADDED:11,DAY_NAME_SHORT:12,DAY_NAME_LONG:13,HOUR12:14,HOUR12_PADDED:15,HOUR24:16,HOUR24_PADDED:17,TENTHS:18,HUNDREDTHS:19,MILLIS:20,MINUTES:21,MINUTES_PADDED:22,MONTH:23,MONTH_PADDED:24,MONTH_NAME_SHORT:25,MONTH_NAME_LONG:26,SECONDS:27,SECONDS_PADDED:28,AMPM_SHORT:29,AMPM_LONG:30,YEAR2:31,YEAR4:32,TIMEZONE_OFFSET_SHORT:33,TIMEZONE_OFFSET_PADDED:34,TIMEZONE_OFFSET_FULL:35,WHITESPACE:36,"literal-list":37,$accept:0,$end:1},terminals_:{2:"error",7:"STRING",8:"APOSTROPHE",9:"QUOTE",10:"DAY_NUMBER_SHORT",11:"DAY_NUMBER_PADDED",12:"DAY_NAME_SHORT",13:"DAY_NAME_LONG",14:"HOUR12",15:"HOUR12_PADDED",16:"HOUR24",17:"HOUR24_PADDED",18:"TENTHS",19:"HUNDREDTHS",20:"MILLIS",21:"MINUTES",22:"MINUTES_PADDED",23:"MONTH",24:"MONTH_PADDED",25:"MONTH_NAME_SHORT",26:"MONTH_NAME_LONG",27:"SECONDS",28:"SECONDS_PADDED",29:"AMPM_SHORT",30:"AMPM_LONG",31:"YEAR2",32:"YEAR4",33:"TIMEZONE_OFFSET_SHORT",34:"TIMEZONE_OFFSET_PADDED",35:"TIMEZONE_OFFSET_FULL",36:"WHITESPACE",37:"literal-list"},productions_:[0,[3,1],[3,0],[4,2],[4,1],[6,1],[6,1],[6,1],[5,1],[5,1],[5,1],[5,1],[5,1],[5,1],[5,1],[5,1],[5,1],[5,1],[5,1],[5,1],[5,1],[5,1],[5,1],[5,1],[5,1],[5,1],[5,1],[5,1],[5,1],[5,1],[5,1],[5,1],[5,1],[5,1],[5,1],[5,1],[5,1]],performAction:function(a,b,c,d,e,f,g){var h=f.length-1;switch(e){case 1:return f[h];case 2:return"";case 3:this.$=f[h-1]+f[h];break;case 4:this.$=f[h];break;case 5:this.$="["+f[h].replace(/[\'\"]/g,"")+"]";break;case 6:this.$="[']";break;case 7:this.$='["]';break;case 8:this.$="D";break;case 9:this.$="DD";break;case 10:this.$="ddd";break;case 11:this.$="dddd";break;case 12:this.$="h";break;case 13:this.$="hh";break;case 14:this.$="H";break;case 15:this.$="HH";break;case 16:this.$="S";break;case 17:this.$="SS";break;case 18:this.$="SSS";break;case 19:this.$="m";break;case 20:this.$="mm";break;case 21:this.$="M";break;case 22:this.$="MM";break;case 23:this.$="MMM";break;case 24:this.$="MMMM";break;case 25:this.$="s";break;case 26:this.$="ss";break;case 27:case 28:this.$="A";break;case 29:this.$="YY";break;case 30:this.$="YYYY";break;case 31:case 32:this.$="ZZ";break;case 33:this.$="Z";break;case 36:this.$="["+this.$+"]"}},table:[{1:[2,2],3:1,4:2,5:3,6:30,7:b,8:c,9:d,10:e,11:f,12:g,13:h,14:i,15:j,16:k,17:l,18:m,19:n,20:o,21:p,22:q,23:r,24:s,25:t,26:u,27:v,28:w,29:x,30:y,31:z,32:A,33:B,34:C,35:D,36:E,37:F},{1:[3]},{1:[2,1],5:36,6:30,7:b,8:c,9:d,10:e,11:f,12:g,13:h,14:i,15:j,16:k,17:l,18:m,19:n,20:o,21:p,22:q,23:r,24:s,25:t,26:u,27:v,28:w,29:x,30:y,31:z,32:A,33:B,34:C,35:D,36:E,37:F},a(G,[2,4]),a(G,[2,8]),a(G,[2,9]),a(G,[2,10]),a(G,[2,11]),a(G,[2,12]),a(G,[2,13]),a(G,[2,14]),a(G,[2,15]),a(G,[2,16]),a(G,[2,17]),a(G,[2,18]),a(G,[2,19]),a(G,[2,20]),a(G,[2,21]),a(G,[2,22]),a(G,[2,23]),a(G,[2,24]),a(G,[2,25]),a(G,[2,26]),a(G,[2,27]),a(G,[2,28]),a(G,[2,29]),a(G,[2,30]),a(G,[2,31]),a(G,[2,32]),a(G,[2,33]),a(G,[2,34]),a(G,[2,35]),a(G,[2,36]),a(G,[2,5]),a(G,[2,6]),a(G,[2,7]),a(G,[2,3])],defaultActions:{},parseError:function(a,b){if(!b.recoverable)throw new Error(a);this.trace(a)},parse:function(a){function b(){var a;return a=o.lex()||m,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0,l=2,m=1,n=f.slice.call(arguments,1),o=Object.create(this.lexer),p={yy:{}};for(var q in this.yy)Object.prototype.hasOwnProperty.call(this.yy,q)&&(p.yy[q]=this.yy[q]);o.setInput(a,p.yy),p.yy.lexer=o,p.yy.parser=this,"undefined"==typeof o.yylloc&&(o.yylloc={});var r=o.yylloc;f.push(r);var s=o.options&&o.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var t,u,v,w,x,y,z,A,B,C={};;){if(v=d[d.length-1],this.defaultActions[v]?w=this.defaultActions[v]:(null!==t&&"undefined"!=typeof t||(t=b()),w=g[v]&&g[v][t]),"undefined"==typeof w||!w.length||!w[0]){var D="";B=[];for(y in g[v])this.terminals_[y]&&y>l&&B.push("'"+this.terminals_[y]+"'");D=o.showPosition?"Parse error on line "+(i+1)+":\n"+o.showPosition()+"\nExpecting "+B.join(", ")+", got '"+(this.terminals_[t]||t)+"'":"Parse error on line "+(i+1)+": Unexpected "+(t==m?"end of input":"'"+(this.terminals_[t]||t)+"'"),this.parseError(D,{text:o.match,token:this.terminals_[t]||t,line:o.yylineno,loc:r,expected:B})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+t);switch(w[0]){case 1:d.push(t),e.push(o.yytext),f.push(o.yylloc),d.push(w[1]),t=null,u?(t=u,u=null):(j=o.yyleng,h=o.yytext,i=o.yylineno,r=o.yylloc,k>0&&k--);break;case 2:if(z=this.productions_[w[1]][1],C.$=e[e.length-z],C._$={first_line:f[f.length-(z||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(z||1)].first_column,last_column:f[f.length-1].last_column},s&&(C._$.range=[f[f.length-(z||1)].range[0],f[f.length-1].range[1]]),x=this.performAction.apply(C,[h,j,i,p.yy,w[1],e,f].concat(n)),"undefined"!=typeof x)return x;z&&(d=d.slice(0,-1*z*2),e=e.slice(0,-1*z),f=f.slice(0,-1*z)),d.push(this.productions_[w[1]][0]),e.push(C.$),f.push(C._$),A=g[d[d.length-2]][d[d.length-1]],d.push(A);break;case 3:return!0}}}},I=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a,b){return this.yy=b||this.yy||{},this._input=a,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,d,e;if(this.options.backtrack_lexer&&(e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(e.yylloc.range=this.yylloc.range.slice(0))),d=a[0].match(/(?:\r\n?|\n).*/g),d&&(this.yylineno+=d.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length},this.yytext+=a[0],this.match+=a[0],this.matches=a,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(a[0].length),this.matched+=a[0],c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),c)return c;if(this._backtrack){for(var f in e)this[f]=e[f];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d;this._more||(this.yytext="",this.match="");for(var e=this._currentRules(),f=0;f<e.length;f++)if(c=this._input.match(this.rules[e[f]]),c&&(!b||c[0].length>b[0].length)){if(b=c,d=f,this.options.backtrack_lexer){if(a=this.test_match(c,e[f]),a!==!1)return a;if(this._backtrack){b=!1;continue}return!1}if(!this.options.flex)break}return b?(a=this.test_match(b,e[d]),a!==!1&&a):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){var a=this.conditionStack.length-1;return a>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){return a=this.conditionStack.length-1-Math.abs(a||0),a>=0?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,b,c,d){switch(c){case 0:return 8;case 1:return 9;case 2:return 36;case 3:return 7;case 4:return 7;case 5:return 10;case 6:return 11;case 7:return 12;case 8:return 13;case 9:return 18;case 10:return 19;case 11:return 20;case 12:return 20;case 13:return 20;case 14:return 20;case 15:return 14;case 16:return 15;case 17:return 16;case 18:return 17;case 19:return 21;case 20:return 22;case 21:return 23;case 22:return 24;case 23:return 25;case 24:return 26;case 25:return 27;case 26:return 28;case 27:return 29;case 28:return 30;case 29:return 31;case 30:return 31;case 31:return 32;case 32:return 32;case 33:return 32;case 34:return 33;case 35:return 34;case 36:return 35;case 37:return 7}},rules:[/^(?:\\['])/,/^(?:\\["])/,/^(?:\s+)/,/^(?:"[^"]*?")/,/^(?:'[^']*?')/,/^(?:d\b)/,/^(?:dd\b)/,/^(?:ddd\b)/,/^(?:dddd\b)/,/^(?:f\b)/,/^(?:ff\b)/,/^(?:fff\b)/,/^(?:ffff\b)/,/^(?:fffff\b)/,/^(?:ffffff\b)/,/^(?:h\b)/,/^(?:hh\b)/,/^(?:H\b)/,/^(?:HH\b)/,/^(?:m\b)/,/^(?:mm\b)/,/^(?:M\b)/,/^(?:MM\b)/,/^(?:MMM\b)/,/^(?:MMMM\b)/,/^(?:s\b)/,/^(?:ss\b)/,/^(?:t\b)/,/^(?:tt\b)/,/^(?:y\b)/,/^(?:yy\b)/,/^(?:yyy\b)/,/^(?:yyyy\b)/,/^(?:yyyyy\b)/,/^(?:z\b)/,/^(?:zz\b)/,/^(?:zzz\b)/,/^(?:\S+?)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37],inclusive:!0}}};return a}();H.lexer=I;var J=function(){this.yy={}};return J.prototype=H,H.Parser=J,new J}()}(b=a.localization||(a.localization={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){b.PredefinedRangeSeparator="-";var c;!function(a){a[a.Predefined=0]="Predefined",a[a.Custom=1]="Custom"}(c=b.DateTimeFormatSelectionType||(b.DateTimeFormatSelectionType={}));var d=function(){function d(c){this._locale="en",this.translateCache={},this.preferenceChanged=new a.Event,this.logger=c.create("DateFormattingService"),b.dateFormatParser.yy.parseError=function(a){throw new Error("Invalid date format string: "+a)}}return d.prototype.init=function(){var b=this,c=function(a){b.moment=a,b.setLocale()};c("undefined"!=typeof window.moment?window.moment:a.syncRequire("moment"))},d.prototype.getLocale=function(){return this._locale},d.prototype.setLocale=function(a){this._locale=a||this._locale,this.moment.locale(this.getLocale()),this.moment.localeData().postformat=function(a){return a},this.updateFormatsInCache()},d.prototype.toLongDate=function(a){return this.moment(a).format(this.longDateFormat)},d.prototype.toShortDate=function(a){return this.moment(a).format(this.shortDateFormat)},d.prototype.toLongTime=function(a){return this.moment(a).format(this.longTimeFormat)},d.prototype.toShortTime=function(a){return this.moment(a).format(this.shortTimeFormat)},d.prototype.toCustom=function(a,b){var c=this.toMoment(b);return this.moment(a).format(c)},d.prototype.dateRangeSeparator=function(){return this.rangeSeparator},d.prototype.isNonStrictDateValid=function(a){return!a._pf.unusedInput.length},d.prototype.correctYear=function(a){var b=a.getFullYear();return b<1e3&&(b+=2e3),a.setFullYear(b),a},d.prototype.parseShortDate=function(a){var b=this.moment(a,this.shortDateFormat,!1);return b.isValid()&&this.isNonStrictDateValid(b)||(b=this.moment(a,this.knownFormats,!0)),b.isValid()&&this.isNonStrictDateValid(b)&&this.correctYear(b.toDate())||void 0},d.prototype.parseShortTime=function(a){var b=this.moment(a,this.shortTimeFormat,!1);return b.isValid()&&this.isNonStrictDateValid(b)||(b=this.moment(a,this.knownFormats,!0)),b.isValid()&&this.isNonStrictDateValid(b)&&this.correctYear(b.toDate())||void 0},d.prototype.parseLongDate=function(a){var b=this.moment(a,this.longDateFormat,!1);return b.isValid()&&this.isNonStrictDateValid(b)||(b=this.moment(a,this.knownFormats,!0)),b.isValid()&&this.isNonStrictDateValid(b)&&this.correctYear(b.toDate())||void 0},d.prototype.parseLongTime=function(a){var b=this.moment(a,this.longTimeFormat,!1);return b.isValid()&&this.isNonStrictDateValid(b)||(b=this.moment(a,this.knownFormats,!0)),b.isValid()&&this.isNonStrictDateValid(b)&&this.correctYear(b.toDate())||void 0},d.prototype.parseDate=function(a,b){var c;return b&&(c=this.moment(a,this.toMoment(b),!1),c.isValid()&&this.isNonStrictDateValid(c))?this.correctYear(c.toDate()):(c=this.moment(a,this.userProvidedFormats,!1),c.isValid()&&this.isNonStrictDateValid(c)||(c=this.moment(a,this.knownFormats,!0)),c.isValid()&&this.isNonStrictDateValid(c)&&this.correctYear(c.toDate())||void 0)},d.prototype.toStandardFormat=function(a){switch(a){case d.MomentLongDateFormat:return d.DateTimeLongDateFormat;case d.MomentShortDateFormat:return d.DateTimeShortDateFormat;case d.MomentShortTimeFormat:return d.DateTimeShortTimeFormat;case d.MomentLongTimeFormat:return d.DateTimeLongTimeFormat;default:return a}},d.prototype.toMoment=function(a){if(!a)return"";var c=this.translateCache[a];if(!c){switch(a){case d.DateTimeLongDateFormat:c=d.MomentLongDateFormat;break;case d.DateTimeShortDateFormat:c=d.MomentShortDateFormat;break;case d.DateTimeLongTimeFormat:c=d.MomentLongTimeFormat;break;case d.DateTimeShortTimeFormat:c=d.MomentShortTimeFormat;break;default:c=b.dateFormatParser.parse(a)}this.translateCache[a]=c}return c},d.prototype.updateFormatsInCache=function(){var a=this.fetchLongDateFormat(),b=this.fetchShortDateFormat(),c=this.fetchLongTimeFormat(),d=this.fetchShortTimeFormat();this.longDateFormat=this.toMoment(a.formatString),this.shortDateFormat=this.toMoment(b.formatString),this.longTimeFormat=this.toMoment(c.formatString),this.shortTimeFormat=this.toMoment(d.formatString),this.rangeSeparator=this.fetchRangeSeparator().separator,this.knownFormats=this.getParsingFormats(),this.userProvidedFormats=this.getNonStrictParsingFormats(),this.preferenceChanged.raise(this,void 0)},d.prototype.getParsingFormats=function(){for(var a=this,b=["d-MMM","d-M-yy","d-M-yyyy","d MMM","yyyy, d","yyyy, d MMM","d MMM yyyy","M/d/yyyy","d/M/yyyy","yyyy/M/d","yyyy-M-d"],c=["h:m","h:m tt","H:m"],e=b.concat(c).map(function(b){return a.toMoment(b)}),f=0,g=b.length;f<g;f++)for(var h=0,i=c.length;h<i;h++){var j=b[f],k=c[h];j!==d.MomentLongDateFormat&&j!==d.MomentShortDateFormat&&(j=this.toMoment(j)),k!==d.MomentLongTimeFormat&&k!==d.MomentShortTimeFormat&&(k=this.toMoment(k)),e.push(j+" "+k,k+" "+j)}return e},d.prototype.getNonStrictParsingFormats=function(){var a=this,b=[];b.push(this.fetchShortDateFormat().formatString),b.push(this.fetchLongDateFormat().formatString),b.push(this.fetchShortTimeFormat().formatString),b.push(this.fetchLongTimeFormat().formatString);for(var c=b.slice(2),e=b.map(function(b){return a.toMoment(b)}),f=0;f<b.length;f++)for(var g=0;g<c.length;g++){var h=b[f],i=c[g];h!==d.MomentLongDateFormat&&h!==d.MomentShortDateFormat&&(h=this.toMoment(h)),i!==d.MomentLongTimeFormat&&i!==d.MomentShortTimeFormat&&(i=this.toMoment(i)),e.push(h+" "+i,i+" "+h)}return e},d.prototype.fetchLongDateFormat=function(){return{formatType:c.Predefined,formatString:d.DateTimeLongDateFormat}},d.prototype.fetchShortDateFormat=function(){return{formatType:c.Predefined,formatString:d.DateTimeShortDateFormat}},d.prototype.fetchLongTimeFormat=function(){return{formatType:c.Predefined,formatString:d.DateTimeLongTimeFormat}},d.prototype.fetchShortTimeFormat=function(){return{formatType:c.Predefined,formatString:d.DateTimeShortTimeFormat}},d.prototype.fetchRangeSeparator=function(){return{separatorType:c.Predefined,separator:b.PredefinedRangeSeparator}},d.MomentLongDateFormat="LL",d.MomentShortDateFormat="L",d.MomentLongTimeFormat="LTS",d.MomentShortTimeFormat="LT",d.DateTimeLongDateFormat="D",d.DateTimeShortDateFormat="d",d.DateTimeLongTimeFormat="T",d.DateTimeShortTimeFormat="t",d}();b.DateFormattingServiceBase=d}(b=a.localization||(a.localization={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b=function(){function a(a){this.dateStr=a,this.normalizedDate=new Date(a)}return a.prototype.getNormalizeDate=function(){return this.normalizedDate},a.prototype.getIsoString=function(){return this.dateStr},a.prototype.toString=function(){return this.dateStr},a}();a.IsoTimeStamp=b}(ionweb||(ionweb={}));var ionweb;!function(a){function b(a,b,c){var d,e=function(e){var f=this,g=arguments,h=function(){d=null,c||(a.apply(f,g),e&&"function"==typeof e&&e())},i=c&&!d;clearTimeout(d),d=setTimeout(h,b),i&&(a.apply(f,g),e&&e())};return e.clear=function(){d&&(clearTimeout(d),d=null)},e}a.debounce=b}(ionweb||(ionweb={}));var ionweb;!function(a){var b=function(){function a(){this.observers=[]}return a.prototype.add=function(a,b){var c=this;if(!a)throw new Error("Observer cannot be null");return this.observers.push({handler:a,$this:b}),function(){c.remove(a,b)}},a.prototype.remove=function(a,b){for(var c=0;c<this.observers.length;c++)this.observers[c].handler===a&&this.observers[c].$this===b&&(this.observers.splice(c,1),c--)},a.prototype.raise=function(a,b){if(this.observers.length>0){var c=b;"function"==typeof b&&(c=b()),this.observers.slice().forEach(function(b){b.$this?b.handler.call(b.$this,a,c):b.handler(a,c)})}},a.prototype.observersCount=function(){return this.observers.length},a}();a.Event=b}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a[a.TAB=9]="TAB",a[a.ENTER=13]="ENTER",a[a.ESC=27]="ESC",a[a.SPACE=32]="SPACE",a[a.PAGE_UP=33]="PAGE_UP",a[a.PAGE_DOWN=34]="PAGE_DOWN",a[a.LEFT=37]="LEFT",a[a.UP=38]="UP",a[a.RIGHT=39]="RIGHT",a[a.DOWN=40]="DOWN"}(b=a.KeyCodes||(a.KeyCodes={}))}(ionweb||(ionweb={}));var ionweb;!function(a){function b(){var a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()%16|0;return("x"==a?b:3&b|8).toString(16)});return a}function c(a,b){return b.forEach(function(b){for(var c in b){var d=b[c];a[c]=d}}),a}function d(a,b){return b.forEach(function(b){for(var c in b){var e=b[c],f=a[c];"object"==typeof f?a[c]=d(f,[e]):null!==e&&"object"==typeof e?Array.isArray(e)?a[c]=e.slice():a[c]=d({},[e]):a[c]=e}}),a}function e(b,c){if(b===c)return!0;if(typeof b!=typeof c)return!1;if(null===b||"undefined"==typeof b)return c===b;if(null===c||"undefined"==typeof c)return!1;var d=Array.isArray(b);if(d!==Array.isArray(c))return!1;if(d)return s(b,c,function(a,b){return e(a,b)});if(b instanceof Date){var f=b,g=c,h=f.getTime(),i=g.getTime();return h===i}if(b instanceof a.IsoTimeStamp){var j=b,k=c;return j.getIsoString()===k.getIsoString()}if("object"==typeof b){for(var l=Object.getOwnPropertyNames(b).filter(function(a){return"undefined"!=typeof b[a]&&"function"!=typeof b[a]}),m=Object.getOwnPropertyNames(c).reduce(function(a,b){return"undefined"!=typeof c[b]&&"function"!=typeof c[b]&&(a[b]=!0),a},{}),n=0;n<l.length;n++){var o=l[n];if(!m[o])return!1;if(!e(b[o],c[o]))return!1;delete m[o]}return 0===Object.getOwnPropertyNames(m).length}return!1}function f(a){return null!=a&&"object"==typeof a}function g(a,b,c){for(var d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d)}function h(a,b){if(b){var c=j(a,b);return c>=0?a[c]:null}return a.length>0?a[0]:null}function i(a,b){if(b){var c=k(a,b);return c>=0?a[c]:null}return a.length>0?a[0]:null}function j(a,b){for(var c=0;c<a.length;c++)if(b(a[c],c))return c;return-1}function k(a,b){for(var c=a.length-1;c>=0;c--)if(b(a[c]))return c;return-1}function l(a){var b={};return a.forEach(function(a){return b[a]=!0}),Object.getOwnPropertyNames(b)}function m(a,b){var c=[];return a.forEach(function(a){b(a).forEach(function(a){c.push(a)})}),c}function n(a,b){var c=j(a,b),d=a.slice();return c>=0&&d.splice(c,1),d}function o(a,b){for(var c=[],d=0;d<a.length;d++)b(a[d])&&(c.push(a[d]),a.splice(d,1),d--);return c}function p(a,b){return j(a,function(a){return!b(a)})<0}function q(a,b){return j(a,function(a){return b(a)})>=0}function r(a){return c({},[a])}function s(a,b,c){if(!a||!b||a.length!==b.length)return!1;c=c||function(a,b){return a===b};for(var d=0;d<a.length;d++)if(!c(a[d],b[d]))return!1;return!0}function t(a,b,c,d){a.splice.apply(a,[d,0].concat(a.splice(b,c)))}function u(a){var b=Object.getOwnPropertyNames(a);return b.map(function(b){return a[b]})}function v(a,b){var c=8,d=3,e=b>>d;if(e>=a.length)return!1;var f=b%c,g=1<<f;return 0!==(g&a.charCodeAt(e))}function w(a){return null==a||a.replace(/\s/g,"").length<1}function x(b,c){if(c.indexOf(b)>=0){var d=1,e=b;if(")"===e.substr(e.length-1)){var f=e.lastIndexOf("(");if(f>0&&f<e.length-2){var g=e.substring(f+1,e.length-1);isNaN(g)||g!=parseInt(g)||(d=parseInt(g),e=e.substring(0,f))}}e=e.trim();do b=a.stringFormat("${desiredName} (${proposedNumber})",{desiredName:e,proposedNumber:d}),d++;while(c.indexOf(b)>=0)}return b}function y(a,b){for(var c={},d=[],e=a.length,f=0,g=0;g<e;g++){var h=a[g],i=b?b(h):h;c[i]||(c[i]=!0,d[f++]=h)}return d}a.createNewGuid=b,a.extend=c,a.extendChildren=d,a.equals=e,a.isObject=f,a.forEach=g,a.firstOrDefault=h,a.lastOrDefault=i,a.indexOf=j,a.lastIndexOf=k,a.distinct=l,a.selectMany=m,a.removeFirst=n,a.spliceAll=o,a.all=p,a.any=q,a.clone=r,a.sequenceEquals=s,a.moveBlock=t,a.toArray=u,a.isBitSet=v,a.isNullOrWhiteSpace=w,a.getUniqueName=x,a.dedupe=y}(ionweb||(ionweb={}));var ionweb;!function(a){a.Version="1.1.8-p1d8-r15018",a.Copyright="© Copyright 2018, ION.",a.GitSha="50b0bb1ece4773cd76bcd2a243f03fa86727291f"}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a[a.Default=0]="Default",a[a.Up=1]="Up",a[a.Down=2]="Down"}(b=a.RoundingMode||(a.RoundingMode={}))}(ionweb||(ionweb={}));var ionweb;!function(a){function b(a,b){for(var c,d,e=/\$\{([\S\s]*?)\}/g,f=[],g=0;d=e.exec(a);)c=a.slice(g,d.index),f.push(JSON.stringify(c),"("+d[1]+")"),g=e.lastIndex;c=a.slice(g),f.push(JSON.stringify(c)),f=["with(this)return "+f.join("+")];var h;try{h=Function.apply(null,f).call(b,!1)}catch(a){throw new Error("Missing or mismatched parameters in template ( "+(a.message?a.message:a)+" )")}return h}a.stringFormat=b}(ionweb||(ionweb={}));var ionweb;!function(a){function b(a,b,c){b||(b=250);var d,e,f=function(){var f=c||this,g=+new Date;d&&g<d+b?(clearTimeout(e),e=setTimeout(function(){d=g,a.apply(f)},b)):(d=g,a.apply(f))};return f.cancel=function(){e&&clearTimeout(e)},f}a.throttle=b}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b;!function(a){a[a.Valid=0]="Valid",a[a.Error=1]="Error",a[a.Warning=2]="Warning",a[a.Success=3]="Success",a[a.ServiceError=4]="ServiceError",a[a.Info=5]="Info"}(b=a.ValidationState||(a.ValidationState={}))}(b=a.validation||(a.validation={}))}(ionweb||(ionweb={}));var ionweb;!function(ionweb){function syncRequire(a){return syncReq(a)}function asyncRequire(a,b,c){return asyncReq(a,b,c)}function nodeJsExport(a){global1&&module1?module1.exports=a:define1&&define1.amd&&"dojotoolkit.org"!==define1.amd.vendor&&define1(function(){return a})}var syncReq=eval("(typeof require !== 'undefined' && require) || (typeof window !== 'undefined' && window.require)"),asyncReq=eval("(typeof window !== 'undefined' && window.require)"),global1=eval("typeof global !== 'undefined' && global"),module1=eval("typeof module !== 'undefined' && module"),define1=eval("typeof define !== 'undefined' && define");ionweb.syncRequire=syncRequire,ionweb.asyncRequire=asyncRequire,ionweb.nodeJsExport=nodeJsExport,nodeJsExport(ionweb)}(ionweb||(ionweb={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),ionweb;!function(a){a.Version="1.1.8-p1d8-r15018",a.Copyright="© Copyright 2018, ION.",a.GitSha="50b0bb1ece4773cd76bcd2a243f03fa86727291f"}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b=function(){function a(a){a.decorator("ionwebDatepickerDirective",["$delegate",this.datepickerDecorator.bind(this)])}return a.prototype.datepickerDecorator=function(a){var b=a[0],c=b.link;return b.compile=function(){return function(a,b,d,e){c(a,b,d,e);var f=e[0].activeDate;Object.defineProperty(e[0],"activeDate",{get:function(){return f},set:function(b){f=b,a.activeDate=b},enumerable:!0,configurable:!0}),e[0].activeDate=f,a.$watch("activeDate",function(b,c){if(b&&a.datepickerOptions.onNavigate){var d=new Date(b.getTime());d.setHours(0,0,0),a.datepickerOptions.onNavigate(d)}},!0),a.navigate=function(a){if(a){var b=new Date(e[0].activeDate.getFullYear(),e[0].activeDate.getMonth()),c=new Date(a.getFullYear(),a.getMonth()),d=b.getTime()-c.getTime()!==0;if(d){var f=new Date(a.getTime());f.setHours(0,0,0),e[0].activeDate=f}}},a.refresh=function(){a.$evalAsync(function(){e[0].refreshView()})}}},a},a}();a.DateTimepickerDecorator=b}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={})),angular.module("ionwebTk",["ui.bootstrap"]).config(["$provide","$compileProvider",function(a,b){new ionweb.toolkit.DateTimepickerDecorator(a),b.preAssignBindingsEnabled(!0)}]);var ionweb;!function(a){var b=function(){function a(a,b){this.window=a,this.notificationService=b}return a.prototype.supportGetClipboardContent=function(){return this.window.clipboardData},a.prototype.createTextArea=function(){var a=this.window.document.createElement("textarea");return a.style.position="fixed",a.style.top="-9999px",a.style.left="-9999px",a.style.width="100px",a.style.height="100px",a.style.padding="0",a.style.border="none",a.style.outline="none",a.style.boxShadow="none",a.style.background="transparent",a},a.prototype.copyToClipboard=function(a){var b=null;try{b=this.window.clipboardData&&this.window.clipboardData.setData}catch(a){b=null}if(b)try{b("Text",a)}catch(b){this.copyUsingDOM(a)}else this.copyUsingDOM(a)},a.prototype.copyUsingDOM=function(a){var b=document.activeElement,c=this.createTextArea();c.value=a,this.window.document.body.appendChild(c),c.select();try{this.window.document.execCommand("copy")}catch(a){this.notificationService.showError("Copy to clipboard failed")}finally{this.window.document.body.removeChild(c)}b.focus&&b.focus()},a.prototype.getClipboardContent=function(){var a=null,b=null;try{b=this.window.clipboardData&&this.window.clipboardData.setData}catch(a){b=null}if(b)try{a=b("Text")}catch(b){a=this.getClipboardContentUsingDOM()}else a=this.getClipboardContentUsingDOM();return a},a.prototype.getClipboardContentUsingDOM=function(){var a=null,b=this.createTextArea();this.window.document.body.appendChild(b),b.focus();try{this.window.document.execCommand("paste"),a=b.value}catch(a){this.notificationService.showError("Get clipboard data failed")}finally{this.window.document.body.removeChild(b)}return a},a}();a.ClipboardService=b,angular.module("ionwebTk").service("ionweb.clipboardService",["$window","ionwebTk.notificationService",function(a,c){return new b(a,c)}])}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){angular.module("ionwebTk").filter("resource",["$injector",function(b){if(b.has("ionweb.languageService")){var c=b.get("ionweb.languageService");return function(a,b,d){return c.getResource(a,b,d)}}return function(b){return a.Strings[b]}}]),angular.module("ionwebTk").filter("ionDateFormat",["ionwebTk.dateFormattingService",function(a){return function(b,c){switch(c){case"long":return a.toLongDate(b);case"short":return a.toShortDate(b)}}}]),angular.module("ionwebTk").filter("ionTimeFormat",["ionwebTk.dateFormattingService",function(a){return function(b,c){switch(c){case"long":
return a.toLongTime(b);case"short":return a.toShortTime(b)}}}]),angular.module("ionwebTk").filter("ionCustomDateTimeFormat",["ionwebTk.dateFormattingService",function(a){return function(b,c){return a.toCustom(b,c)}}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){var c=function(){function a(){this.restrict="E",this.scope={caption:"@",inline:"=?",inlineWidth:"=?",validationState:"=?",validationIcon:"=?"},this.transclude=!0,this.templateUrl="toolkit/contentBlock/contentBlock.tpl.html",this.controller=d,this.controllerAs="ctrl",this.bindToController=!0}return a}(),d=function(){function b(b,c){var d=this;this.validationStates=a.validation.ValidationState,b.$watch("ctrl.inline",function(){d.inline?c.addClass("inline"):c.removeClass("inline")})}return b.$inject=["$scope","$element"],b}();angular.module("ionwebTk").directive("ionContentBlock",function(){return new c})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b;!function(a){a[a.BottomLeft=0]="BottomLeft",a[a.BottomRight=1]="BottomRight",a[a.TopLeft=2]="TopLeft",a[a.TopRight=3]="TopRight",a[a.LeftBottom=4]="LeftBottom",a[a.LeftTop=5]="LeftTop",a[a.RightBottom=6]="RightBottom",a[a.RightTop=7]="RightTop",a[a.PositionProvided=8]="PositionProvided",a[a.TopRightInwards=9]="TopRightInwards"}(b=a.PopupAnchorPoint||(a.PopupAnchorPoint={}));var c;!function(a){a[a.Top=0]="Top",a[a.Right=1]="Right",a[a.Bottom=2]="Bottom",a[a.Left=3]="Left"}(c=a.PopupDirection||(a.PopupDirection={}))}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b=function(){function b(){this.POPUP_CLASS_DROPDOWN_ARROW_UP="dropdown-arrow-up",this.POPUP_CLASS_DROPDOWN_ARROW_DOWN="dropdown-arrow-down",this.POPUP_CLASS_DROPDOWN_ARROW_LEFT="dropdown-arrow-left",this.POPUP_CLASS_DROPDOWN_ARROW_RIGHT="dropdown-arrow-right"}return b.prototype.evaluateOffset=function(b,c,d,e,f){var g,h=e;switch(e){case a.PopupAnchorPoint.LeftBottom:g=a.PopupAnchorPoint.RightBottom;break;case a.PopupAnchorPoint.LeftTop:g=a.PopupAnchorPoint.RightTop;break;case a.PopupAnchorPoint.RightBottom:g=a.PopupAnchorPoint.LeftBottom;break;case a.PopupAnchorPoint.RightTop:g=a.PopupAnchorPoint.LeftTop;break;case a.PopupAnchorPoint.TopLeft:g=a.PopupAnchorPoint.BottomLeft;break;case a.PopupAnchorPoint.TopRight:g=a.PopupAnchorPoint.BottomRight;break;case a.PopupAnchorPoint.TopRightInwards:g=a.PopupAnchorPoint.TopRight;break;case a.PopupAnchorPoint.PositionProvided:h=a.PopupAnchorPoint.BottomLeft,g=a.PopupAnchorPoint.TopLeft;break;case a.PopupAnchorPoint.BottomLeft:g=a.PopupAnchorPoint.TopLeft;break;case a.PopupAnchorPoint.BottomRight:default:h=a.PopupAnchorPoint.BottomRight,g=a.PopupAnchorPoint.TopRight}return this.evaluateBestOffset(h,g,b,c,d,f)},b.prototype.fullScreenOffset=function(b,c){var d={left:0,top:0};return{anchorPoint:a.PopupAnchorPoint.LeftTop,popupOffset:d,arrowOffset:null,arrowClass:this.POPUP_CLASS_DROPDOWN_ARROW_RIGHT,maxHeight:c.height,maxWidth:c.width,overflowTop:this.overflowTop(d,b,c),overflowBottom:this.overflowBottom(d,b,c),overflowLeft:this.overflowLeft(d,b,c),overflowRight:this.overflowRight(d,b,c),validDirections:[a.PopupDirection.Left,a.PopupDirection.Top,a.PopupDirection.Bottom,a.PopupDirection.Right]}},b.prototype.evaluateLeftBottomOffset=function(b,c,d,e,f){var g=0,h=0,i=0;e&&(g=e.width/2,h=f&&e.height/2||0,i=f&&e.height/2||e.height);var j={left:c.left-b.width-g,top:c.bottom-b.height+h},k={left:c.left,top:c.bottom-i},l=k.left-g-d.left;return{anchorPoint:a.PopupAnchorPoint.LeftBottom,popupOffset:j,arrowOffset:k,arrowClass:this.POPUP_CLASS_DROPDOWN_ARROW_RIGHT,maxHeight:d.height,maxWidth:l,overflowTop:this.overflowTop(j,b,d),overflowBottom:this.overflowBottom(j,b,d),overflowLeft:this.overflowLeft(j,b,d),overflowRight:this.overflowRight(j,b,d),validDirections:[a.PopupDirection.Left,a.PopupDirection.Top,a.PopupDirection.Bottom]}},b.prototype.evaluateLeftTopOffset=function(b,c,d,e,f){var g=0,h=0;e&&(g=e.width/2,h=f&&e.height/2||0);var i={left:c.left-b.width-g,top:c.top-h},j={left:c.left,top:c.top-h},k=j.left-g-d.left;return{anchorPoint:a.PopupAnchorPoint.LeftTop,popupOffset:i,arrowOffset:j,arrowClass:this.POPUP_CLASS_DROPDOWN_ARROW_RIGHT,maxHeight:d.height,maxWidth:k,overflowTop:this.overflowTop(i,b,d),overflowBottom:this.overflowBottom(i,b,d),overflowLeft:this.overflowLeft(i,b,d),overflowRight:this.overflowRight(i,b,d),validDirections:[a.PopupDirection.Left,a.PopupDirection.Bottom,a.PopupDirection.Top]}},b.prototype.evaluateRightBottomOffset=function(b,c,d,e,f){var g=0,h=0,i=0;e&&(g=e.width/2,h=f&&e.height/2||0,i=f&&e.height/2||e.height);var j={left:c.right+g,top:c.bottom-b.height-h},k={left:c.right,top:c.bottom-i},l=d.right-j.left;return{anchorPoint:a.PopupAnchorPoint.RightBottom,popupOffset:j,arrowOffset:k,arrowClass:this.POPUP_CLASS_DROPDOWN_ARROW_LEFT,maxHeight:d.height,maxWidth:l,overflowTop:this.overflowTop(j,b,d),overflowBottom:this.overflowBottom(j,b,d),overflowLeft:this.overflowLeft(j,b,d),overflowRight:this.overflowRight(j,b,d),validDirections:[a.PopupDirection.Right,a.PopupDirection.Top,a.PopupDirection.Bottom]}},b.prototype.evaluateRightTopOffset=function(b,c,d,e,f){var g=0,h=0;e&&(g=e.width/2,h=f&&e.height/2||0);var i={left:c.right+g,top:c.top-h},j={left:c.right,top:c.top-h},k=d.right-i.left;return{anchorPoint:a.PopupAnchorPoint.RightTop,popupOffset:i,arrowOffset:j,arrowClass:this.POPUP_CLASS_DROPDOWN_ARROW_LEFT,maxHeight:d.height,maxWidth:k,overflowTop:this.overflowTop(i,b,d),overflowBottom:this.overflowBottom(i,b,d),overflowLeft:this.overflowLeft(i,b,d),overflowRight:this.overflowRight(i,b,d),validDirections:[a.PopupDirection.Right,a.PopupDirection.Bottom,a.PopupDirection.Top]}},b.prototype.evaluateTopLeftOffset=function(b,c,d,e,f){var g=0,h=0;e&&(h=f&&e.width/2||0,g=e.height/2);var i={left:c.left-h,top:c.top-b.height-g},j={left:c.left-h,top:c.top},k=j.top-g-d.top;return{anchorPoint:a.PopupAnchorPoint.TopLeft,popupOffset:i,arrowOffset:j,arrowClass:this.POPUP_CLASS_DROPDOWN_ARROW_DOWN,maxHeight:k,maxWidth:d.width,overflowTop:this.overflowTop(i,b,d),overflowBottom:this.overflowBottom(i,b,d),overflowLeft:this.overflowLeft(i,b,d),overflowRight:this.overflowRight(i,b,d),validDirections:[a.PopupDirection.Top,a.PopupDirection.Right,a.PopupDirection.Left]}},b.prototype.evaluateTopRightOffset=function(b,c,d,e,f){var g=0,h=0,i=0;e&&(g=e.height/2,h=f&&e.width/2||0,i=f&&e.width/2||e.width);var j={left:c.right-b.width+h,top:c.top-b.height-g},k={left:c.right-i,top:c.top},l=k.top-g-d.top;return{anchorPoint:a.PopupAnchorPoint.TopRight,popupOffset:j,arrowOffset:k,arrowClass:this.POPUP_CLASS_DROPDOWN_ARROW_DOWN,maxHeight:l,maxWidth:d.width,overflowTop:this.overflowTop(j,b,d),overflowBottom:this.overflowBottom(j,b,d),overflowLeft:this.overflowLeft(j,b,d),overflowRight:this.overflowRight(j,b,d),validDirections:[a.PopupDirection.Top,a.PopupDirection.Left,a.PopupDirection.Right]}},b.prototype.evaluateTopRightInwardsOffset=function(b,c,d,e,f){var g=0,h=0,i=0;e&&(g=f&&e.width/2||0,h=f&&e.width/2||e.width,i=e.height/2);var j={left:c.right-b.width+g,top:c.top+i},k=d.bottom-j.top;return{anchorPoint:a.PopupAnchorPoint.TopRightInwards,popupOffset:j,arrowOffset:{left:c.right-h,top:c.top},arrowClass:this.POPUP_CLASS_DROPDOWN_ARROW_UP,maxHeight:k,maxWidth:d.width,overflowTop:this.overflowTop(j,b,d),overflowBottom:this.overflowBottom(j,b,d),overflowLeft:this.overflowLeft(j,b,d),overflowRight:this.overflowRight(j,b,d),validDirections:[a.PopupDirection.Bottom,a.PopupDirection.Left,a.PopupDirection.Right]}},b.prototype.evaluateBottomLeftOffset=function(b,c,d,e,f){var g=0,h=0;e&&(g=f&&e.width/2||0,h=e.height/2);var i={left:c.left-g,top:c.bottom+h},j=d.bottom-i.top;return{anchorPoint:a.PopupAnchorPoint.BottomLeft,popupOffset:i,arrowOffset:{left:c.left-g,top:c.bottom},arrowClass:this.POPUP_CLASS_DROPDOWN_ARROW_UP,maxHeight:j,maxWidth:d.width,overflowTop:this.overflowTop(i,b,d),overflowBottom:this.overflowBottom(i,b,d),overflowLeft:this.overflowLeft(i,b,d),overflowRight:this.overflowRight(i,b,d),validDirections:[a.PopupDirection.Bottom,a.PopupDirection.Left,a.PopupDirection.Right]}},b.prototype.evaluateBottomRightOffset=function(b,c,d,e,f){var g=0,h=0,i=0;e&&(g=f&&e.width/2||0,h=f&&e.width/2||e.width,i=e.height/2);var j={left:c.right-b.width+g,top:c.bottom+i},k=d.bottom-j.top;return{anchorPoint:a.PopupAnchorPoint.BottomRight,popupOffset:j,arrowOffset:{left:c.right-h,top:c.bottom},arrowClass:this.POPUP_CLASS_DROPDOWN_ARROW_UP,maxHeight:k,maxWidth:d.width,overflowTop:this.overflowTop(j,b,d),overflowBottom:this.overflowBottom(j,b,d),overflowLeft:this.overflowLeft(j,b,d),overflowRight:this.overflowRight(j,b,d),validDirections:[a.PopupDirection.Bottom,a.PopupDirection.Right,a.PopupDirection.Left]}},b.prototype.overflowTop=function(a,b,c){var d=0;return a.top<c.top&&(d=c.top-a.top),d},b.prototype.overflowBottom=function(a,b,c){var d=0;return a.top+b.height>c.bottom&&(d=a.top+b.height-c.bottom),d},b.prototype.overflowLeft=function(a,b,c){var d=0;return a.left<c.left&&(d=c.left-a.left),d},b.prototype.overflowRight=function(a,b,c){var d=0;return a.left+b.width>c.right&&(d=a.left+b.width-c.right),d},b.prototype.evaluateBestOffset=function(b,c,d,e,f,g,h){var i={};i[a.PopupAnchorPoint.BottomLeft]=this.evaluateBottomLeftOffset(d,e,f,g,h),i[a.PopupAnchorPoint.BottomRight]=this.evaluateBottomRightOffset(d,e,f,g,h),i[a.PopupAnchorPoint.TopLeft]=this.evaluateTopLeftOffset(d,e,f,g,h),i[a.PopupAnchorPoint.TopRight]=this.evaluateTopRightOffset(d,e,f,g,h),i[a.PopupAnchorPoint.TopRightInwards]=this.evaluateTopRightInwardsOffset(d,e,f,g,h),i[a.PopupAnchorPoint.LeftBottom]=this.evaluateLeftBottomOffset(d,e,f,g,h),i[a.PopupAnchorPoint.LeftTop]=this.evaluateLeftTopOffset(d,e,f,g,h),i[a.PopupAnchorPoint.RightBottom]=this.evaluateRightBottomOffset(d,e,f,g,h),i[a.PopupAnchorPoint.RightTop]=this.evaluateRightTopOffset(d,e,f,g,h);var j=i[b],k=this.canFit(j,j.validDirections);if(k||(j=i[c],k=this.canFit(j,j.validDirections)),!k){var l=[i[a.PopupAnchorPoint.TopLeft],i[a.PopupAnchorPoint.TopRight]],m=[i[a.PopupAnchorPoint.BottomLeft],i[a.PopupAnchorPoint.BottomRight]],n=[i[a.PopupAnchorPoint.LeftTop],i[a.PopupAnchorPoint.LeftBottom]],o=[i[a.PopupAnchorPoint.RightTop],i[a.PopupAnchorPoint.RightBottom]],p=this.primaryDirection(b),q=this.maxVerticalSpace(l,m,b),r=this.maxHorizontalSpace(n,o,b),s=this.offsetForDirections(i,q,r),t=this.offsetForDirections(i,r,q),u=0,v=0;switch(q=this.primaryDirection(s.anchorPoint),r=this.primaryDirection(t.anchorPoint),q){case a.PopupDirection.Top:u=s.overflowTop;break;case a.PopupDirection.Bottom:u=s.overflowBottom}switch(r){case a.PopupDirection.Left:v=t.overflowLeft;break;case a.PopupDirection.Right:v=t.overflowRight}switch(p){case a.PopupDirection.Top:case a.PopupDirection.Bottom:j=0===u||s.maxHeight>=t.maxWidth?s:t;break;case a.PopupDirection.Left:case a.PopupDirection.Right:j=0===v||t.maxWidth>=s.maxHeight?t:s}}var w=this.primaryDirection(j.anchorPoint);return j.overflowBottom>0&&w!==a.PopupDirection.Bottom&&(j.popupOffset.top-=j.overflowBottom),j.overflowRight>0&&w!==a.PopupDirection.Right&&(j.popupOffset.left-=j.overflowRight),j.popupOffset.top<f.top&&(j.popupOffset.top=f.top),j.popupOffset.left<f.left&&(j.popupOffset.left=f.left),j},b.prototype.canFit=function(b,c){return!c.some(function(c){switch(c){case a.PopupDirection.Left:return b.overflowLeft>0;case a.PopupDirection.Right:return b.overflowRight>0;case a.PopupDirection.Top:return b.overflowTop>0;case a.PopupDirection.Bottom:return b.overflowBottom>0}return!1})},b.prototype.offsetForDirections=function(b,c,d){var e;switch(c){case a.PopupDirection.Top:switch(d){case a.PopupDirection.Left:e=b[a.PopupAnchorPoint.TopRight];break;case a.PopupDirection.Right:e=b[a.PopupAnchorPoint.TopLeft]}break;case a.PopupDirection.Bottom:switch(d){case a.PopupDirection.Left:e=b[a.PopupAnchorPoint.BottomRight];break;case a.PopupDirection.Right:e=b[a.PopupAnchorPoint.BottomLeft]}break;case a.PopupDirection.Left:switch(d){case a.PopupDirection.Top:e=b[a.PopupAnchorPoint.LeftBottom];break;case a.PopupDirection.Bottom:e=b[a.PopupAnchorPoint.LeftTop]}break;case a.PopupDirection.Right:switch(d){case a.PopupDirection.Top:e=b[a.PopupAnchorPoint.RightBottom];break;case a.PopupDirection.Bottom:e=b[a.PopupAnchorPoint.RightTop]}}return e},b.prototype.primaryDirection=function(b){var c;switch(b){case a.PopupAnchorPoint.BottomLeft:case a.PopupAnchorPoint.BottomRight:case a.PopupAnchorPoint.TopRightInwards:c=a.PopupDirection.Bottom;break;case a.PopupAnchorPoint.LeftTop:case a.PopupAnchorPoint.LeftBottom:c=a.PopupDirection.Left;break;case a.PopupAnchorPoint.TopLeft:case a.PopupAnchorPoint.TopRight:c=a.PopupDirection.Top;break;case a.PopupAnchorPoint.RightBottom:case a.PopupAnchorPoint.RightTop:c=a.PopupDirection.Right}return c},b.prototype.verticalDirection=function(b){var c;switch(b){case a.PopupAnchorPoint.BottomLeft:case a.PopupAnchorPoint.BottomRight:case a.PopupAnchorPoint.TopRightInwards:case a.PopupAnchorPoint.LeftTop:case a.PopupAnchorPoint.RightBottom:c=a.PopupDirection.Bottom;break;case a.PopupAnchorPoint.TopLeft:case a.PopupAnchorPoint.TopRight:case a.PopupAnchorPoint.LeftBottom:case a.PopupAnchorPoint.RightTop:c=a.PopupDirection.Top}return c},b.prototype.horizontalDirection=function(b){var c;switch(b){case a.PopupAnchorPoint.BottomLeft:case a.PopupAnchorPoint.TopLeft:case a.PopupAnchorPoint.RightBottom:case a.PopupAnchorPoint.RightTop:c=a.PopupDirection.Right;break;case a.PopupAnchorPoint.BottomRight:case a.PopupAnchorPoint.TopRight:case a.PopupAnchorPoint.TopRightInwards:case a.PopupAnchorPoint.LeftBottom:case a.PopupAnchorPoint.LeftTop:c=a.PopupDirection.Left}return c},b.prototype.maxVerticalSpace=function(b,c,d){var e=a.PopupDirection.Bottom,f=this.verticalDirection(d),g=b.reduce(function(a,b){return b.overflowTop<a.overflowTop?b:a},b[0]),h=c.reduce(function(a,b){return b.overflowBottom<a.overflowBottom?b:a},c[0]);return(f===a.PopupDirection.Top&&g.overflowTop===h.overflowBottom||g.overflowTop<h.overflowBottom)&&(e=a.PopupDirection.Top),e},b.prototype.maxHorizontalSpace=function(b,c,d){var e=a.PopupDirection.Left,f=this.horizontalDirection(d),g=b.reduce(function(a,b){return b.overflowLeft<a.overflowLeft?b:a},b[0]),h=c.reduce(function(a,b){return b.overflowRight<a.overflowRight?b:a},c[0]);return(f===a.PopupDirection.Right&&h.overflowRight===g.overflowLeft||h.overflowRight<g.overflowLeft)&&(e=a.PopupDirection.Right),e},b}();a.PopupPositionManager=b}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b=function(){function a(a,b,c,d){this._left=a,this._top=b,this._width=c,this._height=d,this._right=this._left+this._width,this._bottom=this._top+this._height}return Object.defineProperty(a.prototype,"left",{get:function(){return this._left},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"top",{get:function(){return this._top},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"right",{get:function(){return this._right},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"bottom",{get:function(){return this._bottom},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(a,"empty",{get:function(){return a._empty},enumerable:!0,configurable:!0}),a.fromElem=function(b,c){var d=c?c:$,e=d(b),f=e.offset()||{left:0,top:0},g=b.getBoundingClientRect();return new a(f.left,f.top,g.width||0,g.height||0)},a._empty=new a(0,0,0,0),a}();a.Rectangle=b}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){b.POPUP_CLASS_CONTAINER="ionweb-popup-container";var c;!function(a){a[a.TimerAnchorFollower=1]="TimerAnchorFollower",a[a.MutationAttributeState=2]="MutationAttributeState",a[a.WindowResize=3]="WindowResize"}(c=b.UpdatePositionReason||(b.UpdatePositionReason={}));var d=function(){function d(d,e){var f=this;this._updatePositionHandlerId=null,this._lastValidSize=null,this._isShown=!0,this._automaticallyUpdatePosition=!0,this._automaticallyClose=!0,this._automaticallyCloseOnAnchorBoundsChange=!1,this._matchAnchorWidth=!1,this._anchorPoint=b.PopupAnchorPoint.BottomRight,this._showAnchorPointArrow=!1,this._arrowClass="",this._arrowSize={width:12,height:12},this._baseZIndex=b.ZINDEX_POPUP_BASE,this._isShownChanged=new a.Event,this._isShown=!1,this._popupElement=d,this._arrowElement=$("<div></div>").get(0),this._jq=e?e:$,this._popupPosition={left:0,top:0},this._arrowSize={width:12,height:12},this._arrowClass="";var g=this._jq(this._popupElement),h=this._jq(this._arrowElement);this._baseZIndex=parseInt(d.style.zIndex,10)||parseInt(g.css("z-index"),10)||b.ZINDEX_POPUP_BASE,g.css({position:"fixed",display:"none"}),h.css({position:"fixed",display:"none"});var i;"undefined"!=typeof MutationObserver&&(this._observer=new MutationObserver(function(a,b){if(!f.suspendAutoposition){var e=!a.filter(function(a){return"style"!==a.attributeName}).length;(!e||e&&"none"!==d.style.display&&i!==d.style.cssText)&&(i=d.style.cssText,f.updatePopupPosition(c.MutationAttributeState),b.takeRecords())}})),this._debounceUpdatePosition=a.debounce(function(){f.updatePopupPosition()},500,!1),this._onWindowResize=function(){f.updatePopupPosition(c.WindowResize)}.bind(this)}return d.prototype.zIndex=function(a){for(var c,d=this._jq(a),e=Math.max(this._baseZIndex,b.ZINDEX_POPUP_BASE);d.length&&d[0]!==document;){if(c=d.css("position"),"absolute"===c||"relative"===c||"fixed"===c){var f=parseInt(d.css("zIndex"),10);isNaN(f)||(e=Math.max(e,f))}d=d.parent()}return e},d.prototype.areRectsEquals=function(a,b){return Math.abs(a.bottom-b.bottom)<1&&Math.abs(a.height-b.height)<1&&Math.abs(a.left-b.left)<1&&Math.abs(a.right-b.right)<1&&Math.abs(a.top-b.top)<1&&Math.abs(a.width-b.width)<1},d.prototype.isSizeSame=function(a,b){return a.width===b.width&&a.height===b.height},d.prototype.updatePopupPosition=function(a){if(this._popupElement&&this.isShown&&this._anchorElement){if((!this.skipAnchorVisibilityCheck||!this.skipAnchorVisibilityCheck())&&this.isShown&&null==this._anchorElement.offsetParent)return void(this.isShown=!1);var e=this._jq(this._popupElement),f=this._jq(this._arrowElement),g=b.Rectangle.fromElem(this._anchorElement,this._jq);if(this._anchorPoint===b.PopupAnchorPoint.PositionProvided){if(!this._popupPosition)throw Error(b.Strings.Err_PopUp_Bad_PopupPosition_ForAnchorPointPositionProvided);var h=d.translatePopupPositionToAnchorBox(g,this._popupPosition,this._arrowSize);g=new b.Rectangle(h.left,h.top,0,0)}if(this._lastAnchorBox){var i=this.areRectsEquals(this._lastAnchorBox,g);if(a===c.TimerAnchorFollower&&i)return;if(!i&&this._automaticallyCloseOnAnchorBoundsChange&&this._automaticallyClose)return void(this.isShown=!1)}if(this._lastAnchorBox=g,a===c.TimerAnchorFollower&&(f.hide(),e.hide()),a===c.WindowResize&&(e.css("visibility","hidden"),f.css("visibility","hidden")),a&&(a===c.TimerAnchorFollower||a===c.WindowResize))return void this._debounceUpdatePosition();e.css({display:"",visibility:""}),this._showAnchorPointArrow&&f.css({display:"",visibility:""});var j=parseInt(e.css("min-width"),10);this._matchAnchorWidth&&j!==g.width?e.css("min-width",g.width):this._matchAnchorWidth||0===j||e.css("min-width","");var k=this.getPopupSize(this._popupElement);if(k){if(a===c.TimerAnchorFollower&&this._lastPopupSize&&this.isSizeSame(this._lastPopupSize,k))return;this._lastPopupSize=k;var l=b.Rectangle.fromElem(window.document.body,this._jq),m=void 0;m=this.showFullScreen?d.popupPositionManager.fullScreenOffset(k,l):d.popupPositionManager.evaluateOffset(k,g,l,this._anchorPoint,this._showAnchorPointArrow&&this._arrowSize),this._showAnchorPointArrow&&(f.offset(m.arrowOffset),m.arrowClass!==this._arrowClass&&(f.removeClass(this._arrowClass).addClass(m.arrowClass),this._arrowClass=m.arrowClass)),e.offset(m.popupOffset),e.offset(m.popupOffset);var n=e.css(["max-width","max-height"]),o=parseInt(n["max-width"],10),p=parseInt(n["max-height"],10);m.maxWidth>0&&o!==m.maxWidth&&(n["max-width"]=m.maxWidth),m.maxHeight>0&&p!==m.maxHeight&&(n["max-height"]=m.maxHeight),e.css(n)}}},Object.defineProperty(d.prototype,"anchorPoint",{get:function(){return this._anchorPoint},set:function(a){this._anchorPoint!==a&&(this._anchorPoint=a,this.updatePopupPosition())},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"position",{get:function(){return this._popupPosition},set:function(a){this._popupPosition!==a&&(this._popupPosition=a,this.updatePopupPosition())},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"showAnchorPointArrow",{get:function(){return this._showAnchorPointArrow},set:function(a){if(this._showAnchorPointArrow!==a){this._showAnchorPointArrow=a;var b=this._jq(this._arrowElement);this._showAnchorPointArrow&&this._isShown?b.insertBefore(this._jq(this._popupElement)):b.remove(),this.updatePopupPosition()}},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"anchor",{get:function(){return this._anchorElement},set:function(a){if(this._anchorElement!==a){if(this._anchorElement=a,this._anchorElement){var b=this._jq(this._popupElement),c=this._jq(this._arrowElement),d=this.zIndex(this._anchorElement)+1;b.css("zIndex",d),c.css("zIndex",d),this.updatePopupPosition()}this.syncHandlers()}},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"automaticallyClose",{get:function(){return this._automaticallyClose},set:function(a){this._automaticallyClose!==a&&(this._automaticallyClose=a,this.syncHandlers())},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"matchAnchorWidth",{get:function(){return this._matchAnchorWidth},set:function(a){this._matchAnchorWidth=a},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"automaticallyUpdatePosition",{get:function(){return this._automaticallyUpdatePosition},set:function(a){this._automaticallyUpdatePosition!==a&&(this._automaticallyUpdatePosition=a,this.syncHandlers())},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"automaticallyCloseOnAnchorBoundsChange",{get:function(){return this._automaticallyCloseOnAnchorBoundsChange},set:function(a){this._automaticallyCloseOnAnchorBoundsChange=a},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isShown",{get:function(){return this._isShown},set:function(a){if(a=a||!1,this._isShown!==a){this._isShown=a;var b=this._jq(this._popupElement),c=this._jq(this._arrowElement);if(this._isShown)this._showAnchorPointArrow&&c.insertBefore(b),this.updatePopupPosition(),d.openPopups.push(this);else{b.hide(),this._showAnchorPointArrow&&c.remove();var e=d.openPopups.indexOf(this);e>=0&&d.openPopups.splice(e,1)}this.syncHandlers(),this._isShownChanged.raise(this,null)}},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isShownChanged",{get:function(){return this._isShownChanged},enumerable:!0,configurable:!0}),d.translatePopupPositionToAnchorBox=function(a,b,c){var d={top:b.top+a.top,left:b.left+a.left};return b.left<0&&(d.left=a.left),b.top<0&&(d.top=a.top),d.left>a.right&&(d.left=a.right),d.top>a.bottom&&(d.top=a.bottom),d},d.prototype.attachObservers=function(){this._observer&&this._popupElement&&this._anchorElement&&(this._observer.observe(this._popupElement,{subtree:!0,attributes:!0,characterData:!0,childList:!0}),this._observer.observe(this._anchorElement,{attributes:!0,characterData:!0,childList:!0}))},d.prototype.detachObservers=function(){this._observer&&this._observer.disconnect()},d.prototype.detachUpdatePositionHandler=function(){null!=this._updatePositionHandlerId&&(window.clearInterval(this._updatePositionHandlerId),this._updatePositionHandlerId=null),window.removeEventListener("resize",this._onWindowResize)},d.prototype.attachUpdatePositionHandler=function(){var a=this;this._updatePositionHandlerId=window.setInterval(function(){return a.updatePopupPosition(c.TimerAnchorFollower)},150),window.addEventListener("resize",this._onWindowResize)},d.prototype.syncHandlers=function(){this.detachUpdatePositionHandler(),this.detachObservers(),this._isShown&&(this._automaticallyUpdatePosition&&this.attachUpdatePositionHandler(),this.automaticallyClose&&this.attachAutoCloseHandler(),this.attachObservers())},d.prototype.attachAutoCloseHandler=function(){var a=this;b.popupClickHandler||(b.popupClickHandler=function(c,e){var f=d.openPopups.filter(function(a){return a.automaticallyClose}),g=!e&&a._jq(c.target).parents("."+b.POPUP_CLASS_CONTAINER).length>0,h=!1;if(f.length&&(!g||e)){var i=!0;f.forEach(function(d){var f=e||d.anchorPoint===b.PopupAnchorPoint.PositionProvided||!d.anchor||0===a._jq(c.target).closest(d.anchor).length;f&&d.isShown&&(d.isShown=!1,h=!0),i=i&&!d.isShown}),i&&(b.popupClickHandler=null)}return h})},d.prototype.getPopupSize=function(a){var b=window.getComputedStyle(a),c={maxWidth:b.maxWidth,maxHeight:b.maxHeight};a.style.maxWidth="",a.style.maxHeight="";var d=a.getBoundingClientRect(),e={width:d.width||0,height:d.height||0};return a.style.maxWidth=c.maxWidth,a.style.maxHeight=c.maxHeight,e.width>0&&e.height>0?this._lastValidSize=e:e=this._lastValidSize,e},d.openPopups=[],d.popupPositionManager=new b.PopupPositionManager,d}();b.Popup=d}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b=function(){function a(){}return a.prototype.setAnchor=function(a){this.anchor=a,this.tryInitPopup()},a.prototype.setPopup=function(a){this.popup=a,this.tryInitPopup()},a.prototype.tryInitPopup=function(){this.anchor&&this.popup&&(this.popup.anchor=this.anchor,this.showWhenAnchorCreated&&!this.popup.isShown&&(this.popup.isShown=this.showWhenAnchorCreated,this.showWhenAnchorCreated=!1))},a}();angular.module("ionwebTk").directive("ionwebPopupContainer",[function(){return{restrict:"AE",scope:!1,controller:b}}]);var c=function(){function b(a,b,c,d,e,f){this.scope=a,this.elem=b,this.attrs=c,this.ctrl=d,this.transcludeFn=e,this.$compile=f,this.unSubcribers=[],void 0===a.destroyOnHide&&(a.destroyOnHide=!0),void 0===a.automaticallyUpdatePosition&&(a.automaticallyUpdatePosition=!0),void 0===a.automaticallyClose&&(a.automaticallyClose=!0),a.isAlive=!a.destroyOnHide||a.visible}return b.prototype.registerWatch=function(){var a=this;this.unSubcribers.push(this.scope.$watch("visible",function(b){a.scope.isAlive=!a.scope.destroyOnHide||b,a.popup.isShown=b})),this.unSubcribers.push(this.scope.$watch("automaticallyUpdatePosition",function(b){a.popup.automaticallyUpdatePosition=b})),this.unSubcribers.push(this.scope.$watch("suspendAutoposition",function(b){a.popup.suspendAutoposition=b})),this.unSubcribers.push(this.scope.$watch("automaticallyClose",function(b){a.popup.automaticallyClose=b})),this.unSubcribers.push(this.scope.$watch("anchorPoint",function(b){a.popup.anchorPoint=a.convertPopupAnchorPoint(b)})),this.unSubcribers.push(this.scope.$watch("showAnchorPointArrow",function(b){a.popup.showAnchorPointArrow=b}))},b.prototype.unregisterWatches=function(){this.unSubcribers.forEach(function(a){return a()}),this.unSubcribers=[]},b.prototype.convertPopupAnchorPoint=function(b){var c=a.PopupAnchorPoint[b];return"undefined"!=typeof c&&null!==c||(c=a.PopupAnchorPoint.BottomRight),c},b.prototype.configurePopup=function(){var a=this;this.popup.skipAnchorVisibilityCheck=function(){return a.scope.skipAnchorVisibilityCheck},this.ctrl.setPopup(this.popup),this.popup.anchor?this.popup.isShown=this.scope.visible:this.ctrl.showWhenAnchorCreated=this.scope.visible,this.unSubcribers.push(this.popup.isShownChanged.add(function(){a.scope.$evalAsync(function(){a.scope.visible=a.popup.isShown})})),this.popup.automaticallyClose=this.scope.automaticallyClose,this.popup.matchAnchorWidth=this.scope.matchAnchorWidth,this.popup.suspendAutoposition=this.scope.suspendAutoposition},b}(),d=function(b){function c(a,c,d,e,f,g){var h=b.call(this,a,c,d,e,f,g)||this;return h.scope.$watch("visible",function(a){a?h.popup?h.popup.isShown=!0:h.popup=h.showPopup():h.hidePopup()}),h}return __extends(c,b),c.prototype.appendAllAttribute=function(b){for(var c=this.elem.get(0),d=c.attributes,e=b.get(0),f=0;f<d.length;f++){var g=d[f],h=g.name.replace(/-[a-z]/g,function(a,b,c,d){return a.charAt(1).toUpperCase()});this.scope.hasOwnProperty(h)||"ngIf"===h||e.attributes.setNamedItem(g.cloneNode())}e.classList.remove("ng-scope"),e.classList.remove("ng-isolate-scope"),e.classList.add("ionweb-popup-root"),e.classList.add(a.POPUP_CLASS_CONTAINER)},c.prototype.showPopup=function(){var b=this,c="<div></div>";this.containerElement=angular.element(c),this.appendAllAttribute(this.containerElement),this.containerScope=this.scope.$parent.$new(),this.containerElement=this.$compile(this.containerElement)(this.containerScope);var d=this.transcludeFn(this.containerScope,function(a,b){});this.containerElement.append(d);var e=new a.Popup(this.containerElement.get(0),angular.element);document.body.appendChild(this.containerElement.get(0)),this.ctrl.setPopup(e),e.anchor?e.isShown=this.scope.visible:this.ctrl.showWhenAnchorCreated=this.scope.visible;e.isShownChanged.add(function(){b.scope.$evalAsync(function(){b.scope.visible=e.isShown})});return e.automaticallyClose=this.scope.automaticallyClose,e.matchAnchorWidth=this.scope.matchAnchorWidth,e.automaticallyUpdatePosition=this.scope.automaticallyUpdatePosition,e.anchorPoint=this.convertPopupAnchorPoint(this.scope.anchorPoint),e.showAnchorPointArrow=this.scope.showAnchorPointArrow,e.skipAnchorVisibilityCheck=function(){return b.scope.skipAnchorVisibilityCheck},this.containerScope.$on("$destroy",function(){b.containerElement.remove(),b.popup.isShown=!1,b.popup=null}),this.containerScope.$on("hide",function(){b.hidePopup(!0)}),this.registerWatch(),e},c.prototype.hidePopup=function(a){var b=this;this.scope.destroyOnHide&&this.popup?(this.unregisterWatches(),this.scope.visible=!1,setTimeout(function(){b.containerScope&&b.containerScope.$destroy()})):(this.popup&&(this.popup.isShown=!1),a||this.containerScope&&this.containerScope.$broadcast("hide"))},c}(c),e=function(b){function c(c,d,e,f,g,h){var i=b.call(this,c,d,e,f,g,h)||this;i.elem.addClass("ionweb-popup-root");var j=angular.element("<div class='"+a.POPUP_CLASS_CONTAINER+"' ng-if='isAlive'></div>");return i.elem.append(j),j.append(g(c.$parent.$new(),function(){})),i.popup=new a.Popup(d.get(0),angular.element),i.configurePopup(),i.registerWatch(),c.$on("$destroy",function(){i.unregisterWatches(),i.popup.isShown=!1}),i}return __extends(c,b),c}(c);angular.module("ionwebTk").directive("ionwebPopup",["ionweb.popupService","$compile",function(a,b){var c=function(a,c,f,g,h){a.appendToBody===!1?new e(a,c,f,g,h,b):(c.addClass("append-to-body"),new d(a,c,f,g,h,b))};return{scope:{visible:"=?",automaticallyUpdatePosition:"=?",suspendAutoposition:"=?",automaticallyClose:"=?",anchorPoint:"=?",matchAnchorWidth:"=?",destroyOnHide:"=?",showAnchorPointArrow:"=?",appendToBody:"<?",skipAnchorVisibilityCheck:"=?"},require:"^ionwebPopupContainer",restrict:"EA",link:c,transclude:"true"}}]),angular.module("ionwebTk").directive("ionwebPopupAnchor",[function(){var a=function(a,b,c,d){d.setAnchor(b.get(0))};return{require:"^ionwebPopupContainer",restrict:"EA",link:a}}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){var c=function(){function c(a,b,c,d,e,f,g){this.compile=a,this.rootScope=b,this.document=c,this.templateRequest=d,this.templateCache=e,this.q=f,this.$q=g}return c.prototype.create=function(a,b,c,d){var e=this,f=this.templateCache.get(a);return f?this.q.when(this.createWithTemplate(f,b,c,d)):this.q.when(this.templateRequest(a).then(function(a){return e.createWithTemplate(a,b,c,d)}))},c.prototype.createPopup=function(a,b,c,d){var e=this,f=this.templateCache.get(a);return f?this.$q.when(this.createWithTemplate(f,b,c,d)):this.templateRequest(a).then(function(a){return e.createWithTemplate(a,b,c,d);
})},c.prototype.createWithTemplate=function(c,d,e,f){function g(a){j.isVisible=a,n.isShown=a}var h=this,i="<div class='ionweb-popup-root "+b.POPUP_CLASS_CONTAINER+"' ng-show='isVisible'></div>",j=this.rootScope.$new(!0);f=f||{},void 0===f.automaticallyUpdatePosition&&(f.automaticallyUpdatePosition=!0),void 0===f.automaticallyClose&&(f.automaticallyClose=!0),j.isVisible=!1;var k=this.compile(i)(j),l=e?this.compile(c)(e):angular.element(c);k.append(l),document.body.appendChild(k.get(0));var m=parseInt(l.get(0).style.zIndex,10)||parseInt(l.css("z-index"),10);isNaN(m)||0===m||(k.get(0).style.zIndex=String(m));var n=new b.Popup(k.get(0),angular.element);n.automaticallyClose=f.automaticallyClose,n.automaticallyUpdatePosition=f.automaticallyUpdatePosition,n.matchAnchorWidth=f.matchAnchorWidth,n.automaticallyCloseOnAnchorBoundsChange=f.automaticallyCloseOnAnchorBoundsChange,n.showFullScreen=f.showFullScreen,f.showFullScreen&&(n.automaticallyUpdatePosition=!1,n.automaticallyCloseOnAnchorBoundsChange=!1),n.anchor=d.get(0),f.hasOwnProperty("anchorPoint")&&(n.anchorPoint=f.anchorPoint),f.hasOwnProperty("position")&&(n.position=f.position),f.hasOwnProperty("showAnchorPointArrow")&&(n.showAnchorPointArrow=f.showAnchorPointArrow);var o=function(a,b){a.$evalAsync(b)},p=n.isShownChanged.add(function(){n.isShown||o(h.rootScope,function(){q.onClose.raise(q,null)})}),q={element:k,show:function(){o(j,function(){g(!0)})},hide:function(){o(j,function(){g(!1)})},destroy:function(){o(j,function(){g(!1),p(),$(l).remove(),$(k).remove(),j.$destroy()})},onClose:new a.Event};return q},c}();angular.module("ionwebTk").service("ionweb.popupService",["$compile","$rootScope","$document","$templateRequest","$templateCache","ionwebTk.q","$q",c])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a[a.Ok=0]="Ok",a[a.Cancel=1]="Cancel"}(b=a.DialogResult||(a.DialogResult={}));var c;!function(a){a[a.Small=0]="Small",a[a.Large=1]="Large",a[a.Auto=2]="Auto",a[a.Fixed=3]="Fixed"}(c=a.DialogSize||(a.DialogSize={}));var d;!function(a){a[a.MediumSmall=100]="MediumSmall",a[a.MediumLarge=101]="MediumLarge"}(d=a.DialogSizeInternal||(a.DialogSizeInternal={}));var e;!function(a){a[a.Info=0]="Info",a[a.Warning=1]="Warning",a[a.Danger=2]="Danger",a[a.Success=3]="Success"}(e=a.DialogSeverity||(a.DialogSeverity={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){var c=10,d=30,e=function(){function e(a,c,d,e,f,g,h,i,j){this.modalService=a,this.rootScope=c,this.$q=d,this.q=e,this.injector=f,this.windowService=g,this.environmentService=h,this.responsivenessService=i,this.toolkitConfigService=j,this.enableAnimations=!0,this.severityClasses=["info","warning","danger","success"],this.topLevelManager=new b.TopLevelWindowMananger(c,d)}return e.prototype.suspendRouteLock=function(){this.routeLockSuspended=!0},e.prototype.resumeRouteLock=function(){this.routeLockSuspended=!1},Object.defineProperty(e.prototype,"dialogClassManager",{get:function(){return this.topLevelManager.dialogClassManager},enumerable:!0,configurable:!0}),e.prototype._show=function(c,d,f){var g=this;if(this.suspended)return{dismiss:function(){},result:this.q.defer().promise,closed:this.$q.defer().promise,buttonClick:new a.Event};var h=function(a){if(m.xsScreenSize)return e.XS_SCREEN_MARGIN;switch(a.designSize.name){case"xs":case"s":case"m":return e.SMALL_MARGIN;default:return e.NORMAL_MARGIN}},i=function(){var b=g.toolkitConfigService.getFontSize(),c=g.windowService.innerWidth,d=g.windowService.innerHeight,e=a.ResizeObserverService.convertHtmlSizeToSizeInfo(c,d,b);m.maxDialogHeight=d,m.dialogTopBottomMargin=h(e),m.dialogTopBottomMargin.top>0&&!f&&(m.maxDialogHeight-=m.dialogTopBottomMargin.top),m.dialogTopBottomMargin.bottom>0&&!f&&(m.maxDialogHeight-=m.dialogTopBottomMargin.bottom)},j=a.throttle(function(){m.$evalAsync(function(){i()})},50),k=function(a){j()};this.windowService.addEventListener("resize",k);var l=this.createModalSettings(c,d),m=this.rootScope.$new();m.xsScreenSize=this.environmentService.isSmallScreen(),m.useCrossButtonOnSmallScreen=this.toolkitConfigService.dialog.useCrossButtonOnSmallScreen,m.isTouchDevice=this.environmentService.isTouchDevice(),m.contentScope=c.scope||this.rootScope.$new(!0),m.contentScopeCreated=!c.scope,m.contentTemplate=c.template,m.contentTemplateUrl=c.templateUrl,m.dialogText=c.textContent,m.draggableDialogOptions=c.draggableDialogOptions||{},m.size=null===c.size||void 0===c.size?a.DialogSize.Large:c.size,m.fixedSizeDialogOptions=c.fixedSizeDialogOptions||{},m.disableFullScreenMode=c.disableFullScreenMode||!1,m.enableFlexLayout=c.enableFlexLayout||!1,m.isFullscreen=m.xsScreenSize&&!m.disableFullScreenMode,m.modeless=f,m.enableCustomSpacing=c.enableCustomSpacing;var n=!m.isFullscreen&&!f&&m.draggableDialogOptions.draggable;l.size=this.dialogSizeToClass(m.size,n),i(),f&&!m.isFullscreen&&(m.draggableDialogOptions.draggable=!0,m.resizable=c.resizable),m.severity=this.severityClasses[c.severity||0],m.title=c.title,c.checkboxText&&(m.checkboxState={text:c.checkboxText,value:!1}),m.showCloseButton=c.canClose,m.buttons=c.buttons&&c.buttons.map(function(a){return"string"==typeof a?{title:a}:a}),m.captionButtons=c.captionButtons,l.scope=m;var o;f?o=this.topLevelManager.open(l,m.draggableDialogOptions.headerClass,c.dialogClassID):(l.windowTemplateUrl="toolkit/dialogs/dialogWindow.tpl.html",o=this.modalService.open(l));var p=this.createDialog(o,m,c);return m.handleButtonClick=function(a){var b=m.contentScope.$broadcast("buttonClick",a);b.defaultPrevented||o.close(a),p.buttonClick.raise(p,a)},m.checkboxState&&m.$watch("checkboxState.value",function(a){return p.checkboxState=a}),m.opts=c,f&&(m.$watch("opts.title",function(a){return m.title=a}),o instanceof b.ModelessInstance&&(p.bringToFront=function(){g.topLevelManager.bringToFront(o)})),m.$on("$destroy",function(){j&&(j.cancel(),j=null),g.windowService.removeEventListener("resize",k)}),p},e.prototype.show=function(a){return this._show(a,"toolkit/dialogs/dialogFrame.tpl.html")},e.prototype.showCustom=function(a){return this._show(a,"toolkit/dialogs/customDialogFrame.tpl.html")},e.prototype.showTopLevelWindow=function(a){return this._show(a,"toolkit/dialogs/customDialogFrame.tpl.html",!0)},e.prototype.showTopLevelDialog=function(a){return this._show(a,"toolkit/dialogs/dialogFrame.tpl.html",!0)},e.prototype.createDialog=function(b,c,d){var e=this,f={dismiss:b.dismiss.bind(b),result:this.q.when(b.result),closed:b.result.then(function(a){return{value:a,cancel:!1}},function(a){return{cancel:!0}}),buttonClick:new a.Event},g=this.rootScope.$on("$routeChangeStart",function(a,b,c){!e.routeLockSuspended&&c&&b.templateUrl!==c.templateUrl&&(d.canClose?f.dismiss():a.preventDefault())});return f.closed.finally(function(){c.$destroy(),g()}),f},e.prototype.dialogSizeToClass=function(b,c){var d="";switch(b){case a.DialogSize.Small:d="sm";break;case a.DialogSize.Auto:d=c?"auto-draggable":"auto";break;case a.DialogSize.Fixed:d=c?"fixed-draggable":"fixed";break;case a.DialogSizeInternal.MediumSmall:d="m-sm";break;case a.DialogSizeInternal.MediumLarge:d="m-lg";break;default:d="lg"}return d},e.prototype.createModalSettings=function(a,b){var c={};return c.templateUrl=b,c.keyboard=a.canClose,c.backdrop=!!a.canClose||"static",c},e.prototype.showStandardDialog=function(a,b,c,d,e){var f;if("string"==typeof a){var g=this.rootScope.$new();g.dialogText=a,f={canClose:!1,templateUrl:"toolkit/dialogs/standardDialog.tpl.html",scope:g}}else f=a;return f.buttons=c.map(function(a,b){return{title:a,role:b===d||d===-1?"primary":"secondary"}}),f.title=b,f.checkboxText=e,this.show(f)},e.prototype.showConfirmationDialog=function(b,c,d){return this.showStandardDialog(b,c,[d||a.toolkit.Strings.Btn_Ok],0)},e.prototype.showQuestionDialog=function(b,c,d,e){return this.showStandardDialog(b,c,[d||a.toolkit.Strings.Btn_Ok,e||a.toolkit.Strings.Btn_Cancel],0)},e.prototype.showOptionDialog=function(a,b,c){return this.showStandardDialog(a,c,b,-1)},e.prototype.resetPreferenceQuestionState=function(a){this.getPreferenceService().deleteKey(e.PREF_PREFIX+a)},e.prototype.getPreferenceService=function(){return this.injector.get("ionweb.preferenceService")},e.prototype.showPreferenceQuestionDialog=function(b,c,d){var f=this;if(this.getPreferenceService().getValue(e.PREF_PREFIX+c))return{dismiss:function(){},result:this.q.when(!0),closed:this.$q.when({value:!0,cancel:!1}),buttonClick:new a.Event};var g=this.showStandardDialog(b,d,[a.toolkit.Strings.Btn_Ok,a.toolkit.Strings.Btn_Cancel],0,a.toolkit.Strings.Msg_DoNot_AskAgain),h=function(a){return 0===a&&g.checkboxState&&f.getPreferenceService().setValue(e.PREF_PREFIX+c,!0),0===a},i={dismiss:g.dismiss,result:g.result.then(function(a){return h(a)},function(){return!1}),closed:g.closed.then(function(a){return{value:!a.cancel&&h(a.value),cancel:a.cancel}}),buttonClick:new a.Event};return g.buttonClick.add(function(a,b){i.buttonClick.raise(i,b)}),i},e.prototype.setPreferenceValue=function(a,b){this.getPreferenceService().setValue(e.PREF_PREFIX+a,b)},e.prototype.getPreferenceValue=function(a){return this.getPreferenceService().getValue(e.PREF_PREFIX+a)},e.prototype.suspend=function(){this.suspended=!0},e.PREF_PREFIX="dialogClasses.",e.XS_SCREEN_MARGIN={top:0,bottom:0},e.SMALL_MARGIN={top:c,bottom:c},e.NORMAL_MARGIN={top:d,bottom:d},e.ContentReadyEventName="content-ready",e.ContentLoadFailedEventName="content-load-failed",e}();b.DialogService=e,angular.module("ionwebTk").service("ionweb.dialogService",["$uibModal","$rootScope","$q","ionwebTk.q","$injector","$window","ionwebTk.environmentService","ionweb.responsivenessService","ionwebTk.toolkitConfigService",function(a,b,c,d,f,g,h,i,j){return new e(a,b,c,d,f,g,h,i,j)}]),angular.module("ionwebTk").controller("ionweb.dialogFrameController",["$scope",function(a){a.buttons&&(a.buttonStates=a.buttons.map(function(a){return{enabled:!0}}))}]),angular.module("ionwebTk").directive("ionwebDialogContent",["$templateCache","$templateRequest","$compile","ionwebTk.q",function(b,c,d,f){var g=null,h=function(h,i){var j=f.defer();if(h.contentTemplate)j.resolve(h.contentTemplate);else if(h.contentTemplateUrl){var k=b.get(h.contentTemplateUrl);k?j.resolve(k):c(h.contentTemplateUrl).then(function(a){return j.resolve(a)},function(a){return j.reject(a)})}else{if(!h.dialogText)throw j.reject(a.toolkit.Strings.Err_DefineTemplate_Or_TemplateUrl_CreateDialog),new Error(a.toolkit.Strings.Err_DefineTemplate_Or_TemplateUrl_CreateDialog);h.contentScope=h,j.resolve(b.get("toolkit/dialogs/standardDialog.tpl.html"))}j.promise.then(function(a){h.$evalAsync(function(){g=h.contentScope,g.cancel=h.$dismiss,g.complete=h.$close,g.buttonStates=h.buttonStates,i.append(d(a)(g)),h.$emit(e.ContentReadyEventName)})}).catch(function(){h.$emit(e.ContentLoadFailedEventName)}),h.$on("$destroy",function(){h.contentScopeCreated&&h!==g&&g.$destroy()})};return{link:h,scope:!0}}]),angular.module("ionwebTk").directive("draggableDialog",[function(){var b=function(b,c){var d=$(c).find(".modal-dialog");b.draggableDialogOptions=b.$parent.draggableDialogOptions,b.dialogSize=b.$parent.size,b.fixedSizeDialogOptions=b.$parent.fixedSizeDialogOptions,b.isFullscreen=b.$parent.isFullscreen;var f=function(a,c,d,e,f){if(b.isFullscreen)return{left:0,top:0};var g={left:a.left,top:a.top},h=g.left+c-e;return h>0&&(g.left=g.left-h),h=g.top+d-f,h>0&&(g.top=g.top-h),g.left<0&&(g.left=0),g.top<0&&(g.top=0),g},g=function(a,b){var c=a.clone();c.css({top:0,left:0,visibility:"hidden"}),b.append(c);var d=c.get(0),e=getComputedStyle(d,null),f=parseFloat(e.getPropertyValue("width")),g=parseFloat(e.getPropertyValue("height"));return isNaN(f)&&(f=d.getBoundingClientRect().width),isNaN(g)&&(g=d.getBoundingClientRect().height),c.remove(),{width:f,height:g}},h=function(a,b){a.css({width:b.width+"px",height:b.height+"px"})},i=function(c){b.dialogSize===a.DialogSize.Fixed&&b.fixedSizeDialogOptions?c.css({width:b.fixedSizeDialogOptions.width||"",height:b.fixedSizeDialogOptions.height||""}):c.css({width:"",height:""})},j=function(a){a&&a.disconnect()},k=function(a,b,c){var d=null;return"undefined"!=typeof MutationObserver&&(d=new MutationObserver(c),d.observe(a,b)),d},l=function(a){b.draggableDialogOptions.onDialogPositionChanged&&b.draggableDialogOptions.onDialogPositionChanged(a)},m=function(m){var n=null,o=$("body"),p=$(window),q=b.draggableDialogOptions.position,r=null,s=!1,t=!1,u=!1,v={top:0,left:0},w=0,x=null,y={subtree:!0,attributes:!0,characterData:!0,childList:!0},z=-1,A=-1,B=function(){u=!0,n=$(c).find("."+(m||"modal-header")),n&&(n.on("mousedown",M),n.on("mouseup",K),n.on("mouseleave",L)),I(),F()},C=b.$parent.$on(e.ContentReadyEventName,B),D=b.$parent.$on(e.ContentLoadFailedEventName,B),E=function(a,c,e){if(a&&!b.isFullscreen){var g=d.offset(),h=f(a,c.width,c.height,e.width,e.height);h.left===g.left&&h.top===g.top||d.offset(h)}},F=function(){var a=g(d,o),b=o.get(0).getBoundingClientRect();if(z!==a.width||A!==a.height){z=a.width,A=a.height;var c=q||{top:d.offset().top,left:(b.width-a.width)/2};h(d,a),E(c,a,b),i(d)}},G=a.throttle(function(){!s&&u&&F()},500),H=function(a){var b=g(d,o);h(d,b),0!==w&&(clearTimeout(w),w=0),w=setTimeout(function(a){var b=o.get(0).getBoundingClientRect(),c=q||{top:d.offset().top,left:(b.width-a.width)/2};E(c,a,b),i(d)},100,b)},I=function(){d.css("transform","none"),p.on("resize",H),x=k(d.get(0),y,function(a,b){G(),b.takeRecords()})},J=function(a){s&&(d.offset({top:a.clientY-v.top,left:a.clientX-v.left}),t=!0)},K=function(a){if(s)if(o.off("mousemove",J),s=!1,t){var b=o.get(0).getBoundingClientRect();t=!1,q=d.offset(),E(q,r,b),i(d),l(q)}else i(d)},L=function(a){var b=o.get(0).getBoundingClientRect(),c=a.pageX<=0||a.pageX>=b.width||a.pageY<=0||a.pageY>=b.height;s&&c&&(o.off("mousemove",J),s=!1,t?(t=!1,q=d.offset(),E(q,r,b),i(d),l(q)):i(d))},M=function(a){o.on("mousemove",J),s=!0;var b=d.offset();v={top:a.clientY-b.top,left:a.clientX-b.left},r=g(d,o),h(d,r)},N=function(a){x&&(j(x),x=null),G&&(G.cancel(),G=null),0!==w&&(clearTimeout(w),w=0),o.off("mousemove",J),p.off("resize",H),n&&(n.off("mousedown",M),n.off("mouseup",K),n.off("mouseleave",L)),C&&(C(),C=null),D&&(D(),D=null)};$(c).on("$destroy",N),b.$parent.$on("$destroy",function(){C&&(C(),C=null),D&&(D(),D=null)})};b.draggableDialogOptions.draggable&&!b.isFullscreen&&(d.addClass("modal-draggable"),m(b.draggableDialogOptions.headerClass))};return{restrict:"A",link:b,scope:!1}}])}(b=a.dialogs||(a.dialogs={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b=function(){function a(a){this.options=a,this.init()}return a.prototype.init=function(){this.options.rootElement.resizable({autoHide:!this.options.isTouchDevice&&this.options.autoHideResizeHandles!==!1,containment:this.options.containment||angular.element(document.body),handles:"e, w, s, se, sw",minHeight:50,minWidth:100,start:this.onResizeStart.bind(this)})},a.prototype.dispose=function(){this.options.rootElement.resizable("destroy")},a.prototype.onResizeStart=function(){this.options.dialogElement.hasClass("resizable-dialog-child")||this.options.dialogElement.addClass("resizable-dialog-child")},a}();a.ResizableDialogManager=b}(b=a.dialogs||(a.dialogs={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){var c=35,d=35,e=function(){function a(a,b){if(!a)throw Error("Please provide a valid key");this._key=a,b&&this.initDialogDefaults(b),this._openDialogs=[]}return a.prototype.initDialogDefaults=function(a){this._stepX=a.stepX,this._stepY=a.stepY},a.prototype.addModalLessDialog=function(a){this._openDialogs.push(a)},a.prototype.removeModalLessDialog=function(a){this._openDialogs.splice(this._openDialogs.indexOf(a))},Object.defineProperty(a.prototype,"openDialogs",{get:function(){return this._openDialogs.slice()},enumerable:!0,configurable:!0}),a.prototype.getNextOpeningPosition=function(a){var b=this.getRelativeDialog(a);if(b){var c=angular.extend({},b.position);return c.left+=this.stepX,c.top+=this.stepY,c}},Object.defineProperty(a.prototype,"stepX",{get:function(){return this._stepX||c},set:function(a){this._stepX=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"stepY",{get:function(){return this._stepY||d},set:function(a){this._stepY=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"key",{get:function(){return this._key},enumerable:!0,configurable:!0}),a}();b.DialogClass=e;var f=function(){function a(){this._dialogClassMap={}}return a.prototype.defineClass=function(a,b){var c=this._dialogClassMap[a];if(c)throw Error("Dialog class already defined");this._dialogClassMap[a]=new e(a,b)},a.prototype.getClass=function(a){return this._dialogClassMap[a]},a.prototype.closeAllDialogs=function(a){var b=this._dialogClassMap[a];b.openDialogs.forEach(function(a){a.dismiss()})},a}(),g=function(){function a(a,b){this.closeHander=b,this.deferred=a.defer(),this.opened=a.when(null)}return a.prototype._close=function(){this.isOpen=!1},a.prototype.closeAnimationEnded=function(){this.closeHander()},a.prototype.onDialogPositionChanged=function(a){var b=this._scope.draggableDialogOptions;this._position.left=a.left,this._position.top=a.top,b.onDialogPositionChanged&&b.onDialogPositionChanged(a)},a.prototype.close=function(a){this._close(),this.deferred.resolve(a)},a.prototype.dismiss=function(a){this._close(),this.deferred.reject(a)},Object.defineProperty(a.prototype,"result",{get:function(){return this.deferred.promise},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"scope",{get:function(){return this._scope},set:function(a){this._scope=a,this._position=angular.extend({},a.draggableDialogOptions.position)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"position",{get:function(){return this._position},set:function(a){this._position=a},enumerable:!0,configurable:!0}),a}();b.ModelessInstance=g;var h=function(){function b(a,b){this.$rootScope=a,this.$q=b,this.topLevels=[],this.zIndexStack=[],this._dialogClassManager=new f}return Object.defineProperty(b.prototype,"dialogClassManager",{get:function(){return this._dialogClassManager},enumerable:!0,configurable:!0}),b.prototype.updateZIndexes=function(){this.zIndexStack.forEach(function(a,b){a.zIndex=b+1})},b.prototype.onClosed=function(b){b.isOpen=!1,a.spliceAll(this.topLevels,function(a){return a===b}),a.spliceAll(this.zIndexStack,function(a){return a===b}),b.dialogClass&&b.dialogClass.removeModalLessDialog(b),this.updateZIndexes()},b.prototype.open=function(a,b,c){var d=this,e=new g(this.$q,function(){return d.onClosed(e)});if(c){var f=this._dialogClassManager.getClass(c);if(!f)throw"Provided dialog class not defined";f.getRelativeDialog=function(a){var b=d.zIndexStack.filter(function(a){return a.dialogClass===f});return b[b.indexOf(a)-1]},e.dialogClass=f,f.addModalLessDialog(e)}return this.zIndexStack.push(e),this.$rootScope.$evalAsync(function(){d.topLevels.push(e),d.updateZIndexes()}),e.templateUrl=a.templateUrl,e.scope=a.scope,e.headerClass=b,"string"==typeof a.size&&(e.class="modal-"+a.size),e.scope.$dismiss=function(a){e.dismiss(a)},e.scope.$close=function(a){e.close(a)},e},b.prototype.onSelected=function(a){this.bringToFront(a)},b.prototype.bringToFront=function(b){this.zIndexStack[this.zIndexStack.length-1]!==b&&(a.spliceAll(this.zIndexStack,function(a){return a===b}),this.zIndexStack.push(b),this.updateZIndexes())},b}();b.TopLevelWindowMananger=h,angular.module("ionwebTk").controller("ionweb.topLevelController",["$scope","ionweb.dialogService",function(a,b){a.topLevels=b.topLevelManager.topLevels,a.onMouseDown=function(a){b.topLevelManager.onSelected(a)}}]),angular.module("ionwebTk").directive("ionwebTopLevel",["$compile","$templateCache","$timeout","ionweb.dialogService",function(a,c,d,e){var f=40,g=function(d,g){var h,i,j=d.ionwebTopLevel,k=j.scope.xsScreenSize,l=j.scope.maxDialogHeight,m=j.scope.draggableDialogOptions,n=j.dialogClass,o=function(){if(k)g.css({top:0,left:0,"max-height":l});else{if(a=m.position,!a&&n)var a=n.getNextOpeningPosition(j);var b,c;if(a){b=a.top,c=a.left;var d={width:$(window).width(),height:$(window).height()};if(n&&(b+Math.ceil(g.outerHeight())>d.height||c+Math.ceil(g.outerWidth())>d.width)){var e=Math.ceil(g.outerWidth()),h=n.getRelativeDialog(j);c=h.position.left,h.position.top===f&&(c=0),b=f}}else{b=f;var i=$("body").width(),e=Math.ceil(g.outerWidth());c=(i-e)/2}j.position={top:b,left:c},g.css({top:b,left:c,"max-height":l-f})}},p=function(){k||(g.draggable({handle:"."+(j.headerClass||"modal-header"),scroll:!0,scrollAxis:"y"}),g.on("dragstop",function(a,b){d.$evalAsync(function(){var a={};a.left=b.position.left>0&&b.position.left||0,a.top=b.position.top>0&&b.position.top||0;var c=g.outerWidth();a.left+c>window.innerWidth&&(a.left=window.innerWidth-c);var d=g.outerHeight();a.top+d>window.innerHeight&&(a.top=window.innerHeight-d),g.css("top",a.top).css("left",a.left),j.onDialogPositionChanged({left:a.left,top:a.top})})}))};g.addClass(j.class);var q=function(){return!k&&e.enableAnimations!==!1},r=j.scope.$on(b.DialogService.ContentReadyEventName,function(){h&&(g.css("visibility","hidden"),g.append(h),p(),o(),q()&&g.addClass("dialog-sandra-animation-open"),g.css("visibility",""))}),s=j.scope.$on(b.DialogService.ContentLoadFailedEventName,function(){h&&(g.css("visibility","hidden"),g.append(h),o(),g.css("visibility",""))});o();var t=c.get(j.templateUrl);h=a(t)(j.scope),j.scope.resizable&&!k&&(i=new b.ResizableDialogManager({rootElement:g,dialogElement:h,isTouchDevice:j.scope.isTouchDevice})),d.$watch("ionwebTopLevel.zIndex",function(){g.css("z-index",j.zIndex)}),q()&&g.get(0).addEventListener("animationend",function(a){"anim-open"===a.animationName?g.removeClass("dialog-sandra-animation-open"):(g.css("visibility","hidden"),d.$evalAsync(function(){return j.closeAnimationEnded()}))}),d.$watch("ionwebTopLevel.isOpen",function(a){a===!1&&q()?g.addClass("dialog-sandra-animation-close"):0!=a||q()||d.$evalAsync(function(){return j.closeAnimationEnded()})}),d.$watch("ionwebTopLevel.scope.maxDialogHeight",function(a,b){a!==b&&(l=a,o())}),j.scope.$on("$destroy",function(){r(),s(),i&&i.dispose()})};return{link:g,scope:{ionwebTopLevel:"="}}}])}(b=a.dialogs||(a.dialogs={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){var c;angular.module("ionwebTk").directive("ionTooltip",["$compile","$templateCache","ionweb.popupService","$q",function(d,e,f,g){function h(b){switch(b){case a.DialogSeverity.Danger:return"tip-error";case a.DialogSeverity.Warning:return"tip-warning";default:return"tip-info"}}return{restrict:"A",scope:{options:"=ionTooltip"},link:function(a,d){a.$watch("options",function(){if(c&&c.destroy(),a.options){var e,i={automaticallyUpdatePosition:!0,automaticallyClose:a.options.autoClose!==!1,showAnchorPointArrow:!0,anchorPoint:b.PopupAnchorPoint.BottomLeft};if(a.options.contentTemplateUrl)e=f.createPopup(a.options.contentTemplateUrl,d,a.options.scope,i);else if(a.options.contentTemplate){var j=a.options.contentTemplate;j&&"<"!==j.charAt(0)&&(j="<div>"+j+"</div>"),e=g.when(f.createWithTemplate(j,d,a.options.scope,i))}e&&e.then(function(b){if(c&&c.destroy(),c=b,b){d.off("hover"),a.options.showImmediately?b.show():d.hover(function(){b.show()},function(){b.hide()});var e=b.element;e.addClass("tooltip-popup"),e.children()&&$(e.children()[0]).addClass("tooltip-popup-content"),e.addClass(h(a.options.severity))}})}}),a.$on("$destroy",function(){d&&d.off("hover"),c&&c.destroy()})}}}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a[a.General=0]="General",a[a.Divider=1]="Divider",a[a.Custom=2]="Custom",a[a.Submenu=3]="Submenu",a[a.Checkbox=4]="Checkbox"}(b=a.MenuItemType||(a.MenuItemType={}));var c;!function(a){a[a.BottomLeft=0]="BottomLeft",a[a.BottomRight=1]="BottomRight",a[a.TopLeft=2]="TopLeft",a[a.TopRight=3]="TopRight",a[a.LeftBottom=4]="LeftBottom",a[a.LeftTop=5]="LeftTop",a[a.RightBottom=6]="RightBottom",a[a.RightTop=7]="RightTop"}(c=a.ContextMenuAnchorPoint||(a.ContextMenuAnchorPoint={}))}(ionweb||(ionweb={}));var ionweb;!function(a){a.LONG_TOUCH_DELAY=750,a.DOUBLE_TOUCH_DELAY=300;var b=300,c=function(){function c(a,b,c,d,e,f,g,h,i){this.$window=a,this.$rootScope=b,this.longTouchService=c,this.popupService=d,this.$compile=e,this.$templateCache=f,this.$q=g,this.$timeout=h,this.environment=i,this.submenuTimeout=0,this.registered=[],this.openSubMenus=[],this.scopesToDestroy=[],this.openSubMenus=[],this.initBrowserContextMenu(!1),this.isTouchAvailable=i.isTouchDevice(),$(document).on("contextmenu",".dropdown-context",function(a){a.preventDefault()})}return c.prototype.closeAll=function(b){if(this.clearSubmenuTimeout(),b){var c=b.closest("."+a.toolkit.POPUP_CLASS_CONTAINER);if(c.length&&(c.get(0)===b.get(0)||$.contains(c.get(0),b.get(0))))return}for(var d=this.openSubMenus.length;--d>-1;){var e=this.openSubMenus[d];e&&e.menuType===a.MenuItemType.Submenu&&(e.isOpen=!1)}this.openSubMenus.splice(0),this.closeRootMenu()},c.prototype.closeRootMenu=function(){this.rootMenu&&(this.rootMenu.destroy(),this.rootMenu=null)},c.prototype.closeContextMenu=function(a){this.clearSubmenuTimeout(),a&&(a===this.rootMenu?this.closeRootMenu():a.destroy())},c.prototype.initBrowserContextMenu=function(a){var b=$(document.body),c=function(){return[]};a?this.detachElement(b):this.attachElement(b,c)},c.prototype.setGroupItems=function(a,b){a.forEach(function(a){a.groupId===b.groupId&&(a.checked=a===b)})},c.prototype.init=function(b,c){for(var d=this,e=!1,f=0;f<b.length;f++){var g=b[f];(g.icon&&0!==g.icon.length||g.menuType===a.MenuItemType.Checkbox)&&(e=!0)}var h=!1;return b.forEach(function(f,g,i){if(f.fileChooser){var j=d.$rootScope.$new();j.importFileContent="",j.text=f.text,j.tooltip=f.tooltip,j.$watch("importFileContent",function(a){a&&(f.fileChooser(a),d.closeContextMenu(d.popup))}),f.scope=j,f.template='<ion-file-chooser text="text" tooltip="tooltip" text-content="importFileContent"></ion-file-chooser>',d.scopesToDestroy.push(j)}if(f.menuType=d.resolveMenuItemType(f),f._leaveIconSpace=e,f.menuLevel=c,f.isOpen=!1,f.menuType!==a.MenuItemType.Divider||h)if(h){if(f.menuType===a.MenuItemType.Divider){var k=i[g+1];k?f.isVisible=k&&d.resolveMenuItemType(k)!==a.MenuItemType.Divider:f.isVisible=!1}}else h=f.menuType!==a.MenuItemType.Divider;else f.isVisible=!1;void 0!==f.autoClose&&null!==f.autoClose||(f.autoClose=!0),f.itemClicked=function(c){f.needDirectEvent||(f.menuType!==a.MenuItemType.Custom&&(c.preventDefault(),c.stopPropagation()),f.disabled||!f.action&&f.menuType!==a.MenuItemType.General&&f.menuType!==a.MenuItemType.Checkbox||(f.menuType===a.MenuItemType.Checkbox&&(f.groupId?d.setGroupItems(b,f):f.checked=!f.checked),d.$timeout(function(){f.action&&f.action(),f.autoClose&&d.closeAll()})))},f.directItemClicked=function(a){a.preventDefault(),a.stopPropagation(),f.disabled||(f.action&&f.action(),d.$timeout(function(){f.autoClose&&d.closeAll()}))},f.menuType===a.MenuItemType.Submenu&&f.subMenu&&(f.subMenu=d.init(f.subMenu,f.menuLevel+1))}),b},c.prototype.resolveMenuItemType=function(b){return a.MenuItemType[b.menuType]?b.menuType:b.template||b.templateUrl?a.MenuItemType.Custom:b.subMenu?a.MenuItemType.Submenu:b.isDivider?a.MenuItemType.Divider:a.MenuItemType.General},c.prototype.attachElement=function(b,c,d,e){var f=this,g=function(g){g.preventDefault(),g.stopPropagation();var h=e&&a.extend({},[e])||{position:{left:g.pageX,top:g.pageY}};h.position||a.ContextMenuAnchorPoint[h.anchorPoint]||(h.position={left:g.pageX,top:g.pageY}),d?d(g.target,h):f._openContextMenu(c(g.target),b.get(0),h,g.target)};this.isTouchAvailable?this.longTouchService.registerHandler(b,function(g,h,i){var j=e&&a.extend({},[e])||{position:{left:h,top:i}};j.position||a.ContextMenuAnchorPoint[j.anchorPoint]||(j.position={left:h,top:i}),d?d(g,j):f._openContextMenu(c(g),b.get(0),j,g)}):($(b).on("contextmenu",g),this.registered.push({element:b,handler:g}))},c.prototype.detachElement=function(a){if(this.isTouchAvailable)this.longTouchService.unregisterHandler(a);else for(var b=this.registered.length-1;b>=0;b--)this.registered[b].element[0]===a[0]&&($(a).off("contextmenu",this.registered[b].handler),this.registered.splice(b,1))},c.prototype.closeSubmenus=function(a){for(var b=this.openSubMenus.length;--b>=a.menuLevel;){var c=this.openSubMenus[b];c&&(c.isOpen=!1)}this.openSubMenus.splice(a.menuLevel)},c.prototype.openSubmenu=function(b){b.menuType!==a.MenuItemType.Submenu||b.disabled||(this.openSubMenus.indexOf(b)===-1&&this.openSubMenus.push(b),b.isOpen=!0)},c.prototype.clearSubmenuTimeout=function(){0!==this.submenuTimeout&&(clearTimeout(this.submenuTimeout),this.submenuTimeout=0)},c.prototype.openContextMenu=function(a,b,c){this._openContextMenu(a,b,c)},c.prototype._openContextMenu=function(c,d,e,f){var g=this;if(this.closeAll($(f||d)),c&&c.length){var h=this.$rootScope.$new();h.items=this.init(c,0),h.showSubmenu=function(a,c){g.clearSubmenuTimeout(),g.submenuTimeout=setTimeout(function(){h.$evalAsync(function(){g.closeSubmenus(c),g.openSubmenu(c)})},b)},h.closeSubmenu=function(a,c){g.clearSubmenuTimeout(),g.submenuTimeout=setTimeout(function(){h.$evalAsync(function(){g.closeSubmenus(c)})},b)},h.clearSubmenuTimeout=function(a){g.clearSubmenuTimeout()};var i={showAnchorPointArrow:!0,automaticallyCloseOnAnchorBoundsChange:!0};if(e&&e.disableAutoPosition&&(i.automaticallyUpdatePosition=!1),e&&e.position){var j=$(d).offset();i.position={left:e.position.left-j.left,top:e.position.top-j.top},i.anchorPoint=a.toolkit.PopupAnchorPoint.PositionProvided}else e&&a.ContextMenuAnchorPoint[e.anchorPoint]?i.anchorPoint=a.toolkit.PopupAnchorPoint[a.toolkit.PopupAnchorPoint[e.anchorPoint]]:i.anchorPoint=a.toolkit.PopupAnchorPoint.BottomLeft;this.popupService.create("toolkit/contextmenu/contextMenu.tpl.html",$(d),h,i).then(function(a){if(g.popup=a,a.onClose.add(function(){g.rootMenu===a?g.closeAll():g.closeSubmenus(a),h.$destroy(),g.scopesToDestroy.forEach(function(a){return a.$destroy()}),g.scopesToDestroy=[],e&&e.onDestroy&&setTimeout(function(){e.onDestroy()},0)}),a.show(),e&&e.onCreate){var b={close:function(){g.closeContextMenu(a)}};e.onCreate(b)}g.rootMenu=a})}},c}();angular.module("ionwebTk").service("ionweb.contextMenuService",["$window","$rootScope","ionweb.longTouchHandlerService","ionweb.popupService","$compile","$templateCache","$q","$timeout","ionwebTk.environmentService",function(a,b,d,e,f,g,h,i,j){return new c(a,b,d,e,f,g,h,i,j)}]),angular.module("ionwebTk").service("ionweb.longTouchHandlerService",[function(){function b(b){var d=b.originalEvent;g=d.changedTouches,d.touches.length>1&&f?c():f=setTimeout(function(){if(f){f=null;var a=b.originalEvent.target;h.forEach(function(b){if(a===b.element[0]||$.contains(b.element[0],a)){var c=d.touches[0];b.handler(a,c.pageX,c.pageY)}})}},a.LONG_TOUCH_DELAY)}function c(){f&&(clearTimeout(f),f=null)}function d(a,d){h.push({element:a,handler:d}),$(a).on("touchstart",b),$(a).on("touchend touchcancel",c)}function e(a){h=h.filter(function(b){return b.element!==a}),$(a).off("touchstart",b),$(a).off("touchend touchcancel",c)}var f,g,h=[];return{registerHandler:d,unregisterHandler:e}}]),angular.module("ionwebTk").directive("ionwebContextMenuHandler",["ionweb.contextMenuService",function(a){var b=function(b,c){var d=!!b.customHandler&&function(a,c){b.customHandler(a,c)};a.attachElement(c,function(a){var c=[];return b.$apply(function(){var d=b.$eval(b.ionwebContextMenuHandler);"function"==typeof d?c=d(a):"object"==typeof d&&Array.isArray(d)&&(c=d)}),c},d,b.options),b.$on("$destroy",function(){a.detachElement(c)})};return{link:b,restrict:"A",scope:{ionwebContextMenuHandler:"&",customHandler:"=?",options:"=?"}}}]),angular.module("ionwebTk").directive("contextMenuCustomItem",["$templateCache","$compile",function(a,b){return{link:function(c,d){var e=c.templateScope;e||(e=c.$new(),c.$on("$destroy",function(){e.$destroy()}));var f=c.templateUrl&&a.get(c.templateUrl)||c.template;if(f){var g=b(f)(e);d.append(g)}},restrict:"EA",replace:!0,scope:{templateUrl:"@",template:"@",templateScope:"=?"
}}}]),angular.module("ionwebTk").directive("contextMenuSubmenuItem",["ionweb.contextMenuService","ionweb.popupService","$q","$timeout",function(c,d,e,f){var g=function(e,f){function g(){0!==k&&(clearTimeout(k),k=0)}var h=null,i=e.item.scope||e.$new(),j=!!e.item.scope,k=0,l=null,m=!1;e.item.subMenu?e.items=e.item.subMenu:e.item.asyncSubMenus&&(m=!0,e.item.asyncSubMenus().then(function(a){e.items=a}).catch(function(a){e.items=[e.fallbackMenu]}).finally(function(){e.items&&c.init(e.items,e.item.menuLevel+1),m=!1,l&&l()})),i.leaveIconSpace=e.leaveIconSpace,e.showSubmenu=function(a,d){c.clearSubmenuTimeout(),g(),k=setTimeout(function(){e.$evalAsync(function(){c.closeSubmenus(d),c.openSubmenu(d)})},b)},e.closeSubmenu=function(a,d){c.clearSubmenuTimeout(),g(),k=setTimeout(function(){e.$evalAsync(function(){c.closeSubmenus(d)})},b)},e.clearSubmenuTimeout=function(a){g()};var n=function(b,c){if(b!==c&&e.items&&e.items.length){if(h)return void h.show();var i={anchorPoint:a.toolkit.PopupAnchorPoint.RightTop};d.create("toolkit/contextmenu/contextMenu.tpl.html",f.parent(),e,i).then(function(a){h=a,e.item.isOpen&&h.show(),h.onClose.add(function(){g(),h&&(h.destroy(),h=null)})})}};e.$watch("item.isOpen",function(a,b){a?(l=function(){m?e.isLoading=!0:(n(a,b),l=null,e.isLoading=!1)})():(n(a,b),l=null,e.isLoading=!1,h&&h.hide())}),f.on("$destroy",function(){g(),h&&(h.destroy(),h=null),j||i.$destroy()}),e.$on("$destroy",function(){g(),h&&(h.destroy(),h=null),j||i.$destroy()})};return{restrict:"EA",link:g,scope:{item:"=?",leaveIconSpace:"=?"},templateUrl:"toolkit/contextmenu/contextMenuSubmenuItem.tpl.html"}}]),angular.module("ionwebTk").directive("directClickDir",[function(){return{restrict:"A",scope:!1,link:function(a,b,c){var d=c.directClickDir;d&&a.$watch(d,function(a){a&&b.on("click",function(b){return a(b)})})}}}])}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){var c=function(){function c(a,b,c,d){this.element=a,this.scope=b,this.$compile=c,this.$templateCache=d,this.customTemplateScopes=[]}return c.prototype.getValidationEntry=function(a){var b=this.scope.entries.map(function(a){return a.key}).indexOf(a);return this.scope.entries[b]},c.prototype.refreshSummary=function(){this.removeExistingDOMNodes();var a=[];this.scope.hasServiceError=!1;for(var c=0;c<this.scope.entries.length;c++){var d=this.scope.entries[c];d.validationState===b.ValidationState.ServiceError&&(this.scope.hasServiceError=!0,a.push(d))}if(this.scope.hasServiceError?this.scope.filteredEntries=a:this.scope.filteredEntries=this.scope.entries.slice(),this.scope.filteredEntries=this.scope.filteredEntries.reverse(),this.scope.disableGroupingOnErrorWarning||this.scope.hasServiceError)this.appendEntriesToDOM(this.scope.filteredEntries);else{var e=[],f=[];this.scope.filteredEntries.map(function(a){a.validationState===b.ValidationState.Error?e.push(a):f.push(a)}),this.appendEntriesToDOM(e),this.appendEntriesToDOM(f)}},c.prototype.appendEntriesToDOM=function(c){var d=this;c.forEach(function(c){var e="",f="",g="";c.validationState==b.ValidationState.Error?(e="validation-summary-error-entry",f=a.toolkit.Strings.Title_Error,g="error"):c.validationState==b.ValidationState.Warning?(e="validation-summary-warning-entry",f=a.toolkit.Strings.Title_Warning,g="warning"):c.validationState==b.ValidationState.ServiceError&&(e="validation-summary-service-error-entry",f="",g="error");var h='<ionweb-icon class="ion-toolbar-button-margin validation-summary-icon"  icon="'+g+'"></ionweb-icon>',i='<label class="validation-summary-label">'+(f?f+": ":"")+(c.field?c.field+": ":"")+(c.message?c.message:"")+"</label>",j=h+i,k=document.createElement("div");$(k).addClass(e+" validation-summary-entry"),$(k).append(d.$compile(j)(d.scope)),d.appendCustomTemplate(c,k);var l=$(d.element).find(".validation-summary-messages");l.append(k)})},c.prototype.removeExistingDOMNodes=function(){var a=$(this.element).find(".validation-summary-messages"),b=a.find(".validation-summary-entry");this.customTemplateScopes.forEach(function(a){a.$destroy()}),this.customTemplateScopes=[],b.remove()},c.prototype.appendCustomTemplate=function(a,b){var c;if(a.template){var d=this.$templateCache.get(a.template)||a.template,e=a.templateScope;e||(e=this.scope.$new(!0),this.customTemplateScopes.push(e)),c=this.$compile(d)(e),c&&c.length&&b.appendChild(c[0])}},c.prototype.destroy=function(){this.removeExistingDOMNodes()},c}();angular.module("ionwebTk").directive("ionwebValidationSummary",["$compile","$templateCache",function(a,b){function d(d,e,f){var g=new c(e,d,a,b);e.addClass("validation-summary"),d.$watchGroup(["entries.length","disableGroupingOnErrorWarning"],function(){g.refreshSummary()}),d.onValidationSummaryLoad&&d.onValidationSummaryLoad(g),e.on("$destroy",function(){g.destroy()})}return{restrict:"E",scope:{entries:"=ngModel",onValidationSummaryLoad:"=?",disableGroupingOnErrorWarning:"=?",panelTitle:"@",hideTitle:"=?"},link:d,templateUrl:"toolkit/validationtooltip/validationSummary.tpl.html"}}])}(b=a.validation||(a.validation={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b=function(){function b(b,c,d,e,f){void 0===d&&(d=a.ValidationState.Valid);var g=this;this._element=b,this.errorAnimation=e,this.showOnError=f,this.mouseHoverHandler=this.onMouseHoverEventHandler.bind(this),this.mouseLeaveHandler=this.onMouseLeaveEventHandler.bind(this),this.setState(d),this.message=c,this._element.on("$destroy",function(){g.removeTooltip()})}return Object.defineProperty(b.prototype,"useInnerBorder",{set:function(a){this._useInnerBorder=a,this.updateTooltip()},enumerable:!0,configurable:!0}),b.prototype.setState=function(b){"string"==typeof b?this.state=a.ValidationState[b]:this.state=b},Object.defineProperty(b.prototype,"state",{get:function(){return this._state},set:function(a){this._state=a,this.updateTooltip()},enumerable:!0,configurable:!0}),b.prototype.updateValidationClass=function(a,c){var d=b.allClasses.filter(function(b){return b!==a}).join(" ");this._element.removeClass(d),a&&this._element.addClass(a),c&&this._element.addClass(b.ErrorShakeAnimationClassName)},b.prototype.updateTooltip=function(){switch(!this.showOnError||this.state!==a.ValidationState.Error&&this.state!==a.ValidationState.Warning||(this.addShowTooltip(),this._element.unbind("blur",this.mouseLeaveHandler),this._element.bind("blur",this.mouseLeaveHandler)),this.state){case a.ValidationState.Error:this.updateValidationClass(this._useInnerBorder?b.ErrorInnerBorderClassName:b.ErrorOuterBorderClassName,this.errorAnimation),this.registerMouseHoverHandlers();break;case a.ValidationState.Warning:this.updateValidationClass(this._useInnerBorder?b.WarningInnerBorderClassName:b.WarningOuterBorderClassName),this.registerMouseHoverHandlers();break;case a.ValidationState.Success:this.updateValidationClass(this._useInnerBorder?b.SuccessInnerBorderClassName:b.SuccessOuterBorderClassName),this.registerMouseHoverHandlers();break;case a.ValidationState.Info:this.updateValidationClass(this._useInnerBorder?b.InfoInnerBorderClassName:b.InfoOuterBorderClassName),this.registerMouseHoverHandlers();break;default:this.unregisterMouseHoverHandlers(),this.removeTooltip(),this.updateValidationClass(null)}},b.prototype.addShowTooltip=function(){this.addTooltip(),this.getTooltip()&&angular.element(this._element).tooltip("show")},b.prototype.onMouseHoverEventHandler=function(a){this.addShowTooltip()},b.prototype.onMouseLeaveEventHandler=function(a){this.getTooltip()&&this.removeTooltip()},b.prototype.getTooltip=function(){return angular.element(this._element).data("bs.tooltip")},b.prototype.addTooltip=function(){angular.element(this._element).tooltip({title:this._message,html:!0,container:"body",trigger:"manual",placement:"auto bottom"}),this.removeExistingClassesOnStateChange(),void 0!=this.getTooltip()&&(this.getTooltip().options.title=this._message,this.addNewClassesOnStateChange())},b.prototype.removeTooltip=function(){this.getTooltip()&&angular.element(this._element).tooltip("destroy")},b.prototype.registerMouseHoverHandlers=function(){this.unregisterMouseHoverHandlers(),this._element.bind("mouseover",this.mouseHoverHandler),this._element.bind("mouseleave",this.mouseLeaveHandler)},b.prototype.unregisterMouseHoverHandlers=function(){this._element.unbind("mouseover",this.mouseHoverHandler),this._element.unbind("mouseleave",this.mouseLeaveHandler)},b.prototype.removeExistingClassesOnStateChange=function(){var a=this.getTooltip(),b=a&&a.tip(0);b&&(b.removeClass("tip-success"),b.removeClass("tip-warning"),b.removeClass("tip-error"),b.removeClass("tip-info"))},b.prototype.addNewClassesOnStateChange=function(){var b=this._state,c=this.getTooltip(),d=c&&c.tip(0);if(d)switch(b){case a.ValidationState.Success:d.addClass("tip-success");break;case a.ValidationState.Error:d.addClass("tip-error");break;case a.ValidationState.Warning:d.addClass("tip-warning");break;case a.ValidationState.Info:d.addClass("tip-info")}},Object.defineProperty(b.prototype,"message",{get:function(){return this._message},set:function(a){this._message=a;var b=this.getTooltip();b&&(b.options.title=a)},enumerable:!0,configurable:!0}),b.ErrorInnerBorderClassName="validation-error-inner-border",b.WarningInnerBorderClassName="validation-warning-inner-border",b.SuccessInnerBorderClassName="validation-success-inner-border",b.InfoInnerBorderClassName="validation-info-inner-border",b.ErrorOuterBorderClassName="validation-error",b.WarningOuterBorderClassName="validation-warning",b.SuccessOuterBorderClassName="validation-success",b.InfoOuterBorderClassName="validation-info",b.ErrorShakeAnimationClassName="error-shake",b.allClasses=[b.ErrorInnerBorderClassName,b.WarningInnerBorderClassName,b.SuccessInnerBorderClassName,b.InfoInnerBorderClassName,b.ErrorOuterBorderClassName,b.WarningOuterBorderClassName,b.SuccessOuterBorderClassName,b.InfoOuterBorderClassName,b.ErrorShakeAnimationClassName],b}();a.ValidationController=b,angular.module("ionwebTk").directive("ionwebValidation",["$compile","$templateCache",function(a,c){function d(a,c,d){var e=new b(c,a.$eval(d.validationMessage),a.$eval(d.validationState));a.$watch(function(){return a.$eval(d.validationState)},function(a){return e.setState(a)}),a.$watch(function(){return a.$eval(d.validationMessage)},function(a){return e.message=a}),a.$watch(function(){return a.$eval(d.errorAnimation)},function(a){return e.errorAnimation=a}),a.$watch(function(){return a.$eval(d.showOnError)},function(a){return e.showOnError=a})}return{restrict:"A",link:d,scope:!1}}])}(b=a.validation||(a.validation={}))}(ionweb||(ionweb={}));var cssElementQueries;!function(a){var b=function(){function a(b,c){function d(){this.q=[],this.add=function(a){this.q.push(a)};var a,b;this.call=function(){for(a=0,b=this.q.length;a<b;a++)this.q[a].call()}}function e(a,b){return a.currentStyle?a.currentStyle[b]:window.getComputedStyle?window.getComputedStyle(a,null).getPropertyValue(b):a.style[b]}function f(a,b){if(a[g.markerNameInstance]){if(a[g.markerNameInstance])return void a[g.markerNameInstance].add(b)}else a[g.markerNameInstance]=new d,a[g.markerNameInstance].add(b);a[g.resizeNameInstance]=document.createElement("div"),a[g.resizeNameInstance].className="resize-sensor";var c="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: scroll; z-index: -1; visibility: hidden;",f="position: absolute; left: 0; top: 0;";a[g.resizeNameInstance].style.cssText=c,a[g.resizeNameInstance].innerHTML='<div class="resize-sensor-expand" style="'+c+'"><div style="'+f+'"></div></div><div class="resize-sensor-shrink" style="'+c+'"><div style="'+f+' width: 200%; height: 200%"></div></div>',a.appendChild(a[g.resizeNameInstance]),{fixed:1,absolute:1}[e(a,"position")]||(a.style.position="relative");var h,i,j=a[g.resizeNameInstance].childNodes[0],k=j.childNodes[0],l=a[g.resizeNameInstance].childNodes[1],m=(l.childNodes[0],function(){var b=j.offsetWidth+10+"px";k.style.width!==b&&(k.style.width=b);var c=j.offsetHeight+10+"px";k.style.height!==c&&(k.style.height=c),j.scrollLeft!==j.scrollWidth&&(j.scrollLeft=j.scrollWidth),j.scrollTop!==j.scrollHeight&&(j.scrollTop=j.scrollHeight),l.scrollLeft!==l.scrollWidth&&(l.scrollLeft=l.scrollWidth),l.scrollTop!==l.scrollHeight&&(l.scrollTop=l.scrollHeight),h=a.offsetWidth,i=a.offsetHeight});m();var n=function(){a[g.markerNameInstance]&&a[g.markerNameInstance].call()},o=function(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c)};o(j,"scroll",function(){(a.offsetWidth>h||a.offsetHeight>i)&&n(),m()}),o(l,"scroll",function(){(a.offsetWidth<h||a.offsetHeight<i)&&n(),m()})}this.element=b,this.instance=a.instanceCount++;var g=this;if("[object Array]"===Object.prototype.toString.call(b)||"undefined"!=typeof jQuery&&b instanceof jQuery)for(var h=0,i=b.length;h<i;h++)f(b[h],c);else f(b,c)}return Object.defineProperty(a.prototype,"markerNameInstance",{get:function(){return"resizedAttached_"+this.instance},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"resizeNameInstance",{get:function(){return"resizeSensor_"+this.instance},enumerable:!0,configurable:!0}),a.prototype.detach=function(){if(this.element[this.resizeNameInstance]){var a=this.element[this.resizeNameInstance];a&&a.parentElement&&this.element.removeChild(a),delete this.element[this.resizeNameInstance],delete this.element[this.markerNameInstance]}},a.instanceCount=0,a}();a.ResizeSensor=b}(cssElementQueries||(cssElementQueries={}));var ionweb;!function(a){var b=function(){function b(a,b){this.windowService=a,this.cfgService=b}return b.prototype.computeSizeInfo=function(a){var c=a.width(),d=a.height(),e=this.cfgService.getFontSize();return b.convertHtmlSizeToSizeInfo(c,d,e)},b.convertHtmlSizeToSizeInfo=function(a,c,d){a<0&&(a=0),c<0&&(c=0);var e=a+2*d,f=c+2*d,g=Math.floor(e/d),h=Math.floor(f/d),i=null;b.designSizes.some(function(a){return g>=a.bound&&(i=a,!0)});var j={name:i.name,bound:i.bound},k={width:a,height:c,emWidth:g,emHeight:h,designSize:j};return k},b.prototype.register=function(b,c){var d,e=this,f=this.computeSizeInfo(b),g=function(){d&&(f=e.computeSizeInfo(b),c&&c(f))},h=a.throttle(g,50),i=b[0],j=function(){h()};d=new cssElementQueries.ResizeSensor(i,j),this.windowService.addEventListener("resize",j);var k=function(){d&&(d.detach(),d=null),e.windowService.removeEventListener("resize",j)};return k.info=f,k},b.designSizes=[{name:"xl",bound:100},{name:"l",bound:72},{name:"m",bound:56},{name:"s",bound:36},{name:"xs",bound:0}],b}();a.ResizeObserverService=b;var c=function(){function b(a,b){this.resizeObserverService=b,this.windowService=a}return b.prototype.register=function(b,c,d){var e=this,f=null,g=[],h=null,i=null,j=!1,k=!1,l=function(a){c&&c(a)},m=function(a,b){if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c].htmlElement!==b[c].htmlElement)return!1;return!0},n=function(a,b){var c=a.parent(),d=c&&c.length&&c[0];if(d&&d!==document.body){var e={htmlElement:d,jqueryElement:c,mutationObserver:null};b.push(e),n(c,b)}},o=function(a){var b=[];return n(a,b),b},p=null,q=function(){k||(k=!0,setTimeout(function(){p(),k=!1},500))},r=function(){return f!==b.offsetParent},s=function(){i&&(i(),i=null),g.forEach(function(a){a.mutationObserver.disconnect()}),g=[],h&&(clearInterval(h),h=null)},t=function(c){g=c;var j=d?g[0].jqueryElement:v;i=e.resizeObserverService.register(j,l),f=b.offsetParent,g.forEach(function(a){a.mutationObserver=new MutationObserver(q),a.mutationObserver.observe(a.htmlElement,{attributes:!0,childList:!0,characterData:!0})}),a.enableTimerToVerifyOffsetParentOnResponsivenessService&&(h=setInterval(function(){var a=r();a&&q()},500))},u=function(a){s(),t(a),c&&c(i.info)};p=function(){if(!j){var a=o(v),b=m(g,a);if(b){var c=r();if(!c)return}u(a)}};var v=$(b),w=o(v);t(w);var x=function(){s(),j=!0};return x.initialSize=i.info,x.computeCurrentSize=function(){return g.length>0&&e.resizeObserverService.computeSizeInfo(g[0].jqueryElement)},x},b}();a.ResponsivenessService=c;var d=function(a,c,d){if(!a)throw new Error("windowService must be defined");if(!c)throw new Error("templateCache must be defined");return{restrict:"E",template:"<div ng-include='responsivenessTemplate'></div>",transclude:!0,scope:!1,link:function(a,e,f){var g=null,h=function(d){a.$evalAsync(function(){var e=null,h=g;g=d.designSize.name;var i=f.responsiveTemplateResolver,j=f.responsiveTemplateResolverDesignSizeDriven;if(j=j&&a.$eval(j),!i||h===g&&j||(e=a.$eval(i,{responsivenessEmWidth:d.emWidth,responsivenessEmHeight:d.emHeight,responsivenessWidth:d.width,responsivenessHeight:d.height,responsivenessDesignSize:d.designSize.name}))){if(!e){if(h===g)return;b.designSizes.some(function(a){var b=f.responsiveTemplatePrefix+"."+a.name+".tpl.html";return!!(d.emWidth>=a.bound&&c.get(b))&&(e=b,!0)})}if(!e)throw new Error("no XS template defined");a.responsivenessTemplate=e}})};setTimeout(function(){var b=d.register(e[0],h,!0);h(b.initialSize),a.$on("$destroy",function(){b&&(b(),b=null)})},0)}}};angular.module("ionwebTk").service("ionweb.resizeObserverService",["$window","ionwebTk.toolkitConfigService",function(a,c){return new b(a,c)}]).service("ionweb.responsivenessService",["$window","ionweb.resizeObserverService",function(a,b){return new c(a,b)}]).directive("responsiveContent",["$window","$templateCache","ionweb.responsivenessService",function(a,b,c){return d(a,b,c)}])}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a[a.None=0]="None",a[a.Potrait=1]="Potrait",a[a.Landscape=2]="Landscape"}(b=a.Orientation||(a.Orientation={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){function c(a,b,c){return a.has(b)?a.get(b):c()}var d=function(a){function b(b){var c=a.call(this,b)||this;return c.init(),c}return __extends(b,a),b}(a.localization.DateFormattingServiceBase);angular.module("ionwebTk").service("ionwebTk.dateFormattingService",["$injector","ionwebTk.loggerFactory",function(a,b){return c(a,"ionweb.dateFormattingService",function(){return new d(b)})}]);var e=function(){function a(){}return a.prototype.ifHigh=function(a){},a.prototype.ifMedium=function(a){},a.prototype.ifLow=function(a){},a.prototype.high=function(a,b){},a.prototype.medium=function(a,b){},a.prototype.low=function(a,b){},a}(),f=function(){function a(){}return a.prototype.create=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return new e},a}();angular.module("ionwebTk").service("ionwebTk.loggerFactory",["$injector",function(a){return c(a,"ionweb.loggerFactory",function(){return new f})}]);var g=function(){function a(){}return a.prototype.showError=function(a){alert("Error: "+a)},a}();angular.module("ionwebTk").service("ionwebTk.notificationService",["$injector",function(a){return c(a,"ionweb.notificationService",function(){return new g})}]);var h=function(){function b(){this.orientationChanged=new a.Event}return b.prototype.isTouchDevice=function(){return!1},b.prototype.isSmallScreen=function(){return!1},b.prototype.isMobileDevice=function(){return!1},Object.defineProperty(b.prototype,"orientation",{get:function(){return a.Orientation.None},enumerable:!0,configurable:!0}),b}();angular.module("ionwebTk").service("ionwebTk.environmentService",["$injector",function(a){return c(a,"ionweb.environmentService",function(){return new h})}]),angular.module("ionwebTk").service("ionwebTk.q",["$q",function(a){return"undefined"!=typeof Q?Q:a}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){function b(a){return a&&"@"===a.charAt(0)}function c(c,d){return b(c)?a.THEME_CLASS_PREFIX+"-"+c.substr(1)+"-"+d:null}function d(b,c){var d={styleObj:{},classStr:""};if(null!=b&&(d.classStr=a.getThemeClass(b,c),!d.classStr)){var e=a.THEME_CLASS_POSTFIX_TO_PROPERTY[c];e&&(d.styleObj[e]=b)}return d}a.THEME_PREFIX="ion-theme",a.DensityServiceDefaultFontSize=12,a.DensityServicePixelToRemFactor=1/a.DensityServiceDefaultFontSize,a.THEME_CLASS_PREFIX=a.THEME_PREFIX,a.THEME_CLASS_POSTFIX_TO_PROPERTY={bg:"background-color",fg:"color",brd:"border-color",fill:"fill",stroke:"stroke"},a.isThemeVariable=b,a.getThemeClass=c,a.getThemeClassOrStyle=d}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){var c=function(){function c(){this.tile={rounding:1},this.dialog={useCrossButtonOnSmallScreen:!1},this.autoComplete={showIconOnHover:!1},this.datePicker={showIconOnHover:!1,enableMobileLayoutOnDesktop:!1,disableMobileLayout:!1},this.currentThemeChanged=new a.Event}return c.prototype.getIconVisibilityType=function(a,c){var d;return a===!0?d=c?b.VisibilityType.OnHover:b.VisibilityType.Always:a===!1?d=b.VisibilityType.Never:void 0!==a&&(d=a),d},c.prototype.getThemeVariables=function(){return this.getThemeVariablesHandler?this.getThemeVariablesHandler():[]},c.prototype.getFontSize=function(){return this.getFontSizeHandler?this.getFontSizeHandler():b.DensityServiceDefaultFontSize},c}();b.ToolkitConfigService=c,angular.module("ionwebTk").service("ionwebTk.toolkitConfigService",c)}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var iosDragDrop;!function(a){function b(a){}function c(a){return function(b){var c=b.target;do if(c.draggable===!0){var d=function(){g.off(),h.off(),j.off(),i(b)},e=function(){g.off(),h.off(),j.off(),clearTimeout(f)},f=setTimeout(d,a),g=k(c,"touchend",e,this),h=k(c,"touchcancel",e,this),j=k(c,"touchmove",e,this);k(window,"touchmove",e,this),k(window,"silenttouchmove",e,this);break}while((c=c.parentNode)&&c!==n.body)}}function d(){o=navigator.userAgent.match(/OS [1-4](?:_\d+)+ like Mac/)?"page":"client";var d=/iPad|iPhone|iPod|Android/.test(navigator.userAgent);if(b((d?"":"not ")+"patching html5 drag drop"),d?a.EVENT_PREFIX="shim-":a.EVENT_PREFIX="",d){var e={holdToDrag:ionweb.LONG_TOUCH_DELAY};e.holdToDrag?n.addEventListener("touchstart",c(e.holdToDrag),{passive:!1}):n.addEventListener("touchstart",i,{passive:!1})}}function e(a){var b=[],c=[];return[].forEach.call(a.changedTouches,function(a){b.push(a.pageX),c.push(a.pageY)}),{x:m(b),y:m(c)}}function f(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)}function g(a){return(a.changedTouches[0].radiusX+a.changedTouches[0].radiusY)/2||0}function h(a,c){this.dragData={},this.dragDataTypes=[],this.dataTransfer={types:this.dragDataTypes,setData:function(a,b){return this.dragData[a]=b,this.dragDataTypes.indexOf(a)==-1&&(this.dragDataTypes[this.dragDataTypes.length]=a),b}.bind(this),getData:function(a){return this.dragData[a]}.bind(this),dropEffect:"all"},this.dragElement=null,this.dragElementTransform=null,this.dragElementWebKitTransform=null,this.el=c||a.target,this.initPos=null,b("dragstart"),this.dispatchDragStart()&&(this.createDragElement(),this.initPos=e(a)),this.listen()}function i(a){var b;setTimeout(function(){if(b){b.cloned=a.target,b.clone=b.cloned.cloneNode(!0);var c=b.cloned.parentNode,d=Array.prototype.indexOf.call(c.children,b.cloned);document.body.append(b.cloned);var e=function(a,b,c){c||(c=0),c>=a.children.length?a.appendChild(b):a.insertBefore(b,a.children[c])};e(c,b.clone,d)}},0);var c=a.target,d=c;do{if(d.tagName&&"ionweb-grid"===d.tagName.toLowerCase())return;if(d.className&&("string"==typeof d.className&&d.className.toLowerCase().indexOf("gridxrowheaderrow")>-1||d.className&&d.className.baseVal&&d.className.baseVal.toLowerCase().indexOf("gridxrowheaderrow")>-1))break}while((d=d.parentNode)&&d!==n.body);do if(c.draggable===!0){if(!c.hasAttribute("draggable")&&"a"==c.tagName.toLowerCase()){var e=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});c.dispatchEvent(e)}return a.preventDefault(),void(b=new h(a,c))}while((c=c.parentNode)&&c!==n.body)}function j(a,b){var c=b.changedTouches[0],d=n.elementFromPoint(c[o+"X"],c[o+"Y"]);return d}function k(a,b,c,d){return d&&(c=c.bind(d)),a.addEventListener(b,c,{passive:!1}),{off:function(){return a.removeEventListener(b,c,{passive:!1})}}}function l(a,b,c,d){function e(d){return c(d),a.removeEventListener(b,e)}return d&&(c=c.bind(d)),a.addEventListener(b,e)}function m(a){return 0===a.length?0:a.reduce(function(a,b){return b+a},0)/a.length}var n=document;a.EVENT_PREFIX="";var o;a.MOVE_THRESHOLD_RADIUSES=2,a.toPoint=e,a.dist=f,a.toRadius=g;var p=!1;h.prototype={listen:function(){function a(a){if(this.dragend(a,a.target),0==p){var b=a.target,d=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});b.dispatchEvent(d)}p=!1,c.call(this)}function c(){return b("cleanup"),this.clone&&this.cloned&&this.clone.parentElement&&this.clone.parentElement.replaceChild(this.cloned,this.clone),this.dragDataTypes=[],null!==this.dragElement&&(this.dragElement.parentNode&&this.dragElement.parentNode.removeChild(this.dragElement),this.dragElement=null,this.dragElementTransform=null,this.dragElementWebKitTransform=null),this.el=this.dragData=null,[d,e,f].forEach(function(a){return a.off()})}var d=k(n,"touchmove",this.move,this),e=k(n,"touchend",a,this),f=k(n,"touchcancel",c,this)},move:function(b){if(b.preventDefault(),this.initPos&&b.changedTouches.length>=1){var c=e(b),d=g(b);(p||f(c,this.initPos)>d*a.MOVE_THRESHOLD_RADIUSES)&&(c.x-=parseInt(this.dragElement.offsetWidth,10)/2,c.y-=parseInt(this.dragElement.offsetHeight,10)/2,this.translateDragElement(c.x,c.y),this.synthesizeEnterLeave(b),p=!0)}},translateDragElement:function(a,b){var c="translate("+a+"px,"+b+"px) ";null!==this.dragElementWebKitTransform&&(this.dragElement.style["-webkit-transform"]=c+this.dragElementWebKitTransform),null!==this.dragElementTransform&&(this.dragElement.style.transform=c+this.dragElementTransform)},synthesizeEnterLeave:function(a){var b=j(this.el,a);b!=this.lastEnter&&(this.lastEnter&&this.dispatchLeave(a),this.lastEnter=b,this.lastEnter&&this.dispatchEnter(a)),this.lastEnter&&this.dispatchOver(a)},dragend:function(c){b("dragend");var d=!1;this.lastEnter&&(d=this.lastEnterIsDroppable,this.dispatchLeave(c));var e=j(this.el,c);e&&d?(b("found drop target "+e.tagName),this.dispatchDrop(e,c)):b("no drop target");var f=n.createEvent("Event");f.dataTransfer=this.dataTransfer,f.initEvent(a.EVENT_PREFIX+"dragend",!0,!0),this.el.dispatchEvent(f)},dispatchDrop:function(c,d){var e=n.createEvent("Event");e.initEvent(a.EVENT_PREFIX+"drop",!0,!0);var f=d.changedTouches[0],g=f[o+"X"],h=f[o+"Y"],i=this.getOffset(c);e.pageX=f.pageX,e.pageY=f.pageY,e.clientX=f.clientX,e.clientY=f.clientY,e.offsetX=g-i.x,e.offsetY=h-i.y,e.dataTransfer=this.dataTransfer,e.preventDefault=function(){}.bind(this),l(n,"drop",function(){b("drop event not canceled")},this),c.dispatchEvent(e)},getOffset:function(a){var b=a.getBoundingClientRect();return{x:b.left,y:b.top}},dispatchEnter:function(b){var c=n.createEvent("Event");c.initEvent(a.EVENT_PREFIX+"dragenter",!0,!0),c.dataTransfer=this.dataTransfer;var d=b.changedTouches[0];c.pageX=d.pageX,c.pageY=d.pageY,c.clientX=d.clientX,c.clientY=d.clientY,this.lastEnter.dispatchEvent(c)},dispatchOver:function(b){var c=n.createEvent("Event");c.initEvent(a.EVENT_PREFIX+"dragover",!0,!0),c.dataTransfer=this.dataTransfer;var d=b.changedTouches[0];c.pageX=d.pageX,c.pageY=d.pageY,c.clientX=d.clientX,c.clientY=d.clientY,this.lastEnterIsDroppable=!this.lastEnter.dispatchEvent(c)},dispatchLeave:function(b){var c=n.createEvent("Event");c.initEvent(a.EVENT_PREFIX+"dragleave",!0,!0),c.dataTransfer=this.dataTransfer;var d=b.changedTouches[0];c.pageX=d.pageX,c.pageY=d.pageY,c.pageY=d.pageY,c.clientX=d.clientX,c.clientY=d.clientY,this.lastEnter.dispatchEvent(c),this.lastEnter=null},dispatchDragStart:function(){var b=n.createEvent("Event");return b.initEvent(a.EVENT_PREFIX+"dragstart",!0,!0),b.dataTransfer=this.dataTransfer,this.el.dispatchEvent(b)},createDragElement:function(){ionweb.toolkit.dndCustomDragPlaceholder?this.dragElement=ionweb.toolkit.dndCustomDragPlaceholder:(this.dragElement=document.createElement("div"),this.dragElement.setAttribute("style","border-style:dotted; border-radius: 1em; width: 40px; height: 40px; background-color:white;")),this.dragElement.style.pointerEvents="none",this.dragElement.style.opacity="0.5",this.dragElement.style.position="absolute",this.dragElement.style.left="0px",this.dragElement.style.top="0px",this.dragElement.style.zIndex="999999";var a=this.dragElement.style.transform;"undefined"!=typeof a&&(this.dragElementTransform="","none"!=a&&(this.dragElementTransform=a.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,"")));var b=this.dragElement.style["-webkit-transform"];"undefined"!=typeof b&&(this.dragElementWebKitTransform="","none"!=b&&(this.dragElementWebKitTransform=b.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""))),this.translateDragElement(-9999,-9999),n.body.appendChild(this.dragElement)}},d()}(iosDragDrop||(iosDragDrop={}));var ionweb;!function(a){var b;!function(a){a[a.None=0]="None",a[a.Copy=1]="Copy",a[a.Move=2]="Move",a[a.Link=3]="Link"}(b=a.DnDDropEffect||(a.DnDDropEffect={}));var c;!function(a){a[a.None=0]="None",a[a.Copy=1]="Copy",a[a.Move=2]="Move",a[a.Link=4]="Link",a[a.CopyLink=5]="CopyLink",a[a.CopyMove=3]="CopyMove",a[a.LinkMove=6]="LinkMove",a[a.All=7]="All"}(c=a.DnDEffectAllowed||(a.DnDEffectAllowed={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){b.dndData={},b.cleanDnDCache=function(){b.dndDropEffect=a.DnDDropEffect.None,b.dndData={},b.dndCustomDragPlaceholder&&(b.dndCustomDragPlaceholderDetachable&&(b.dndCustomDragPlaceholder.parentElement===document.body?document.body.removeChild(b.dndCustomDragPlaceholder):console.warn("cleanDNDCache: tried to remove an already detached placeholder")),b.dndCustomDragPlaceholder=null,b.dndCustomDragPlaceholderDetachable=!1)};var c,d,e,f,g="Text",h=function(){function h(c,d){this.standardDataTransfer=c,h.isInitialized||(b.dndDropEffect=a.DnDDropEffect.None,h.isInitialized=!0),this.isWritable=!!d,this.initSupportArray()}return h.prototype.initSupportArray=function(){if(!c){var b=function(a){return a.charAt(0).toLowerCase()+a.slice(1)};c=[],d={},e=[],f={};for(var g in a.DnDDropEffect)if("number"==typeof a.DnDDropEffect[g]){var h=b(g);d[h]=a.DnDDropEffect[g],c[a.DnDDropEffect[g]]=h}for(var g in a.DnDEffectAllowed)if("number"==typeof a.DnDEffectAllowed[g]){var h=b(g);f[h]=a.DnDEffectAllowed[g],e[a.DnDEffectAllowed[g]]=h}}},h.prototype.getDropEffect=function(){return b.dndDropEffect},h.prototype.setDropEffect=function(a){b.dndDropEffect=a,this.standardDataTransfer.dropEffect=c[b.dndDropEffect]},h.prototype.getEffectAllowed=function(){var b;try{b=f[this.standardDataTransfer.effectAllowed]}catch(c){b=a.DnDEffectAllowed.All}return b},h.prototype.setEffectAllowed=function(a){this.standardDataTransfer.effectAllowed=e[a]},h.prototype.setData=function(a,c){if(!this.isWritable)throw new Error(b.Strings.Err_DragAndDrop_DataTransfer_Writable_Denied);if(b.dndData[a]=c,a==g||!this.standardDataTransfer.types||!this.standardDataTransfer.types.length){var d;d="object"==typeof c?JSON.stringify(c):c,this.standardDataTransfer.setData(g,d)}},h.prototype.getData=function(a){var c;if(a==g&&(c=this.standardDataTransfer.getData(a)),c)try{c=JSON.parse(c)}catch(a){}return void 0!==c&&null!==c||(c=b.dndData[a]),c},h.prototype.availableFormats=function(){var a=[];return Object.keys(b.dndData).forEach(function(c){b.dndData.hasOwnProperty(c)&&a.push(c)}),0==a.length&&this.standardDataTransfer.getData(g)&&a.push(g),a},h.prototype.isAttachedOnBody=function(a){return!!a&&(a==document.body||this.isAttachedOnBody(a.parentElement))},h.prototype.setDragPlaceholder=function(a,c,d){if(a){if(this.isAttachedOnBody(a))b.dndCustomDragPlaceholder=a,b.dndCustomDragPlaceholderDetachable=!1;else{b.dndCustomDragPlaceholder=a;var e=window.getComputedStyle(b.dndCustomDragPlaceholder).height;b.dndCustomDragPlaceholder.style.top="-"+e+"px",b.dndCustomDragPlaceholder.style.position="absolute",b.dndCustomDragPlaceholder.style.zIndex="-1",document.body.appendChild(a),b.dndCustomDragPlaceholderDetachable=!0}this.standardDataTransfer&&this.standardDataTransfer.setDragImage&&this.standardDataTransfer.setDragImage(b.dndCustomDragPlaceholder,c||0,d||0)}},h.prototype.toString=function(){var a=this,b=[];return this.availableFormats().forEach(function(c){var d;
try{d=JSON.stringify(a.getData(c))}catch(a){}"string"==typeof d&&(d=d.substr(0,500)),b.push("format: "+c+", value: "+d)}),b.join(" - ")},h.isInitialized=!1,h}();b.DnDDataTransfer=h}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){angular.module("ionwebTk").directive("ionwebDraggable",["ionwebTk.loggerFactory",function(b){return{restrict:"A",scope:!1,link:function(c,d,e){var f,g=!1,h=function(){var a={};return e.dragStart&&(a.dragStart=function(a,b,d){c.$event=d,c.$dataTransfer=b,c.$apply(function(){c.$eval(e.dragStart)}),g=!0}),e.dragEnd&&(a.dragEnd=function(a,b,d){try{c.$event=d,c.$dataTransfer=b,c.$apply(function(){c.$eval(e.dragEnd)})}finally{g=!1}}),a},i=function(){f||(f=new a.DnDDragWrapper(d,h,b))},j=function(){g&&c.$eval(e.dragEnd),f&&(f.dispose(),f=null)},k=e.ionwebDraggable;k?c.$watch(k,function(a){a?i():j()}):i(),c.$on("$destroy",function(){j()})}}}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){angular.module("ionwebTk").directive("ionwebDroppable",["ionwebTk.loggerFactory",function(c){return{restrict:"A",scope:!1,link:function(d,e,f){var g,h,i,j=0,k=function(c){var d=Object.keys(a.DnDDropEffect).filter(function(b){var d=parseInt(b,10)>=0;if(d){var e=a.DnDDropEffect[b];return e.toLowerCase()===c.toLowerCase()}});if(d.length)return parseInt(d[0],10);throw c+b.Strings.Err_dropDirective_IsNot_Valid_DropEffect},l=a.throttle(function(){d.$event=i,d.$dataTransfer=g;var a;d.$apply(function(){a=d.$eval(f.dragOver)}),"string"!=typeof a||parseInt(a,10)>=0||(a=k(a)),h=a}),m=function(){var a={};return(f.dragEnter||f.dragLeave)&&(a.dragEnter=function(a,b,c){if(j++,1==j&&f.dragEnter){d.$event=c,d.$dataTransfer=b;var e;return d.$apply(function(){e=d.$eval(f.dragEnter)}),e}}),f.dragOver&&(a.dragOver=function(a,b,c){return g=b,i=c,l(),h}),(f.dragLeave||f.dragEnter)&&(a.dragLeave=function(a,b){j--,0==j&&f.dragLeave&&(l.cancel(),d.$event=b,d.$apply(function(){d.$eval(f.dragLeave)}))}),f.drop&&(a.drop=function(a,b,c){j=0,l.cancel(),d.$event=c,d.$dataTransfer=b,d.$apply(function(){d.$eval(f.drop)})}),a},n=new b.DnDDropWrapper(e,m,c);d.$on("$destroy",function(){n.dispose()})}}}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){var c=function(){function c(d,e,f){var g=this;this.element=d,f&&(this._logger=f.create("DnDDragWrapper")),this.disableDraggingOnImages(d[0]),this.onDragStart=function(c){g.betweenStartAndEnd=!0;var d=e();b.cleanDnDCache();var f=d.dragStart,h=new b.DnDDataTransfer(c.dataTransfer,!0),i=!1;f&&(f(c.target,h,c),h.availableFormats().length&&(i=!0,h.getEffectAllowed()||h.setEffectAllowed(a.DnDEffectAllowed.All),h.dropToDelete?g.addTrashElement(h.dropToDelete):h.dropToCustomAction&&g.addTrashElement(h.dropToCustomAction.action,h.dropToCustomAction.customIcon))),g._logger&&g._logger.ifLow(function(){return{key:"onDragStart",params:{allowDrag:i,dataTransfer:h.toString()}}}),i||c.preventDefault()},this.onDragEnd=function(a){if(g.betweenStartAndEnd){g._logger&&g._logger.ifLow(function(){return{key:"onDragEnd"}}),g.betweenStartAndEnd=!1;var d=e().dragEnd;d&&(a.preventDefault(),d(a.target,new b.DnDDataTransfer(a.dataTransfer),a)),b.cleanDnDCache(),c.removeTrashTarget(),g.disposeAfterEnd&&g.element[0].removeEventListener(iosDragDrop.EVENT_PREFIX+"dragend",g.onDragEnd)}},d.attr("draggable","true"),d[0].addEventListener(iosDragDrop.EVENT_PREFIX+"dragstart",this.onDragStart),d[0].addEventListener(iosDragDrop.EVENT_PREFIX+"dragend",this.onDragEnd),window.addEventListener("touchend",this.onDragEnd),window.addEventListener("mouseup",this.onDragEnd)}return c.prototype.disableDraggingOnImages=function(a,b){!b||"img"!=a.tagName.toLowerCase()||a.getAttribute("ionweb-draggable")||a.getAttribute("draggable")||a.setAttribute("draggable","false");for(var c=0;c<a.children.length;c++)this.disableDraggingOnImages(a.children[c],!0)},c.prototype.addTrashElement=function(b,d){var e=function(){return{dragEnter:function(b,c){return c.setEffectAllowed(a.DnDEffectAllowed.Move),!0},dragLeave:function(a){},dragOver:function(b,c,d){return a.DnDDropEffect.Move},drop:function(a,c,d){b(c)}}},f=50,g=c.createTrashTarget(e,f,d),h=d?parseInt(window.getComputedStyle(d).width):f;g.style.zIndex="9999",g.style.left=document.body.clientWidth/2-h/2+"px",g.style.top="4px"},c.prototype.dispose=function(){this.element.removeAttr("draggable"),window.removeEventListener("touchend",this.onDragEnd),window.removeEventListener("mouseup",this.onDragEnd),this.element[0].removeEventListener(iosDragDrop.EVENT_PREFIX+"dragstart",this.onDragStart),this.betweenStartAndEnd?this.disposeAfterEnd=!0:this.element[0].removeEventListener(iosDragDrop.EVENT_PREFIX+"dragend",this.onDragEnd)},c.removeTrashTarget=function(){c._dndTrashElement&&(c._dndTrashElement.parentElement.removeChild(c._dndTrashElement),c._dndTrashElement=null)},c.createTrashTarget=function(b,e,f,g){c.removeTrashTarget();var h;if(f)h=f;else{var i=e||50,j=$.parseHTML('<span class="dnd-trash-icon glyphicon glyphicon-trash" aria-hidden="true"></span>')[0];h=document.createElement("div"),h.appendChild(j),h.className="dnd-trash",h.style.width=i+"px",h.style.height=i+"px",h.style.borderRadius=i/2+"px"}document.body.appendChild(h);var k=function(){var c=b(),d=a.DnDDropEffect.Move,e="dnd-highlight";return{dragEnter:function(a,b){var e=!0;return c.dragEnter&&(e=c.dragEnter(a,b)),e&&b.setDropEffect(d),e},dragLeave:function(a){h.classList.remove(e),c.dragLeave&&c.dragLeave(a)},dragOver:function(a,b,f){return h.classList.add(e),c.dragOver&&c.dragOver(a,b,f)||d},drop:c.drop}};return new d($(h),k,g),c._dndTrashElement=h,c._dndTrashElement},c}();b.DnDDragWrapper=c;var d=function(){function d(d,e,f){var g=this;this.element=d,f&&(this._logger=f.create("DnDDropWrapper"));var h;this.onDragEnter=function(a){var c=new b.DnDDataTransfer(a.dataTransfer),d=e().dragEnter;d&&d(a.target,c,a)&&a.preventDefault()},this.onDragOver=function(c){var d=e().dragOver;if(d){var f=new b.DnDDataTransfer(c.dataTransfer),g=d(c.target,f,c);0==(g&f.getEffectAllowed())&&(g=a.DnDDropEffect.None),h=g,f.setDropEffect(g),g!=a.DnDDropEffect.None&&c.preventDefault()}},this.onDragLeave=function(c){var d=e().dragLeave;d&&d(c.target,c)&&c.preventDefault(),b.dndDropEffect=a.DnDDropEffect.None},this.onDrop=function(a){var d=e().drop,f=new b.DnDDataTransfer(a.dataTransfer);g._logger&&g._logger.ifLow(function(){return{key:"onDrop",params:{dropProvided:!!d,dataTransfer:f.toString()}}}),b.dndDropEffect=h,d&&(d(a.target,f,a),a.preventDefault()),c.removeTrashTarget()},d[0].addEventListener(iosDragDrop.EVENT_PREFIX+"dragenter",this.onDragEnter),d[0].addEventListener(iosDragDrop.EVENT_PREFIX+"dragleave",this.onDragLeave),d[0].addEventListener(iosDragDrop.EVENT_PREFIX+"dragover",this.onDragOver),d[0].addEventListener(iosDragDrop.EVENT_PREFIX+"drop",this.onDrop)}return d.prototype.dispose=function(){this.element[0].removeEventListener(iosDragDrop.EVENT_PREFIX+"dragenter",this.onDragEnter),this.element[0].removeEventListener(iosDragDrop.EVENT_PREFIX+"dragleave",this.onDragLeave),this.element[0].removeEventListener(iosDragDrop.EVENT_PREFIX+"dragover",this.onDragOver),this.element[0].removeEventListener(iosDragDrop.EVENT_PREFIX+"drop",this.onDrop)},d}();b.DnDDropWrapper=d}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){angular.module("ionwebTk").directive("ionwebIcon",["ionweb.iconService",function(a){var b=function(b,c){function d(){var b=a.getDefaultSet();return{iconSet:b,icon:b.icons["--placeHolder"]}}function e(b){var c=a.getDefaultSet(),e=c.icons[b];return e&&{iconSet:c,icon:c.icons[b]}||d()}function f(b,c){var e=a.getIconSet(b);if(e&&e.icons&&Object.getOwnPropertyNames(e.icons).length>0){var f=e.icons[c];return f&&{iconSet:e,icon:f}||d()}return e&&{iconSet:e,icon:null}||d()}function g(a,b){if(a=a&&a.trim(),i&&(b.removeClass(i),i=""),j&&(b.removeClass(j),j=""),a){var c,d=a.split(" ");c=2===d.length?f(d[0].trim(),d[1].trim()):e(a),j=c.iconSet&&!c.icon?c.iconSet.name+"-"+d[1].trim():c.icon.cssClass,c.iconSet&&c.iconSet.name!==n&&(i=c.iconSet.name,b.addClass(i)),b.addClass(j)}}function h(a,b){a=a&&a.trim(),k&&(b.removeClass(k),k=""),a&&(k=l+a+m,b.addClass(k))}var i,j,k,l="ion-branding-",m="-fg",n="ionicon";c.addClass(n),g(b.icon,c),h(b.color,c),b.$watch("icon",function(a,b){a===b&&j||g(a,c)}),b.$watch("color",function(a,b){a===b&&k||h(a,c)})};return{restrict:"E",scope:{icon:"@",color:"@"},replace:!0,link:b,template:"<span></span>"}}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.FONT_FILE_NAME="ionicon-8ac60617",a.ICONS={"--density-automatic":"","--density-compact":"","--density-selector":"","--density-touch":"","--density-web":"","--placeHolder":"",accept:"",acceptFilled:"",add:"",addComment:"",addFilled:"",appearanceOptions:"",arrowDown:"",arrowLeft:"",arrowRight:"",arrowUp:"",backArrow:"",barChart:"",calendar:"",cellFormatting:"",chart:"",clear:"",clearCalendar:"",clearFilter:"",clock:"",clockFilled:"",close:"","cloud-upload":"","collapse-area":"",collapse:"",connection:"",copy:"",cut:"",dashboard:"",delete:"",details:"",disclosure:"",document:"",download:"",dragHandler:"",duplicate:"",edit:"",editDashboard:"",editFilter:"",email:"",error:"",exit:"",expand:"",expand_area:"",export:"",feedback:"",filter:"",folder:"",grid:"",heart:"",help:"",hide:"",hierarchy:"",history:"",home:"",import:"",information:"",layout:"",leftArrow:"","list-view":"",maximize:"",messageEditor:"",minimize:"",minus:"",move:"",moveDown:"",moveleft:"",moveright:"",moveUp:"",multiSelect:"",newReports:"",notEqual:"",open:"",options:"",optionsVertical:"",password:"",paste:"",pin:"",popOut:"",print:"",private:"",public:"",refresh:"",reject:"",rename:"",reset:"",resetFilter:"",rightArrow:"",samples:"",save:"",saveAs:"",scorecard:"",search:"",settings:"",sharedFolder:"",show:"",signout:"",star:"",submit:"",switch:"",table:"",tag:"","tiles-view":"",triangleDown:"",triangleUp:"",undo:"",unpin:"",unshare:"",upload:"","user-error":"",user:"",userEditor:"",users:"",usersEditor:"",warning:"",widget:""}}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){var c,d="--";!function(a){a[a.EmbeddedOpenType=1]="EmbeddedOpenType",a[a.Woff=2]="Woff",a[a.Woff2=4]="Woff2",a[a.TrueType=8]="TrueType"}(c=b.FontFaceFormats||(b.FontFaceFormats={}));var e=function(){function a(a,b){var c=this;if(this.name=a,this._icons={},b){var e=Array.isArray(b)?b:Object.getOwnPropertyNames(b);e.forEach(function(b){Object.defineProperty(c._icons,b,{get:function(){return{key:b,cssClass:a+"-"+b}},enumerable:b.indexOf(d)===-1})})}}return Object.defineProperty(a.prototype,"icons",{get:function(){return this._icons},enumerable:!0,configurable:!0}),a}(),f=function(){function d(a){this.defaultIconSetName="ionicon",this.defaultIconSetFontFamily="IonIcon",this.iconPathGetter=a.has("ionweb.getIconPath")?a.get("ionweb.getIconPath"):function(a){return a},this.iconSetCollection={},this.loadDefaultSet()}return d.prototype.getDefaultSet=function(){return this.iconSetCollection[this.defaultIconSetName]},d.prototype.getIconSet=function(a){return this.iconSetCollection[a]},d.prototype.registerIconSet=function(d){if(!d)throw new Error(a.stringFormat(b.Strings.Err_Invalid_Icon_Set,{value:String(d)}));if(!d.name)throw new Error(a.stringFormat(b.Strings.Err_Icon_Set_Name_Missing,{name:String(name)}));if(this.iconSetCollection[d.name])throw new Error(a.stringFormat(b.Strings.Err_Duplicate_Icon_Set,{name:d.name}));this.iconSetCollection[d.name]=new e(d.name,d.iconKeys),this.registerFontFaces([{path:d.fontFile,descriptors:{"font-family":d.fontFamily||d.name,"font-weight":"normal","font-style":"normal","font-display":"block"},formats:c.EmbeddedOpenType|c.TrueType|c.Woff}])},d.prototype.loadDefaultSet=function(){this.registerIconSet({name:this.defaultIconSetName,fontFamily:this.defaultIconSetFontFamily,fontFile:this.iconPathGetter(b.FONT_FILE_NAME),iconKeys:b.ICONS}),this.registerFontFaces([{path:this.iconPathGetter.getBootstrapPath?this.iconPathGetter.getBootstrapPath("glyphicons-halflings-regular"):this.iconPathGetter("glyphicons-halflings-regular"),descriptors:{"font-family":"'Glyphicons Halflings'"},formats:b.FontFaceFormats.EmbeddedOpenType|b.FontFaceFormats.Woff2|b.FontFaceFormats.Woff|b.FontFaceFormats.TrueType}])},d.prototype.registerFontFaces=function(a){var b=a.map(function(a){var b=Object.getOwnPropertyNames(a.descriptors).map(function(b){var c=a.descriptors[b];return b+": "+c}).join("; "),d=a.formats&c.EmbeddedOpenType?"src: url('"+a.path+".eot');":"",e=[],f=function(b,c){e.push("url('"+a.path+b+"') format('"+c+"')")};a.formats&c.EmbeddedOpenType&&f(".eot?#iefix","embedded-opentype"),a.formats&c.Woff2&&f(".woff2","woff2"),a.formats&c.Woff&&f(".woff","woff"),a.formats&c.TrueType&&f(".tff","truetype");var g=e.join(", ");return"@font-face { "+b+"; "+d+" src: "+g+"; } \n"}).join("\n"),d=document.createElement("style");d.innerHTML=b,document.getElementsByTagName("head")[0].appendChild(d)},d}();b.IconService=f,angular.module("ionwebTk").service("ionweb.iconService",["$injector",f])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){var c=function(){function a(){this.restrict="E",this.templateUrl="toolkit/button/button.tpl.html",this.scope={role:"@?",color:"@?",icon:"@?",iconColor:"@?",iconPlacement:"@?",tabindex:"@?"},this.transclude=!0,this.controller=d,this.controllerAs="ctrl",this.bindToController=!0}return a}(),d=function(){function b(a,b,c){this.$element=a,this.$scope=b,this.$attrs=c}return b.prototype.$onInit=function(){var a=this;this.$attrs.tabindex||this.$element.attr("tabindex","0"),this.setColor(),this.$scope.$watchGroup(["ctrl.color","ctrl.role"],function(b,c){b!==c&&a.setColor()})},b.prototype.setColor=function(){this.currentClass&&(this.$element.removeClass(this.currentClass),this.currentClass="");var c;c="primary"===this.role&&a.isValidIonPaletteColor(this.color)?this.color:this.role||b.defaultColor;var d="btn "+b.baseBtnClassPrefix+c;this.$element.addClass(d),this.currentClass=d},b.defaultColor="none",b.baseBtnClassPrefix="ionbtn ionbtn-",b.$inject=["$element","$scope","$attrs"],b}();angular.module("ionwebTk").directive("ionButton",function(){return new c})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){angular.module("ionwebTk").directive("ionwebButton",[function(){function b(b,e){b._curClass&&(e.removeClass(b._curClass),b._curClass="");var f;f="primary"===b.role&&a.isValidIonPaletteColor(b.color)?b.color:b.role||c;var g="btn "+d+f;e.addClass(g),b._curClass=g}var c="none",d="ionbtn-",e={templateUrl:"toolkit/ionbutton/ionButtonDirective.tpl.html",restrict:"E",transclude:!0,scope:{icon:"@?",iconPlacement:"@?",color:"@?",role:"@?",iconColor:"@?"},replace:!0,link:function(a,c){a.$watchGroup(["color","role"],function(d,e){e!==d&&b(a,c)}),b(a,c)}};return e}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){angular.module("ionwebTk").directive("ionwebSwitch",[function(){var a={templateUrl:"toolkit/ionswitch/ionSwitchDirective.tpl.html",restrict:"E",transclude:!0,scope:{icon:"@?",iconOn:"@?",iconOff:"@?",textOn:"@?",textOff:"@?",iconPlacement:"@?",color:"@?",state:"=ngModel",disabled:"=ngDisabled",style:"@?"},controller:["$scope",function(a){function b(){a.state?(a.buttonText=a.textOn,a.buttonIcon=a.iconOn||a.icon,a.role="primary"):(a.buttonText=a.textOff,a.buttonIcon=a.iconOff||a.icon,a.role="")}a.toggle=function(){a.state=!a.state,b()},a.$watchGroup(["icon","iconOn","iconOff","textOn","textOff","color","state"],function(){b()}),b()}]};return a}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b=function(){function a(){}return a.define=function(b,c){a.plugins.push({id:b,handler:c})},a.load=function(b,c){function d(){var a=b.defer();return"undefined"!=typeof window.Selectize?a.resolve(window.Selectize):window.require(["selectize"],function(b){a.resolve(b)},function(b){a.reject(b)}),a.promise}a.selectize||(a.selectize=d().then(function(b){a.plugins.forEach(function(a){b.define(a.id,a.handler)})})),a.selectize.then(function(){return c()})},a.plugins=[],a}();a.SelectizeLoader=b}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.SelectizeLoader.define("add_item_plugin",function(a){var b=this,c=function(a,b,c){var d,e=a.trigger,f={};a.trigger=function(){var c=arguments[0];return b.indexOf(c)===-1?e.apply(a,arguments):void(f[c]=arguments)},c.apply(a,[]),a.trigger=e;for(d in f)f.hasOwnProperty(d)&&e.apply(a,f[d])},d=function(a){return"undefined"==typeof a||null===a?null:"boolean"==typeof a?a?"1":"0":a+""};this.addItem=function(a,e){var f=e?[]:["change"];c(b,f,function(){var b,c,f,g,h,i=this,j=i.settings.mode;return a=d(a),i.items.indexOf(a)!==-1?void("single"===j&&i.close()):void(i.getOptionForItem(a)&&("single"===j&&i.clear(e),"multi"===j&&i.isFull()||(b=$(i.render("item",i.getOptionForItem(a))),h=i.isFull(),i.items.splice(i.caretPos,0,a),i.insertAtCaret(b),(!i.isPending||!h&&i.isFull())&&i.refreshState(),i.isSetup&&(f=i.$dropdown_content.find("[data-selectable]"),i.isPending||(c=i.getOption(a),g=i.getAdjacentOption(c,1).attr("data-value"),"single"!==j&&i.isOpen?i.refreshOptions(i.isFocused):i.isOpen&&i.$dropdown_content.html(i.$dropdown_content.html()),g&&i.setActiveOption(i.getOption(g))),!f.length||i.isFull()?i.close():i.positionDropdown(),i.updatePlaceholder(),i.trigger("item_add",a,b),i.updateOriginalInput({silent:e})))))})}})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){var c=1.5,d=function(){function b(){this.currentKeyDownKey=null,this.ignoreNextKeyUp=null,this.navigationMode=!1}return b.prototype.inNavigationMode=function(){return this.navigationMode},b.prototype.beginKeyDown=function(a){this.ignoreNextKeyUp=null,this.currentKeyDownKey=a.keyCode},b.prototype.endKeyDown=function(a){this.currentKeyDownKey=null,this.ignoreNextKeyUp||(this.navigationMode=!1)},b.prototype.processKeyUp=function(b){var c=this.ignoreNextKeyUp;this.ignoreNextKeyUp=null;var d=b.keyCode===c;return b.keyCode===a.KeyCodes.ESC&&d&&(this.navigationMode=!1),d},b.prototype.enterNavigationMode=function(a){this.navigationMode||(this.userText=a),this.ignoreNextKeyUp=this.currentKeyDownKey,this.navigationMode=!0},b.prototype.skipKeyUp=function(a){this.ignoreNextKeyUp=a.keyCode},b.prototype.getUserText=function(){return this.userText},b.prototype.revertNavigationMode=function(){var a=this.navigationMode;return this.navigationMode=!1,a},b}();b.SelectizeLoader.define("advanced_keyboard",function(){function b(a){return a.$activeOption&&a.$activeOption.attr("data-value")}function e(a){return a.options[b(a)]}function f(a){var c=e(a);return c&&c[a.settings.labelField]||b(a)}var g=this,h=new d,i=this,j=function(a,b){var c=g.$dropdown_content.height(),d=a.outerHeight(!0),e=Math.floor(c/d),f=g.getAdjacentOption(a,b*e);return f&&f.length||(f=g.$dropdown_content.find(b>0?"[data-selectable]:last":"[data-selectable]:first")),f},k=this.onKeyDown;this.onKeyDown=function(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];var f=b[0];h.beginKeyDown(f);var l=!1;try{var m=function(){var a=f.keyCode>=97&&f.keyCode<=122||f.keyCode>=65&&f.keyCode<=90||f.keyCode>=48&&f.keyCode<=57||32===f.keyCode;return a&&!g.$control_input.val()&&"single"===i.settings.mode&&i.onFocus(),k.apply(g,b)};switch(f.keyCode){case a.KeyCodes.DOWN:if(!g.isOpen&&g.hasOptions)g.open();else if(g.$activeOption){g.ignoreHover=!0;var n=g.getAdjacentOption(g.$activeOption,1);n.length&&g.setActiveOption(n,!0,!0)}else g.setActiveOption(g.$dropdown_content.find("[data-selectable]:first"),!0,!0);h.skipKeyUp(f),f.preventDefault();break;case a.KeyCodes.PAGE_DOWN:if(!g.isOpen&&g.hasOptions)g.open();else if(g.$activeOption){g.ignoreHover=!0;var o=j(g.$activeOption,1);o.length&&g.setActiveOption(o,!0,!0)}else g.setActiveOption(g.$dropdown_content.find("[data-selectable]:first"),!0,!0);h.skipKeyUp(f),f.preventDefault();break;case a.KeyCodes.PAGE_UP:if(g.$activeOption){g.ignoreHover=!0;var p=j(g.$activeOption,-1);p.length&&g.setActiveOption(p,!0,!0)}h.skipKeyUp(f),f.preventDefault();break;case a.KeyCodes.ESC:var q=h.revertNavigationMode();g.settings.modelValue?g.addItem(i.settings.modelValue()):q&&g.setTextboxValue(h.getUserText()),k.apply(g,b);break;case a.KeyCodes.TAB:case a.KeyCodes.ENTER:if(f.keyCode===a.KeyCodes.TAB&&(l=!0),!g.settings.createOnBlur)return h.skipKeyUp(f),m();var r=e(g),s=0;if(r){var t=$.trim(g.$control_input.val());s=t?t.toLowerCase()===r[g.settings.labelField].toLowerCase()?c:0:c}s<c?(g.createItem(null,!1),i.$activeOption&&(i.$activeOption.removeClass("active"),i.$activeOption=null)):k.apply(g,b);break;case a.KeyCodes.UP:case a.KeyCodes.LEFT:case a.KeyCodes.RIGHT:return h.skipKeyUp(f),m();default:return m()}}finally{l&&i.isOpen&&i.close(),h.endKeyDown(f),i.keyPressed=!0}};var l=this.onKeyUp;this.onKeyUp=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c=a[0],d=h.processKeyUp(c);d?c.stopPropagation():l.apply(g,a),i.keyPressed=!1};var m=this.setActiveOption;this.setActiveOption=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c=a[1];if(m.apply(g,a),c===!0){var d=g.$control_input.val();g.setTextboxValue(f(g)),h.enterNavigationMode(d)}}})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.SelectizeLoader.define("advanced_option_selector",function(a){var b=this,c=this,d=function(){var a=c.currentResults&&c.currentResults.items&&0===c.currentResults.items.length&&!b.getQueryString(),d=c.currentResults&&c.currentResults.items&&c.currentResults.items[0],e=c.$control_input.get(0).value;if(e&&!a&&d){for(var f=c.settings.create&&c.$dropdown_content.find("[free-text-data]:first"),g=10,h=null,i=0;i<c.currentResults.items.length&&c.currentResults.items[i].score>=g;)i++;if(i<c.currentResults.items.length||c.currentResults.items.length&&c.currentResults.items[0].score>g){var j=c.currentResults.items[i===c.currentResults.items.length?0:i],k=d.score;j&&j.score>k-g||(j=d),h=c.getOption(j.id)}}else;var l=h&&h.attr("data-value")&&c.options[h.attr("data-value")]&&c.options[h.attr("data-value")][c.settings.labelField];l=l&&l.toLowerCase(),e=e.toLowerCase();var m=c.settings.create?l===e:c.currentResults&&b.getQueryString();h&&m?(c.$dropdown_content&&c.$dropdown_content.length&&f&&f.length&&c.$dropdown_content[0].removeChild(f[0]),j&&(h=c.getOption(j.id)),c.$dropdown_content.stop().animate({scrollTop:0},0),c.setActiveOption(h,!1,!1)):f?c.setActiveOption(f):c.setActiveOption(null)};this.on("load",function(){d()}),this.on("type",function(){c.$control_input.get(0).value||(c.$dropdown_content.stop().animate({scrollTop:0},0),c.setActiveOption(null)),d()}),this.on("dropdown_open",function(){c.$control_input.get(0).value||(c.$dropdown_content.stop().animate({scrollTop:0},0),c.setActiveOption(null)),d()})})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.SelectizeLoader.define("autoselect_on_focus",function(a){var b=this,c=this,d=function(){return"single"===c.settings.mode},e=null,f=!1;this.setup=function(){var a=c.setup;return function(){a.apply(this,arguments),c.$control.on("mousedown touchstart","*:not(input)",function(a){$(document.body).hasClass("autocomplete-fullview")&&!d()&&a.stopPropagation()}),c.$control_input.on("touchstart",function(a){$(document.body).hasClass("autocomplete-fullview")&&a.stopPropagation()}),c.$dropdown_content.on("touchstart",function(a){f=!0}),c.$dropdown_content.on("touchend touchleave touchcancel",function(a){f=!1})}}(),c.autoselectOnFocusRestoredLabel=null,this.adjustWidgetOnFocus=function(){c.$wrapper.addClass("focus"),c.$control.children("input").css("display",""),c.isOpen&&c.positionDropdown()},this.onFocus=function(){var a=c.onFocus;return function(){if(a.apply(this,arguments),d()&&c.items.length>0&&c.settings.editable){var b=c.getOptionForItem(c.items[0]);b&&b[c.settings.labelField]&&(e=c.items[0],c.autoselectOnFocusRestoredLabel=b[c.settings.labelField],c.removeItem(c.items[0],!0),c.setTextboxValue(c.autoselectOnFocusRestoredLabel),c.setActiveOption(null))}else c.settings.editable||c.settings.readonly||(c.hideInput(),c.isOpen||(c.onSearchChange(""),c.open()));this.adjustWidgetOnFocus(),c.$control_input.select(),c.$control_input.get(0).setSelectionRange(0,99999)}}();var g=function(a,b){if(c.isFocused&&(c.isFocused=!1,!c.ignoreFocus)){if(!c.ignoreBlur&&document.activeElement===c.$dropdown_content[0])return c.ignoreBlur=!0,void c.onFocus(a);var d=function(){c.close(),c.setTextboxValue(""),c.setActiveItem(null),c.setActiveOption(null),c.setCaret(c.items.length),c.refreshState(),b&&b.focus(),c.ignoreFocus=!1,c.trigger("blur")},e=c.$control_input.val()||"";c.keyPressed&&e&&(c.trigger("type",e),c.keyPressed=!1),c.ignoreFocus=!0,c.settings.create&&c.settings.createOnBlur?c.createItem(null,!1,d):d()}};this.showInput=function(){var a=c.showInput;return function(){c.settings.editable&&a.apply(this,arguments)}}(),this.adjustWidgetOnBlur=function(){c.$wrapper.removeClass("focus"),c.$control.children("input")[0].style.setProperty("display","none")},this.blur=function(){return function(a){c.onBlur(null,a),c.$control_input[0].blur()}}(),this.restoreItem=function(){return!!(d()&&e&&c.autoselectOnFocusRestoredLabel===c.$control_input.get(0).value&&c.getOptionForItem(e)&&document.activeElement!==c.$dropdown_content[0])&&(c.addItem(e),!0)},this.onBlur=function(){return function(a){f||(this.restoreItem(),g.apply(this,arguments),this.adjustWidgetOnBlur())}}(),this.getOptionForItem=function(a){return d()===!0?b.getRestoreCacheItemOpt(a):b.options[a]}}),a.SelectizeLoader.define("restore_cache",function(){var a=this,b=this;this.restoreCache={},this.clearOptions=function(){var a=b.clearOptions;return function(){var c=b.settings.modelValue&&b.settings.modelValue(),d=[];if(c)if(c instanceof Array)for(var e=0;e<c.length;e++)b.options[c[e]]&&d.push(b.options[c[e]]);else b.options[c]&&d.push(b.options[c]);a.apply(this,arguments),d.forEach(function(a){b.registerOptionInRestoreCache(a)})}}(),b.on("item_add",function(c){a.options[c]&&b.registerOptionInRestoreCache(a.options[c])}),b.on("item_remove",function(a){b.settings.modelValue()!==a&&delete b.restoreCache[a]}),b.registerOptionInRestoreCache=function(c){for(var d=Object.keys(a.restoreCache),e=0;e<d.length;e++)delete a.restoreCache[d[e]];a.restoreCache[c[b.settings.valueField]]=c},b.clearRestoreCache=function(){a.restoreCache={}},b.getRestoreCacheItemOpt=function(b){var c=a.restoreCache[b];return void 0===c&&(c=a.options[b],c&&a.registerOptionInRestoreCache(c)),c}})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.SelectizeLoader.define("buttons",function(b){function c(){for(var a=0,b=e.$control.children("div[data-value]"),c=e.$wrapper.innerWidth()-e.$wrapper.children("span.buttons-container").outerWidth(),d=0;d<b.length;d++)if(a+=$(b[d]).outerWidth(!0),a>c)return!0;return!1}var d=this;b=$.extend({showUserButton:!1,userButtonCssClassName:"user-button",showArrowButton:!0,arrowButtonCssClassName:"arrow-button",arrowUpButtonIonIconKey:"triangleUp",disclosureButtonIonIconKey:"disclosure",arrowDownButtonIonIconKey:"triangleDown",showClearButton:!0,clearButtonCssClassName:"clear-button",moreButtonCssClassName:"more-button",clearButtonIonIconKey:"clear"},b);var e=this,f=function(){return"single"===e.settings.mode},g=b.context().scope;g.$watch("subContent",function(a,b){a!==b&&u()});var h=function(a,b){return angular.element('<a class="ioniconbutton '+a+'" tabindex="-1"><span class="ionicon ionicon-'+b+'"></span></a>')},i=function(){function a(a){var b={};return"backgroundColor"in a&&(b["background-color"]=a.backgroundColor),"fontWeight"in a&&(b["font-weight"]=a.fontWeight),"color"in a&&(b.color=a.color),b}var c=b.context().scope,d=c.subContent;c.subContent.htmlStyle=a(d.style);var e='<a tabindex="-1" ng-style="subContent.htmlStyle" class="ionicons autocomplete-subcontent {{\'ionbtn-\' + subContent.style.paletteColor}}" title="{{subContent.tooltip}}"><span style="vertical-align: middle">{{subContent.text}}</span></a>',f=b.context(),g=angular.element(e),h=f.compile(g)(c);return h.on("mousedown",function(a){1===a.which&&(a.preventDefault(),a.stopPropagation())}),h},j=function(a,b){d.$wrapper.on("mousedown","."+a,function(c){1===c.which&&(c.preventDefault(),d.isLocked||(e.settings.closePopup&&e.settings.closePopup(a),b&&b()),c.stopPropagation())})},k=function(a,b){d.$wrapper.on("mousedown","."+a,function(a){1===a.which&&(a.preventDefault(),a.stopPropagation())}),d.$wrapper.on("click","."+a,function(c){d.isLocked||(e.settings.closePopup&&e.settings.closePopup(a),b&&b())})},l=function(a){d.$wrapper.off("mousedown","."+a),d.$wrapper.off("click","."+a)},m=h(b.userButtonCssClassName,b.userButtonIonIconKey),n=function(){e.isOpen&&e.close(),b.userButtonAction()},o=h(b.arrowButtonCssClassName,b.arrowUpButtonIonIconKey),p=h(b.arrowButtonCssClassName,b.arrowDownButtonIonIconKey),q=!f()&&h(b.moreButtonCssClassName,b.disclosureButtonIonIconKey);this.buttonsStateRefresh=function(a){void 0===a.showArrowButton&&(a.showArrowButton=!0),void 0===a.showClearButton&&(a.showClearButton=!0),b.showArrowButton===a.showArrowButton||a.showArrowButton||(this.isOpen?o.parent()&&o.remove():p.parent()&&p.remove()),b.showClearButton===a.showClearButton||a.showClearButton||s.parent()&&s.remove(),b.showUserButton===a.showUserButton||a.showUserButton||m.parent()&&m.remove(),l(b.userButtonCssClassName),b.userButtonIonIconKey!=a.userButtonIonIconKey&&(m.parent()&&(m.remove(),m.destroy()),m=h(b.userButtonCssClassName,a.userButtonIonIconKey)),b.showArrowButton=a.showArrowButton,b.showClearButton=a.showClearButton,b.showUserButton=a.showUserButton,b.userButtonAction=function(){e.isOpen&&e.close(),a.userButtonAction()},b.userButtonIonIconKey=a.userButtonIonIconKey,k(b.userButtonCssClassName,b.userButtonAction),(b.showArrowButton||b.showClearButton||b.showUserButton)&&u()};var r=function(){if(e.isOpen)e.close();else{var a=e.$control_input&&e.$control_input.val();a&&0!==Object.keys(e.options).length||d.onSearchChange(""),e.open()}},s=h(b.clearButtonCssClassName,b.clearButtonIonIconKey),t=function(){var a=d.lastValue;d.clear(),d.refreshOptions(),d.setTextboxValue(""),e.isDynamic()&&e.onSearchChange(""),a&&(d.lastValue="",e.onSearchChange(""),d.trigger("type",""))},u=function(){var c=e.$wrapper.children("span.buttons-container");c&&c.remove(),c=angular.element('<span class="buttons-container"></span>');var g=function(b,d){var f=function(b){return b===!0||b===a.VisibilityType.Always||b===a.VisibilityType.OnHover},g=function(b){return b===!0&&e.settings.showOnHover||b===a.VisibilityType.OnHover};f(d)&&c.append(b),g(d)?b.addClass("button-hover-on-display"):b.removeClass("button-hover-on-display")};g(m,b.showUserButton),g(d.isOpen?o:p,b.showArrowButton),g(s,b.showClearButton),f()||c.append(q.addClass("hidden")),b.context().scope.subContent&&c.append(i()),d.$wrapper.append(c)},v=function(){b.showUserButton&&k(b.userButtonCssClassName,n),j(b.arrowButtonCssClassName,r),j(b.clearButtonCssClassName,t),f()||k("more-button",function(){b.context().scope.moreButtonClick.call(e)})};this.on("clear",function(){u()}),this.on("dropdown_open",function(){p.parent().length&&p.replaceWith(o),g.onDropdownStateChanged&&g.onDropdownStateChanged({autocomplete:d})}),this.on("dropdown_close",function(){o.parent().length&&o.replaceWith(p),g.onDropdownStateChanged&&g.onDropdownStateChanged({autocomplete:d})}),this.setup=function(){var a=d.setup;return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];a.apply(d,b),v(),u()}}(),this.setMoreButton=function(){return!f()&&void setTimeout(function(){
return e.$wrapper&&c()?(q.removeClass("hidden"),!0):(q.addClass("hidden"),!1)},0)}})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){var c=1,d=function(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};b.SelectizeLoader.define("clear_options_override",function(){var b=this;this.clearOptions=function(){return function(a){var c=b.renderCache.item;b.loadedSearches={},b.userOptions={},b.renderCache={},b.renderCache.item=c,b.options=b.sifter.items={},b.lastQuery=null,b.trigger("option_clear")}}(),this.updateOriginalInput=function(){return function(b){var e,f,g,h,i=this;b=b||{};var j=i.$input.val();if(i.tagType===c){for(g=[],e=0,f=i.items.length;e<f;e++)h=i.options[i.items[e]]&&i.options[i.items[e]][i.settings.labelField]||"",g.push('<option value="'+d(i.items[e])+'" selected="selected">'+d(h)+"</option>");g.length||this.$input.attr("multiple")||g.push('<option value="" selected="selected"></option>'),i.$input.html(g.join(""))}else i.$input.val(i.getValue()),i.$input.attr("value",i.$input.val());i.isSetup&&(b.silent||(a.equals(j,i.$input.val())||i.trigger("change",i.$input.val()),"multi"===i.settings.mode&&i.setMoreButton()))}}()})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.SelectizeLoader.define("copy_paste_items",function(a){var b=this,c=this,d=67,e=this.onKeyDown;this.onKeyDown=function(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];var g=a[0];g.keyCode===d&&(g.ctrlKey||g.metaKey)?c.onCopy(g):e.apply(b,a)},this.onCopy=function(a){a.preventDefault();var b,d,e,f=[],g=c.settings.labelField;if("multi"===c.settings.mode)if(c.items&&0!==c.items.length)if(c.$activeItems&&c.$activeItems.length)for(var h=0,i=c.$activeItems.length;h<i;h++)c.$activeItems[h].hasAttribute("data-value")&&(b=c.$activeItems[h].attributes["data-value"].value,b&&(d=c.options[b]&&c.options[b][g],e=e?e+c.settings.delimiter+d:d,f.push({value:b,label:d})));else c.items.forEach(function(a){a&&(d=c.options[a]&&c.options[a][g],e=e?e+c.settings.delimiter+d:d,f.push({value:a,label:d}))});else e=$.trim(c.$control_input.val());else b=c.settings.modelValue&&c.settings.modelValue(),b&&(d=c.options[b]&&c.options[b][g],f.push({value:b,label:d}),e=d||b);if(e){if(c.settings.copyToClipboard(e),f.length){var j={id:e,key:c.settings.key,items:f};localStorage.setItem("acbCopiedItems",JSON.stringify(j))}this.focus()}},this.onPaste=function(a){function b(){c.setTextboxValue(""),a.preventDefault()}function d(a,b){c.setTextboxValue(a),b&&(c.clearOptions(),c.addOption(b)),g(!0)}function e(a,b){var d=0,e=a[c.settings.valueField].toString().toLowerCase(),f=a[c.settings.labelField].toLowerCase(),g=b.value.toLowerCase();return e===g||f===g?d=i:e.indexOf(g)===-1&&f.indexOf(g)===-1||(d=j),d}function f(a,b,f){var h=0,j=!1,k=a.filter(function(a){var c=e(a,b);if(h+=c,c===i)return j=!0,!0});if(f&&h!=i)d(b.label,a);else if(j){var l=k[0][c.settings.valueField].toString();c.settings.$q.when(c.addItem(l)).then(function(){c.items.indexOf(l)<0?f?d(b.label,a):c.settings.allowFreeText&&c.createItem(b.label||b.value):f&&g(!1)})}else c.settings.allowFreeText&&c.createItem(b.label||b.value);c.refreshOptions()}function g(a){c.isOpen&&!a&&c.close()}function h(a){for(var b,h,j,k,l,m,n=a.length,o=function(o){b=[],h=0,j=!1,k=o===n-1;for(var p in c.options)l=e(c.options[p],a[o]),l===i&&(j=!0,b.push(p)),h+=l;k&&h!=i&&!c.isDynamic()?(m=a[o].label||a[o].value,d(m)):j?(c.addItem(b[0]),o===n-1&&(c.refreshOptions(),g(!1))):c.isDynamic()?c.settings.loadOptions(a[o].label,function(b){var c=o===n-1;f(b,a[o],c)}):k?(d(a[o].label),c.refreshOptions()):c.settings.allowFreeText&&c.createItem(a[o].label||a[o].value)},p=0;p<n;p++)o(p)}var i=1.5,j=1;if(c.isFull()||c.isInputHidden||c.isLocked)return void b();var k=!0;setTimeout(function(){var a=$.trim(c.$control_input.val());if(a){var d=localStorage.getItem("acbCopiedItems"),e={};try{d&&(e=JSON.parse(d))}catch(a){d=""}if(c.settings.key&&c.settings.key!==e.key)return void b();if(d&&e.id===a)e.items&&e.items.length||(k=!1);else{var f=[];if(c.settings.delimiter?f=a.split(c.settings.delimiter):f.push(a),f&&f.length){var g=[],i=!1;f.forEach(function(a){var b=e.items&&e.items.filter(function(b){return b.label===a})[0];b?(g.push(b),i=!0):g.push({value:a,label:a})}),e.items=g.slice(),i||localStorage.removeItem("acbCopiedItems")}else k=!1}if(!k)return void b();c.$control_input.val(""),c.settings.validatePaste?c.settings.$q.when(c.settings.validatePaste({value:e.items})).then(function(a){a?h(e.items):b()}):h(e.items)}},0)}})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){b.SelectizeLoader.define("custom_refresh_option",function(b){function c(a,b){function c(a,b){if(a.data){var c=document.createElement("span");c.className=b,c.appendChild(a.cloneNode(!0)),a.parentNode.replaceChild(c,a)}}function d(a){var b=0;if(3===a.nodeType){var f=a.data.search(e);if(f>=0&&a.data.length>0){if(a.parentNode&&"span"===a.parentNode.localName){if("match"===a.parentNode.className)return 1;if("not-match"===a.parentNode.className){var g=a.parentNode,h=g.parentNode;g.removeChild(a),h.replaceChild(a,g)}}var i=a.data.match(e),j=a,k=j.splitText(f),l=k.splitText(i[0].length);c(j,"not-match"),c(k,"match"),c(l,"not-match"),b=1}}else if(1===a.nodeType&&a.childNodes&&!/(script|style)/i.test(a.tagName))for(var m=0;m<a.childNodes.length;++m)m+=d(a.childNodes[m]);return b}if("string"!=typeof b||b.length){var e="string"==typeof b?new RegExp(b,"i"):b;return a.each(function(){d(this)})}}var d=this,e=this,f=function(a){return"undefined"==typeof a||null===a?null:"boolean"==typeof a?a?"1":"0":a+""},g=this.onKeyDown;this.onKeyDown=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];var f=b[0],h=g.apply(d,b);return f.keyCode!==a.KeyCodes.DOWN&&f.keyCode!==a.KeyCodes.PAGE_DOWN||e.$activeOption&&e.$activeOption.length||e.setActiveOption(e.$dropdown_content.find("[data-selectable]:first"),!0,!1),h},this.getQueryString=function(){var a=e.$control_input[0]&&e.$control_input.val().substring(e.$control_input[0].selectionStart,e.$control_input[0].selectionEnd),b=e.$control_input.val()==a?"":$.trim(e.$control_input.val());return b},this.refreshOptions=function(){return function(a){var b,d,e,g,h,i,j,k,l,m,n,o,p,q,r,s,t=this;"undefined"==typeof a&&(a=!0);var u=this;if(!u.isDestroyed){var v=this.getQueryString(),w=u.search(u.isDynamic()?"":v),x=u.$dropdown_content,y=u.$activeOption&&f(u.$activeOption.attr("data-value"));for(this.results=w,g=w.items.length,"number"==typeof u.settings.maxOptions&&(g=Math.min(g,u.settings.maxOptions)),h={},i=[],b=0;b<g;b++)for(j=u.options[w.items[b].id],k=u.render("option",j),l=j[u.settings.optgroupField]||"",m=$.isArray(l)?l:[l],d=0,e=m&&m.length;d<e;d++)l=m[d],u.optgroups.hasOwnProperty(l)||(l=""),h.hasOwnProperty(l)||(h[l]=[],i.push(l)),h[l].push(k);for(this.settings.lockOptgroupOrder&&i.sort(function(a,b){var c=t.optgroups[a]&&t.optgroups[a].$order||0,d=t.optgroups[b]&&t.optgroups[b].$order||0;return c-d}),n=[],b=0,g=i.length;b<g;b++)l=i[b],u.optgroups.hasOwnProperty(l)&&h[l].length?(o=u.render("optgroup_header",u.optgroups[l])||"",o+=h[l].join(""),n.push(u.render("optgroup",$.extend({},u.optgroups[l],{html:o})))):n.push(h[l].join(""));if(x.html(n.join("")),u.settings.highlight&&w.query.length&&w.tokens.length)for(b=0,g=w.tokens.length;b<g;b++)c(x,w.tokens[b].regex);if(!u.settings.hideSelected)for(b=0,g=u.items.length;b<g;b++)u.getOption(u.items[b]).addClass("selected");p=u.canCreate(v);var z=u.autoselectOnFocusRestoredLabel&&u.autoselectOnFocusRestoredLabel.toLowerCase()==u.$control_input.get(0).value.toLowerCase();p&&!z&&(x.prepend(u.render("option_create",{input:v})),s=$(x[0].childNodes[0])),u.hasOptions=w.items.length>0||p,u.hasOptions?(w.items.length>0?(r=y&&u.getOption(y),r&&r.length?q=r:"single"===u.settings.mode&&u.items.length&&(q=null),q&&q.length||(q=s&&!u.settings.addPrecedence?u.getAdjacentOption(s,1):null)):q=s,u.setActiveOption(q),a&&!u.isOpen&&u.open()):u.setActiveOption(null)}}}()})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.SelectizeLoader.define("custom_search",function(b){var c=this,d=this,e=function(a){return(a+"").replace(/^\s+|\s+$|/g,"")},f=function(a){return(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},g={a:"[aÀÁÂÃÄÅàáâãäåĀāąĄ]",c:"[cÇçćĆčČ]",d:"[dđĐďĎð]",e:"[eÈÉÊËèéêëěĚĒēęĘ]",i:"[iÌÍÎÏìíîïĪī]",l:"[lłŁ]",n:"[nÑñňŇńŃ]",o:"[oÒÓÔÕÕÖØòóôõöøŌō]",r:"[rřŘ]",s:"[sŠšśŚ]",t:"[tťŤ]",u:"[uÙÚÛÜùúûüůŮŪū]",y:"[yŸÿýÝ]",z:"[zŽžżŻźŹ]"},h=Array.isArray||"undefined"!=typeof $&&$.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},i=function(){var a,b,c,e,f="",h={};for(c in g)if(g.hasOwnProperty(c))for(e=g[c].substring(2,g[c].length-1),f+=e,a=0,b=e.length;a<b;a++)h[e.charAt(a)]=c;var i=new RegExp("["+f+"]","g");return function(a){var b=a.replace(i,function(a){return h[a]});return d.settings.queryOptions.isCaseSensitive||(b=b.toLowerCase()),b}}(),j=function(a,b){var c,d,e,f;for(c=1,d=arguments.length;c<d;c++)if(f=arguments[c])for(e in f)f.hasOwnProperty(e)&&(a[e]=f[e]);return a},k=function(a,b){return"number"==typeof a&&"number"==typeof b?a>b?1:a<b?-1:0:(a=i(String(a||"")),b=i(String(b||"")),a>b?1:b>a?-1:0)},l=function(a,b,c){if(a&&b){if(!c)return a[b];for(var d=b.split(".");d.length&&(a=a[d.shift()]););return a}};this.sifter.tokenize=function(b){if(b=e(String(b||"")),d.settings.queryOptions.isCaseSensitive||(b=b.toLowerCase()),!b||!b.length)return[];var h,i,j,k,l=[],m=d.settings.queryOptions&&d.settings.queryOptions.filterCriteria==a.AutocompleteFilterCriteria.MultiToken?b.split(/ +/):[b];for(h=0,i=m.length;h<i;h++){if(j=f(m[h]),c.sifter.settings.diacritics)for(k in g)g.hasOwnProperty(k)&&(j=j.replace(new RegExp(k,"g"),g[k]));d.settings.queryOptions&&d.settings.queryOptions.filterCriteria==a.AutocompleteFilterCriteria.StartsWith&&j.length>0&&(j="^"+j),l.push({string:m[h],regex:d.settings.queryOptions.isCaseSensitive?new RegExp(j):new RegExp(j,"i")})}return l},this.sifter.prepareSearch=function(a,b){if("object"==typeof a)return a;b=j({},b);var e=b.fields,f=b.sort,g=b.sort_empty;e&&!h(e)&&(b.fields=[e]),f&&!h(f)&&(b.sort=[f]),g&&!h(g)&&(b.sort_empty=[g]);var i=String(a||"");return d.settings.queryOptions.isCaseSensitive||(i=i.toLowerCase()),{options:b,query:i,tokens:c.sifter.tokenize(a),total:0,items:[]}},this.sifter.getSortFunction=function(a,b){var d,e,f,g,h,i,j,m,n,o;if(a=c.sifter.prepareSearch(a,b),o=!a.query&&b.sort_empty||b.sort,m=function(a,d){return"$score"===a?d.score:l(c.sifter.items[d.id],a,b.nesting)},g=[],o)for(d=0,e=o.length;d<e;d++)(a.query||"$score"!==o[d].field)&&g.push(o[d]);if(a.query){for(n=!0,d=0,e=g.length;d<e;d++)if("$score"===g[d].field){n=!1;break}n&&g.unshift({field:"$score",direction:"desc"})}else for(d=0,e=g.length;d<e;d++)if("$score"===g[d].field){g.splice(d,1);break}for(j=[],d=0,e=g.length;d<e;d++)j.push("desc"===g[d].direction?-1:1);return h=g.length,h?1===h?(f=g[0].field,i=j[0],function(a,b){return i*k(m(f,a),m(f,b))}):function(a,b){var c,d,e;for(c=0;c<h;c++)if(e=g[c].field,d=j[c]*k(m(e,a),m(e,b)))return d;return 0}:null}})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.SelectizeLoader.define("delete_selection",function(){var a=this,b=this.deleteSelection;this.deleteSelection=function(){var c=a.isOpen,d=b.apply(this,arguments);return c?this.positionDropdown():this.close(),d}})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){b.SelectizeLoader.define("disable_cache",function(){var b=this;this.onSearchChange=function(){var a=b.onSearchChange;return function(){b.loadedSearches={},a.apply(this,arguments),this.clearOptions()}}(),this.onKeyDown=function(){var c=b.onKeyDown;return function(){var d=arguments[0];switch(d.keyCode){case a.KeyCodes.DOWN:var e=b.isOpen;e?c.apply(b,arguments):(b.onSearchChange(""),b.open());break;default:c.apply(b,arguments)}}}(),this.setup=function(){var a=b.setup;return function(){a.apply(b,arguments),"single"!==b.settings.mode&&b.settings.editable||b.$control.on("mousedown",function(){b.settings.readonly||b.onSearchChange("")})}}()})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.SelectizeLoader.define("disable_selectize_sorting",function(){this.sifter.search=function(a,b){var c,d=this,e=this.prepareSearch(a,b);b=e.options,a=e.query;var f=b.score||d.getScoreFunction(e);a.length?d.iterator(d.items,function(a,d){c=f(a),(b.filter===!1||c>0)&&e.items.push({score:c,id:d})}):d.iterator(d.items,function(a,b){e.items.push({score:1,id:b})}),e.total=e.items.length,"number"==typeof b.limit&&(e.items=e.items.slice(0,b.limit));var g=this;return e.items.sort(function(a,b){return g.items[a.id].$order-g.items[b.id].$order}),e},this.addOption=function(a){var b,c,d,e=this;if($.isArray(a))for(b=0,c=a.length;b<c;b++)delete e.options[a[b][e.settings.valueField]],delete a[b].$order,e.addOption(a[b]);else(d=e.registerOption(a))&&(e.userOptions[d]=!0,e.lastQuery=null,e.trigger("option_add",d,a))}})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.SelectizeLoader.define("dropdown_autowidth",function(a){var b=this;this.positionDropdown=function(){var a=b.positionDropdown;return function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];a.apply(b,c);var e=b.$control,f=b.$wrapper,g={minWidth:e.outerWidth()+f.children("span.buttons-container").outerWidth(!0),width:"auto"};window.innerWidth/2<f.offset().left+f.width()/2?(g.right=window.innerWidth-f[0].getBoundingClientRect().right,g.left="auto"):g.right="auto",b.$dropdown.css(g)}}()}),a.SelectizeLoader.define("dropdown_position",function(a){var b=this;this.positionDropdown=function(){b.positionDropdown;return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var d=b.$control,e=b.$wrapper,f=200,g=2,h=d.offset().top+d.outerHeight(!0),i={minWidth:d.outerWidth()+e.children("span.buttons-container").outerWidth(!0),width:"auto",top:h,bottom:"auto",left:d.offset().left,right:"auto"},j=b.settings.getWindowHeight();j<h+f&&(i.top="auto",i.bottom=j-d.offset().top+g+"px"),window.innerWidth/2<e.offset().left+e.width()/2&&(i.right=window.innerWidth-e[0].getBoundingClientRect().right,i.left="auto"),b.$dropdown.css(i)}}()}),a.SelectizeLoader.define("position_smallscreen_dropdown",function(a){this.positionDropdown=function(){var a={},b=this.$control.get(0).getBoundingClientRect();a.top=b.top+b.height+10+window.pageYOffset+"px",a.left=window.scrollX+"px",this.$dropdown.css(a)},this.close=function(){var a=this,b=a.isOpen;"single"===a.settings.mode&&a.items.length&&a.hideInput();var c=$(document.body).hasClass("autocomplete-fullview");c||(a.isOpen=!1,a.$dropdown.hide()),a.setActiveOption(null),a.refreshState(),!c&&b&&a.trigger("dropdown_close",a.$dropdown)}})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.SelectizeLoader.define("dropdown_customization",function(a){var b=this,c=a.context().scope;this.onOptionSelect=function(a){if("click"!==a.type){var b,c,d=this;a.preventDefault&&(a.preventDefault(),a.stopPropagation()),c=$(a.currentTarget),c.hasClass("create")?d.createItem(null,function(){d.settings.closeAfterSelect&&d.close()}):(b=c.attr("data-value"),"undefined"!=typeof b&&(d.items.indexOf(b)>=0?(d.removeItem(b),c.removeClass("selected"),d.setTextboxValue(""),d.refreshOptions(!1)):(d.lastQuery=null,d.setTextboxValue(""),d.addItem(b),d.settings.closeAfterSelect?d.close():!d.settings.hideSelected&&a.type&&/mouse/.test(a.type)&&d.setActiveOption(d.getOption(b)))))}},this.setupTemplates=function(){var d=b.setupTemplates;return function(){d.apply(b,arguments);var e=b.settings.render.option;b.settings.render.option=function(d,f){var g=$(e.apply(b,arguments)),h=angular.element('<div class="selected-option"><ionweb-icon icon="accept" color="bright-blue"></ionweb-icon></div>'),i=a.context().compile,j=c.$new(),k=i(h)(j);k.on("$destroy",function(){j.$destroy()}),g.removeClass("option"),g.addClass("option-data");var l=$('<div class="option-top-border"></div>'),m=$('<div class="option option-template">'+g.prop("outerHTML")+"</div>");return m.prepend(k),m.prepend(l),m.prop("outerHTML")}}}(),this.refreshOptions=function(){var a=b.refreshOptions;return function(){a.apply(this,arguments)}}()})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.SelectizeLoader.define("dropdown_open_close",function(){function b(){var b=c.$control.parent(),d=b.closest(".context-menu"),e=parseInt(d.parent().css("z-index"),10),f=a.ZINDEX_ACB_DROPDOWN;!isNaN(e)&&e>=f&&c.$dropdown.css("z-index",e+1)}var c=this;this.open=function(){if(!(c.isLocked||c.isOpen||"multi"===c.settings.mode&&c.isFull())){(!this.$control_input.is(":focus")||"single"===c.settings.mode&&parseInt(c.$control_input.css("left"),10)<0)&&c.focus();var a=c.isOpen;c.isOpen=!0,c.refreshState(),c.$dropdown.css({visibility:"hidden",display:"flex","flex-direction":"column"}),c.positionDropdown(),c.$dropdown.css({visibility:"visible"}),b(),a||c.trigger("dropdown_open",c.$dropdown)}}})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.SelectizeLoader.define("dynamic_options_plugin",function(a){function b(a){for(var b=0;b<d.items.length;b++)if(d.items[b]===a)return!0;return!1}var c=function(a,b){b=Math.min(b,this.items.length),0===b?this.$control.prepend(a):$(this.$control[0].childNodes[b]).before(a);var c=Math.min(this.caretPos,this.items.length);this.setCaret(c+1)},d=this,e=this.addItem;this.addItem=function(a,f,g){var h,i,j,k=d.settings.mode;d.items.length;if(e.call(d,a,f),!b(a)&&"string"==typeof a){if(!d.settings.optionProvider&&!d.settings.allowFreeText)return null;var l=d.settings.$q.defer();d.settings.optionProvider?d.settings.optionProvider(a,l):l.resolve(a);var m=d.modelIdx;return l.promise.then(function(e){if(e&&!b(a)&&m===d.modelIdx){if(e===a&&"string"==typeof a&&0!==a.length)e={},e.$group="free",e[d.settings.valueField]=a,e[d.settings.labelField]=a;else if("string"!=typeof a||0===a.length)return;if(e[d.settings.valueField]==a&&(e[d.settings.labelField]||(e[d.settings.labelField]=a),"single"===k&&d.clear(!0),"multi"!==k||!d.isFull())){d.registerOption(e),h=$(d.render("item",d.options[a])),j=d.isFull();var l=angular.isDefined(g)?g:d.caretPos;d.items.splice(l,0,a),c.call(d,h,l),(!d.isPending||!j&&d.isFull())&&d.refreshState(),d.isSetup&&(i&&!i.length||d.isFull()?d.close():d.positionDropdown(),d.updatePlaceholder(),d.trigger("item_add",a,h),d.updateOriginalInput({silent:f}))}}}).catch(function(){})}}})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.SelectizeLoader.define("editable_plugin",function(a){var b=this;b.hideInput=function(){var a={opacity:0,position:"absolute",left:b.rtl?1e4:-1e4};b.setTextboxValue(""),b.$control_input.css(a),b.isInputHidden=!0,b.settings.editable===!1&&(b.$control_input.attr("readonly",!0),b.getValue()&&b.getValue().length?b.$control_input.css(a):b.$control_input.css({opacity:1,position:"relative",left:0}))},b.showInput=function(){b.$control_input.css({opacity:1,position:"relative",left:0}),b.settings.editable!==!1&&b.$control_input.removeAttr("readonly"),b.isInputHidden=!1}})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){b.SelectizeLoader.define("enable_cache",function(){var b,c=this;this.on("dropdown_open",function(){this.hasOptions||(clearTimeout(b),b=setTimeout(function(){c.onSearchChange("")},100))}),this.onKeyDown=function(){var b=c.onKeyDown;return function(){var d=arguments[0];switch(d.keyCode){case a.KeyCodes.DOWN:var e=c.isOpen;e?b.apply(c,arguments):c.open();break;default:b.apply(c,arguments)}}}()})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.SelectizeLoader.define("free_options",function(a){function b(){var a=c.results&&c.results.items,b=[];if(a)for(var d=0;d<a.length;d++)b.push(a[d].id);else b=Object.keys(c.options);return b}var c=this;this.removeItem=function(){var a=c.removeItem;return function(b,d){a.apply(this,arguments),c.freeOptionsMap&&c.freeOptionsMap[b]&&(delete c.freeOptionsMap[b],c.removeOption(b,d),c.refreshOptions(!1))}}(),this.deSelectAll=function(){var a=c.deSelectAll;return function(){for(var d=b(),e=0;e<d.length;e++){var f=d[e];c.freeOptionsMap&&c.freeOptionsMap[f]&&(delete c.freeOptionsMap[f],this.removeOption(f,!0))}a.apply(c,arguments)}}(),this.clear=function(){var a=c.clear;return function(b){a.apply(this,arguments),window.setTimeout(function(){!c.isDestroyed&&c.freeOptionsMap&&(Object.keys(c.freeOptionsMap).forEach(function(a){c.items.indexOf(a)<0&&(c.removeOption(a,b),delete c.freeOptionsMap[a])}),c.refreshOptions(!1))},0)}}(),this.setup=function(){var a=c.setup;return function(){var b=this;a.apply(this,arguments),this.freeOptionsMap={},this.settings.createOnBlur=!0,this.settings.create=function(a){b.freeOptionsMap[a]=a;var d={$group:"free"};return d[c.settings.labelField]=a,d[c.settings.valueField]=a,d}}}(),this.clearOptions=function(){var a=c.clearOptions;return function(){var b=c.options[c.getValue()];a.apply(this,arguments),b&&"free"===b.$group&&c.registerOption(b)}}(),this.registerOption=function(){var a=c.registerOption;return function(){var b=arguments[0];return"free"===b.$group&&(c.freeOptionsMap[b[c.settings.valueField]]=b),a.apply(this,arguments)}}()})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.SelectizeLoader.define("scroll_plugin",function(){var a=this;$(document).on("mousewheel"+a.eventNS,function(b){a.isOpen&&0===$(b.target).closest("div.selectize-dropdown").length&&a.close()})})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.SelectizeLoader.define("item_nowrap",function(){var a=this.setupTemplates;this.setupTemplates=function(){if(a.apply(this,arguments),1===this.settings.maxItems){var b=this;this.settings.render.item=function(a,c){var d=b.settings.labelField;return'<div style="display: block; white-space: nowrap; overflow-x: hidden;">'+c(a[d])+"</div>"}}},HTMLElement})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.SelectizeLoader.define("placeholder",function(a){var b=this;this.updatePlaceholder=function(){var a=b.updatePlaceholder;return function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];b.settings.placeholder?a.apply(b,c):b.$control_input.removeAttr("placeholder")}}()})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.SelectizeLoader.define("preview_selector",function(a){var b=this;this.setActiveOption=function(){var a=b.setActiveOption;return function(){b.$selection_preview.val(""),a.apply(this,arguments);var c=b.$activeOption&&b.$activeOption.attr("data-value"),d=b.$control_input.val();if(c){var e=b.options[c][b.labelField];if(d.length>0&&0===e.toLowerCase().indexOf(d.toLowerCase())){var f=d?e.substring(d.length):e;b.$selection_preview.val(f),b.$selection_preview.get(0).style.left=parseInt(b.$control_input.get(0).style.width)}}}}(),this.setup=function(){var a=b.setup;return function(){a.apply(this,arguments);var c='<input style="position: absolute; color: gray; margin-left: -4px !important;" readonly ></input>';b.$selection_preview=$(c),b.$control.append(b.$selection_preview)}}()})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){b.SelectizeLoader.define("readonly_plugin",function(b){var c=this,d=this,e=function(){return d.settings.readonly&&"single"===d.settings.mode},f=this.hideInput;this.hideInput=function(){e()?(d.setTextboxValue(""),d.$control_input.css({opacity:0,position:"absolute",left:d.rtl?1e4:-1e4}),d.isInputHidden=!0):d.settings.readonly||f.apply(c)};var g=this.showInput;this.showInput=function(){e()?(d.$control_input.css({opacity:1,position:"relative",left:0,display:""}),d.isInputHidden=!1):d.settings.readonly||g.apply(c)};var h=this.deleteSelection;this.deleteSelection=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];d.settings.readonly||h.apply(c,a)};var i=this.open;this.open=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];d.settings.readonly||i.apply(c,a)};var j=this.onKeyDown;this.onKeyDown=function(){for(var b=[],e=0;e<arguments.length;e++)b[e]=arguments[e];var f=b[0];if(!d.settings.readonly||f.keyCode!==a.KeyCodes.UP&&f.keyCode!==a.KeyCodes.DOWN&&f.keyCode!==a.KeyCodes.PAGE_DOWN&&f.keyCode!==a.KeyCodes.ENTER&&f.keyCode!==a.KeyCodes.ESC)return j.apply(c,b)}})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.SelectizeLoader.define("remove_next_item_selection",function(a){var b=this,c=b.onOptionSelect;this.onOptionSelect=function(){c.apply(this,arguments),b.$activeOption&&b.isOpen&&(b.$activeOption.removeClass("active"),b.$activeOption=null)},this.onOptionHover=function(){}})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.SelectizeLoader.define("render_plugin",function(a){var b=this,c=b.render;this.render=function(a,d){var e=c.call(b,a,d);if("item"===a&&!$(this.$wrapper).hasClass("focus")){var f=$(e).css("display","inline").css("white-space","nowrap");return f.prop("outerHTML")}return e}})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b="selected",c="autocomplete-all-selected";a.SelectizeLoader.define("select_all",function(a){function d(){var a=f.results&&f.results.items,b=[];if(a)for(var c=0;c<a.length;c++)b.push(a[c].id);else b=Object.keys(f.options);return b}function e(){var a=!0;f.results.items&&0!=f.results.items.length||(a=!1);for(var c=0;c<f.results.items.length;c++){var d=f.results.items[c];if(f.items.indexOf(d.id)==-1){a=!1;break}}return a?f.selectAllHeader.addClass(b):f.selectAllHeader.removeClass(b),a}var f=this,g=a.context().scope;this.onFocus=function(){var a=f.onFocus;return function(){f.$control.removeClass(c),f.compiledSelectAllItem&&f.compiledSelectAllItem.remove(),f.$control.children("input").css("display",""),a.apply(f,arguments)}}(),this.onItemSelect=function(a){f.isLocked||"multi"===f.settings.mode&&(a.preventDefault(),f.setActiveItem(a.currentTarget.classList.contains("autocomplete-selectall-item")?null:a.currentTarget,a))},this.adjustWidgetOnBlur=function(){f.$wrapper.removeClass("focus"),0===f.items.length?f.$control.children("input")[0].style.setProperty("display","none"):f.$control.children("input")[0].style.setProperty("display","none","important")},this.setup=function(){var c=f.setup;return function(){c.apply(this,arguments);var d=angular.element('<div class="selected-option"><ionweb-icon icon="accept" color="bright-blue""></ionweb-icon></div>'),e=a.context().compile,h=g.$new(),i=e(d)(h);if(i.on("$destroy",function(){h.$destroy()}),this.selectAllHeader=$('<div class="autocomplete-header"><div class="option-data"><span>Select all</span></div></div>'),this.selectAllHeader.prepend(i),this.selectAllHeader.on("mousedown",function(a){a.preventDefault(),a.stopPropagation();$(a.target);f.selectAllHeader.hasClass(b)?f.deSelectAllOptions():f.selectAllOptions()}),"function"!=typeof g.options){var j=$('<div class="autocomplete-selectall-item">{{selectAllSummaryText}}</div>'),k=e(j)(g);f.compiledSelectAllItem=k,this.on("blur",f.toggleSelectAllSummaryText),this.on("item_add",f.debounceSelectAllSummaryText),this.on("item_remove",f.debounceSelectAllSummaryText)}this.$dropdown.prepend(this.selectAllHeader)}}(),f.debounceSelectAllSummaryText=function(){clearTimeout(f.toggleSelectAllSummaryTimeout),f.toggleSelectAllSummaryTimeout=setTimeout(f.toggleSelectAllSummaryText,250)},f.toggleSelectAllSummaryText=function(){if(g.selectAllSummaryText){var a=!0,b=f.options&&Object.keys(f.options)||[];if(0===b.length)a=!1;else for(var d=0,e=b.length;d<e;d++){var h=b[d];if(f.items.indexOf(h)==-1){a=!1;break}}!f.$control.hasClass("focus")&&a?(f.$control.addClass(c),f.$control.prepend(f.compiledSelectAllItem),f.$control_input[0].style.setProperty("display","none","important")):a||(f.$control.removeClass(c),f.compiledSelectAllItem.remove()),0===f.items.length&&delete f.$control_input[0].style.display}},this.deSelectAllOptions=function(){return function(){for(var a,b,c=d(),e=0;e<c.length;e++){var g=c[e];a=f.getItem(g),b=f.items.indexOf(g),b!=-1&&(a.remove(),f.items.splice(b,1))}f.setCaret(f.items.length),f.lastQuery=null,f.refreshState(),f.setTextboxValue(""),f.refreshOptions(),f.updatePlaceholder(),f.updateOriginalInput({silent:!1}),f.positionDropdown()}}(),this.selectAllOptions=function(){var a=this,b=[],c=d(),e=a.caretPos;c.forEach(function(c){if(a.items.indexOf(c)===-1){var d=$(a.render("item",a.options[c]));a.items.splice(e++,0,c),b.push(d)}}),a.insertAtCaret(b),a.setCaret(a.items.length),a.refreshState(),a.updatePlaceholder(),a.updateOriginalInput({silent:!1}),a.setTextboxValue(""),a.refreshOptions()},this.refreshOptions=function(){var a=f.refreshOptions;return function(){a.apply(f,arguments),e()}}(),this.onOptionSelect=function(){var a=f.onOptionSelect;return function(){a.apply(f,arguments),e()}}()})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.SelectizeLoader.define("selectize_item_scroll",function(a){function b(a){a.addClass("hide-right")}function c(a){a.removeClass("hide-right")}function d(a){a.addClass("hide-left")}function e(a){a.removeClass("hide-left")}function f(){k.$activeItems&&k.$activeItems.length&&k.setActiveItem(null);var a=k.$control.children("div[data-value]");if(0!==a.length&&$(a[0]).hasClass("hide-left")){var c,d,e=0,f=k.$control.children("div[data-value].hide-left");for(c=0,d=f.length;c<d;c++)$(f[c]).removeClass("hide-right hide-left");var g=k.containerWidth(),h=k.$control.children("div[data-value]:not(.hide-right)");for(c=0,d=h.length;c<d;c++)e+=$(h[c]).outerWidth(!0),e+l>g&&b($(h[c]))}}function g(){if(i<=0)return void(m=!0);var a,c,e=k.$control.children("div[data-value]:not(input)"),f=0,g=i;for(k.$wrapper.find(".more-button:visible").length&&(g-=18),a=k.caretPos-1;a>=0;a--)f+=$(e[a]).outerWidth(!0),f+l>g&&d($(e[a]));for(a=k.caretPos,c=e.length;a<c;a++)f+$(e[a]).outerWidth(!0)+l>g&&b($(e[a]))}function h(){var a,b,d=k.$control.children("div[data-value].hide-right"),f=k.containerWidth(),g=0,h=k.$control.children("div[data-value]:not(.hide-left):not(.hide-right)");for(a=0,b=h.length;a<b;a++)if(g+=$(h[a]).outerWidth(!0),g+l>f)return;if(d.length)for(a=0,b=d.length;a<b&&(g+=$(d[a]).outerWidth(!0),g+l<f);a++)c($(d[a]));if(g+l<f){var i=k.$control.children("div[data-value].hide-left");if(i.length)for(a=i.length-1;a>=0&&(g+=$(i[a]).outerWidth(!0),g+l<f);a--)e($(i[a]))}}var i,j=this,k=this,l=5,m=!1,n=35,o=36;this.containerWidth=function(){return k.$wrapper.innerWidth()-k.$wrapper.children("span.buttons-container").outerWidth(!0)};var p=k.addItem;this.addItem=function(a,b,c){return i=j.containerWidth(),p.call(k,a,b,c)},this.advanceSelection=function(){var a=k.advanceSelection;return function(b){a.apply(this,arguments),k.scrollItem(b)}}(),this.onFocus=function(){var a=k.onFocus;return function(){a.apply(this,arguments);var c=k.$activeItems&&k.$activeItems.length>0,d=k.$control.children("div[data-value]"),e=d.length;if(m){m=!1;for(var f=k.containerWidth(),g=0,h=0;h<e;h++)g+=$(d[h]).outerWidth(!0),g+l>f&&(c&&d[h]===k.$activeItems[0]||b($(d[h])))}!c&&0!==e&&$(d[e-1]).hasClass("hide-right")&&k.moveToLastItem()}}();var q=this.onKeyDown;this.onKeyDown=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c=a[0];c.keyCode===n?(k.moveToLastItem(!0),k.setCaret(k.items.length)):c.keyCode===o?(f(),k.setCaret(0)):q.apply(j,a)},this.moveToLastItem=function(){k.$activeItems&&k.$activeItems.length&&k.setActiveItem(null);var a,b,c=0,e=k.$control.children("div[data-value].hide-right");
for(a=0,b=e.length;a<b;a++)$(e[a]).removeClass("hide-right hide-left");var f=k.containerWidth(),g=k.$control.children("div[data-value]:not(.hide-left)");for(a=g.length-1;a>=0;a--)c+=$(g[a]).outerWidth(!0),c+l>f&&d($(g[a]))},this.on("item_add",function(){g();var a=k.$wrapper.find(".selectize-input");a.scrollLeft(a.get(0).scrollWidth)}),this.on("item_remove",function(){h()}),this.on("clear",function(){k.setMoreButton()});var r=0;this.on("resize",function(a){r<a.width?h():r>a.width&&g(),r=a.width}),this.scrollItem=function(a){var f,g,h=k.$control.children("div[data-value]:not(.hide-left):not(.hide-right)"),i=k.containerWidth(),j=k.$control.children("div[data-value].hide-left"),m=0,n=k.caretPos;if(1===a){if(n-j.length>=h.length){var o=k.$control.children("div[data-value].hide-right"),p=0,q=0;for(o.length&&(c($(o[0])),o=k.$control.children("div[data-value].hide-right"),h=k.$control.children("div[data-value]:not(.hide-left):not(.hide-right)"),p=$(o[0]).outerWidth(!0)),m=0,f=h.length-1;f>=0;f--)m+=$(h[f]).outerWidth(!0),m+l>i&&(q+=$(h[f]).outerWidth(!0),d($(h[f])));if(q>p)for(f=0,g=o.length;f<g&&(p+=$(o[f]).outerWidth(!0),p<q);f++)c($(o[f]))}}else if(j.length&&n<=j.length){var r=!1;for(e($(j[j.length-1])),h=k.$control.children("div[data-value]:not(.hide-left):not(.hide-right)"),f=0,g=h.length;f<g;f++)r?b($(h[f])):(m+=$(h[f]).outerWidth(!0),m+l>i&&(r=!0))}}})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.SelectizeLoader.define("custom_select_template",function(a){var b=this;this.setup=function(){var a=b.setup;return function(){a.apply(this,arguments),b.$wrapper.addClass("custom-item-template")}}(),this.refreshClasses=function(){var a=b.refreshClasses;return function(){a.apply(this,arguments),b.$wrapper.toggleClass("has-items",b.items.length>0)}}()})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){b.SelectizeLoader.define("enter_key_normalization",function(){function b(){c.clear(),c.setTextboxValue(""),c.onSearchChange(""),c.trigger("change",null)}var c=this;this.onKeyDown=function(){var d=c.onKeyDown;return function(){for(var e=[],f=0;f<arguments.length;f++)e[f]=arguments[f];var g=e[0];switch(g.keyCode){case a.KeyCodes.ENTER:if(c.items.length)c.onFocus();else{var h=$.trim(this.$control_input.val()),i=void 0;if(!c.$activeOption&&h){if(this.restoreItem())break;this.settings.createOnBlur||(i=h,h="")}h?d.apply(this,e):(i&&this.trigger("type",""),b(),this.refreshOptions())}break;default:d.apply(this,e)}}}()})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.SelectizeLoader.define("single_select_copy_paste",function(a){function b(a,b){var d=a[c.settings.valueField].toString().toLowerCase(),e=a[c.settings.labelField].toLowerCase(),f=b.toLowerCase();return d===f||e===f}var c=this,d=!1,e=a.context().scope;this.onPaste=function(){e.selectSingleOptionOnPaste&&(d=!0)},c.load=function(a){var e=c.$wrapper.addClass(c.settings.loadingClass);c.loading++,a.apply(c,[function(a){c.loading=Math.max(c.loading-1,0),a&&a.length&&(c.addOption(a),c.refreshOptions(c.isFocused&&!c.isInputHidden)),c.loading||e.removeClass(c.settings.loadingClass),c.trigger("load",a),d&&(1===a.length&&b(a[0],c.$control_input.val())&&c.addItem(a[0][c.settings.valueField]),d=!1)}])}})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.SelectizeLoader.define("disable_spell_check",function(a){var b=this,c=a.context().scope,d=c.$watch("disableSpellCheck",function(a){a?b.$control_input.attr("spellcheck","false"):b.$control_input.removeAttr("spellcheck")});this.setup=function(){var a=b.setup;return function(){a.apply(b,arguments),c.spellcheck&&b.$control_input.attr("spellcheck",!1)}}(),this.destroy=function(){var a=b.destroy;return function(){a.apply(b,arguments),d()}}()})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){a.SelectizeLoader.define("enable_mouse_navigation",function(){var a=this,b=this,c=function(a){if(a.target===b.$control[0]){for(var c=b.$control.children("div[data-value]:not(.hide-left):not(.hide-right)"),d=b.$control.children("div[data-value].hide-left").length,e=0,f=-1,g=0;g<c.length;g++)if(e+=$(c[g]).outerWidth(!0),e>a.offsetX+1){f=g;break}f=f>=0?f:c.length,b.setCaret(f+d)}},d=this.setup;this.setup=function(){d.apply(a),b.$control.addClass("large-margins"),b.$control.on("mousedown",c)};var e=this.moveToLastItem;this.moveToLastItem=function(b){b&&e.apply(a)}})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b;!function(a){a[a.SingleToken=0]="SingleToken",a[a.MultiToken=1]="MultiToken",a[a.StartsWith=2]="StartsWith"}(b=a.AutocompleteFilterCriteria||(a.AutocompleteFilterCriteria={}))}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){function b(a){function b(a,b){var c,d=a,e=a;do if(b(d),!(c=d.$$childHead||d!==e&&d.$$nextSibling))for(;d!==e&&!(c=d.$$nextSibling);)d=d.$parent;while(d=c)}b(a,function(a){var b=a.$$watchers;if(b)for(var c,d=0;d<b.length;d++){c=b[d];var e=c.get(a);c.fn(e,e,a)}})}a.applyWatchers=b}(b=a.angularExt||(a.angularExt={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){var c=function(){function c(a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t=this;this.$compile=a,this.$timeout=c,this.$templateCache=d,this.$scope=e,this.$element=f,this.$attrs=g,this.$ctrl=h,this.$q=i,this.q=j,this.domOptions=k,this.footerTemplate=l,this.selectTemplate=m,this.selectTemplateItemName=n,this.clipboardService=o,this.popupService=p,this.environmentService=q,this.toolkitConfigService=r,this.responsivenessService=s,this.watchHandlers=[],this.inSetModel=void 0,this.inSetView=void 0,this.itemPopup=void 0,this.cache={},this.WINDOWINNERHEIGHT=window.innerHeight,this.getWindowHeight=function(){return t.environmentService.isMobileDevice()?t.WINDOWINNERHEIGHT:window.innerHeight},this.environmentService.isTouchDevice()?this.$element.addClass("touch-device"):this.$element.addClass("no-touch-device"),e.queryOptions||(e.queryOptions={filterCriteria:b.AutocompleteFilterCriteria.SingleToken}),e.labelField=e.labelField||"label",e.valueField=e.valueField||"value",["labelField","valueField","searchField","multiple","allowFreeText","showFooter","disableCache","editable","disableDefaultSorting","allowEmptyValue","enableSelectAll","showSelectedOptions"].forEach(function(a){e.$watch(a,function(a,b){a!==b&&(t.$scope.allowEmptyValue!==!1&&t.$ctrl.$setViewValue(null),t.init(),t.$scope.allowEmptyValue===!1&&t.updateModelWithFirstItem())})}),e.$watch("tabindex",function(a){t.selectize.$control_input.attr("tabindex",a),f.removeAttr("tabindex")}),e.$watch("placeholder",function(a,b){a===b&&(t.selectize.settings.placeholder=a,t.selectize.updatePlaceholder())}),e.$watch("queryOptions",function(a,b){a!==b&&(t.selectize.settings.queryOptions=t.$scope.queryOptions)},!0),e.$watch("readonly",function(a,b){a!==b&&void 0!==a&&t.checkAndApplyReadonly(a)}),["showArrowButton","showClearButton","showUserButton","userButtonIcon","userButtonAction"].forEach(function(a){e.$watch(a,function(a,b){a!==b&&t.selectize.buttonsStateRefresh({showClearButton:e.showClearButton,showArrowButton:e.showArrowButton,showUserButton:e.showUserButton,userButtonIonIconKey:e.userButtonIcon,userButtonAction:e.userButtonAction})})}),e.getActiveOption=function(){var a=null,b=t.selectize.$activeOption&&t.selectize.$activeOption.attr("data-value");return null!==b&&(a=t.selectize.options[b]),a},e.moreButtonClick=function(){return t.showSelectizePopup()},e.destroySelectizePopup=function(){return t.destroyPopup()},e.dropDownOpenState=function(){return t.selectize.isOpen};var u=!1;e.$watch("options",function(a,b){return a||b?void(u&&a===b||(u=!0,t._refreshOptions(a))):void(u=!0)}),e.$on("$destroy",function(){t.watchHandlers=null,t.$timeout.cancel(t.delayTimer),c(function(){return t.destroySelectize()})}),this.init(),this.$scope.allowEmptyValue===!1&&this.updateModelWithFirstItem();var v=function(a,b){var c=!1;t.watchHandlers.push(b),e.$watch(a,function(a,d){c&&a===d||(b(),c=!0)})};v("disabled",function(){e.disabled?(t.selectize.disable(),t.selectize.$control_input.attr("tabindex",-1),t.selectize.$wrapper.addClass("disabled"),t.selectize.close(),t.destroyPopup()):(t.selectize.enable(),t.selectize.$control_input.attr("tabindex",e.tabindex),t.selectize.$wrapper.removeClass("disabled"))}),v("limit",function(){return t.currentLimit=Number(e.limit)})}return c.prototype._refreshOptions=function(a,b){var c=this;if(a instanceof Array)for(var d=0;d<a.length;d++)a[d][this.selectize.settings.labelField]=a[d][this.selectize.settings.labelField]||a[d][this.selectize.settings.valueField],this.selectize.updateOption(a[d][this.selectize.settings.valueField],a[d]);this.initArrayOptions();var e=function(a,b){var d=!1;if(b instanceof Array)for(var e=0,f=b&&b.length;e<f&&!d;e++)d=b[e][c.selectize.settings.valueField]===a;return d};this.$scope.allowEmptyValue!==!1||this.$scope.allowFreeText||e(this.$ctrl.$viewValue,a)||(this.$ctrl.$setViewValue(null),this.updateModelWithFirstItem())},c.prototype.refreshOptions=function(){if("function"==typeof this.$scope.options)throw Error("Refresh option function is not supported for dynamic options");this._refreshOptions(this.$scope.options)},c.prototype.updateModelWithFirstItem=function(a){if(a||this.isDynamic())a?this.updateViewNoGuard(a[this.selectize.settings.valueField]):this.isDynamic()&&this.selectize.onSearchChange("");else if(void 0===this.$ctrl.$viewValue||null===this.$ctrl.$viewValue){var b=this.$scope.options;this.$scope.options||(b=this.domOptions),b&&b.length&&this.updateViewNoGuard(b[0][this.selectize.settings.valueField])}},c.prototype.getCurrentResults=function(){var a=[];return this.selectize.currentResults&&(a=this.selectize.currentResults.items.map(function(a){return a.id})),JSON.stringify(a)},c.prototype.checkTextMatch=function(a){var b=a?a.toLowerCase():"";if(this.selectize.options)for(var c=Object.getOwnPropertyNames(this.selectize.options),d=0;d<c.length;d++){var e=c[d],f=this.selectize.options[e],g=f[this.selectize.settings.valueField].toString().toLowerCase(),h=f[this.selectize.settings.labelField].toLowerCase();if(g===b||h===b)return!0}return!1},c.prototype.setSearch=function(a){var b=this,c=this.$q.defer(),d=this.selectize.settings.loadThrottle||0;return d+=10,this.selectize.setTextboxValue(a),this.selectize.onSearchChange(a),this.selectize.refreshOptions(),setTimeout(function(){b.$scope.$evalAsync(function(){c.resolve(null)})},d),c.promise},c.prototype.isDynamic=function(){return"function"==typeof this.$scope.options},c.prototype.addGroup=function(a,b){this.selectize.addOptionGroup(a,{label:b||a})},c.prototype.fixGroup=function(a){var b=a.group;b?this.addGroup(b):b=a.alwaysShown?"$fixed":"$other",a.$group=a.$group||b},c.prototype.handleResult=function(a,b,c){function d(a){var b=[];if(f.selectize.freeOptionsMap){var c=f.selectize.freeOptionsMap;Object.keys(c).filter(function(b){return b.indexOf(a)!==-1}).forEach(function(a){c[a].$group="free",b.push(c[a])})}return b}var e=this,f=this,g=null;if(a.options.forEach(function(a){e.fixGroup(a),a.alwaysShown&&!g&&(g=a)}),this.currentTotalCount=a.total,b&&b(this.$scope.multiple&&this.$scope.showSelectedOptions!==!1?a.options.concat(d(c)):a.options),this.$scope.allowEmptyValue===!1&&!this.$ctrl.$viewValue){var h=g||a.options&&a.options.length&&a.options[0];h&&this.updateModelWithFirstItem(h)}},c.prototype.setSearchText=function(a){var b=this.selectize.$control_input.val();a!==b&&(this.selectize.setTextboxValue(a),this.isDynamic()?this.reload():this.selectize.refreshOptions(),this.$scope.onTextChange({value:a}))},c.prototype.initArrayOptions=function(){var a=this;angular.isArray(this.$scope.options)&&(this.domOptions=this.$scope.options);var b=[];this.domOptions.forEach(function(c){var d={};angular.extend(d,c);var e=a.$scope.labelField||"label",f=a.$scope.valueField||"value";d[e]=c[e]||c[f],d[f]=c[f],d.alwaysShown=c.alwaysShown,a.selectize.freeOptionsMap&&delete a.selectize.freeOptionsMap[c[f]],a.fixGroup(d),b.push(d)}),this.selectize.clearOptions(),this.selectize.addOption(b),this.currentTotalCount=b.length},c.prototype.readAsyncOptions=function(a){return this.$q.when(this.$scope.options(a))},c.prototype.init=function(){function b(a){var b=void 0;return b=a===!0?void 0:a===!1?null:a}function c(a){return a&&a.split(/ |,/)}var d=this;this.$element.children().remove();var e=angular.element("<select></select>");e.attr("placeholder",this.$attrs.placeholder),this.$attrs.tabindex&&this.$scope.tabindex&&e.attr("tabindex",this.$scope.tabindex),this.$scope.multiple===!0&&(this.$scope.allowEmptyValue=!0),this.$element.append(e);var f={context:function(){return{compile:d.$compile,scope:d.$scope,angular:angular}}},g=["add_item_plugin","render_plugin","remove_button","advanced_option_selector","autoselect_on_focus","dynamic_options_plugin","custom_refresh_option","dropdown_autowidth","clear_options_override","scroll_plugin","delete_selection","dropdown_open_close","custom_search","editable_plugin","copy_paste_items","remove_next_item_selection","placeholder","advanced_keyboard"],h=this.$scope.editable!==!1,i=this.environmentService.isMobileDevice()&&this.environmentService.isSmallScreen();if(this.$scope.multiple&&this.$scope.itemDelimiter!==!1||!this.isDynamic()||g.push({name:"single_select_copy_paste",options:f}),this.environmentService.isSmallScreen()&&h?h&&i&&g.push("position_smallscreen_dropdown"):g.push("dropdown_position"),g.push({name:"buttons",options:angular.extend({showClearButton:this.$scope.showClearButton,showArrowButton:this.$scope.showArrowButton,showUserButton:this.$scope.showUserButton,userButtonIonIconKey:this.$scope.userButtonIcon,userButtonAction:this.$scope.userButtonAction},f)}),this.$scope.multiple&&this.$scope.showSelectedOptions!==!1){var j={name:"dropdown_customization",options:f};g.splice(1,0,j),this.$scope.enableSelectAll&&g.push({name:"select_all",options:f})}this.$scope.multiple||g.push("enter_key_normalization"),this.$scope.allowFreeText&&this.$scope.editable!==!1&&g.push("free_options"),this.isDynamic()&&g.push("disable_cache"),this.$scope.multiple||g.push("restore_cache"),this.$scope.disableDefaultSorting&&g.push("disable_selectize_sorting"),this.selectTemplate&&g.push("custom_select_template"),this.selectTemplate||g.push("item_nowrap"),this.$scope.multiple&&g.push("selectize_item_scroll"),g.push({name:"disable_spell_check",options:f}),g.push({name:"readonly_plugin",options:f}),this.$scope.multiple&&h&&this.$scope.enableMouseNavigation&&g.push("enable_mouse_navigation");var k={searchField:c(this.$scope.searchField||this.$scope.labelField||"label"),labelField:this.$scope.labelField||"label",valueField:this.$scope.valueField||"value",plugins:g,render:{},selectOnTab:!0,selectAll:this.$scope.enableSelectAll,persist:!0,maxItems:this.$scope.multiple?null:1,dropdownParent:"body",openOnFocus:!1,delimiter:b(this.$scope.itemDelimiter),optgroupField:"$group",editable:void 0==this.$scope.editable||this.$scope.editable,readonly:1==this.$scope.readonly,allowFreeText:this.$scope.allowFreeText,validatePaste:this.$scope.validatePaste,key:this.$scope.key,hideSelected:this.$scope.multiple&&void 0!=this.$scope.showSelectedOptions&&!this.$scope.showSelectedOptions,showOnHover:this.toolkitConfigService.autoComplete.showIconOnHover,optgroups:[{value:"$free",label:"Free text item"},{value:"$fixed",label:"Fixed Items"},{value:"$other",label:"Free Items"}],lockOptgroupOrder:!0,score:function(a){var b=d.selectize.getScoreFunction(a);return function(a){var c=b(a);return a.alwaysShown&&(c+=10),c}},copyToClipboard:function(a){d.clipboardService.copyToClipboard(a)},closePopup:function(a){a&&"more-button"==a||d.destroyPopup()},$q:this.$q,getWindowHeight:this.getWindowHeight};this.$scope.multiple||(k.modelValue=function(){return d.$ctrl?d.$ctrl.$viewValue:null}),this.isDynamic()&&(k.load=function(a,b){d.$scope.disableCache&&(d.cache={});var c=d.cache[a];return c?void d.handleResult(c,b,a):void d.readAsyncOptions(a).then(function(b){if(d.selectize)return d.$scope.disableCache||(d.cache[a]=b),b}).catch(function(a){return{options:[]}}).then(function(c){c&&(d.selectize.clearOptions(),d.selectize.refreshOptions(!1),d.handleResult(c,b,a))})},k.loadOptions=function(a,b){d.readAsyncOptions(a).then(function(a){return a}).catch(function(a){return{options:[]}}).then(function(c){d.handleResult(c,b,a)})}),this.$scope.optionProvider&&(k.optionProvider=function(a,b){b.resolve(d.$scope.optionProvider(a))}),k.render.optgroup_header=function(a,b){return["$free","$fixed","$other"].indexOf(a.value)>=0?"":'<div class="optgroup-header">'+b(a.label)+"</div>"},this.$scope.optionTemplate&&(k.render.option=function(b){var c=d.$scope.$new(!1,d.$scope);c[d.$scope.optionTemplateItemName]=b;var e=d.$compile(d.$scope.optionTemplate)(c);return a.angularExt.applyWatchers(c),c.$on("$destroy",function(){e.remove()}),c.$destroy(),e[0].outerHTML}),this.selectTemplate&&(k.render.item=function(b){var c=d.$scope.$new(!1,d.$scope);c[d.selectTemplateItemName]=b;var e=d.$compile(d.selectTemplate.cloneNode(!0))(c);return c.$on("$destroy",function(){e.remove()}),a.angularExt.applyWatchers(c),c.$destroy(),e[0].outerHTML}),k.render.option_create=function(a,b){var c=d.$scope.newItemContentTemplate&&d.$scope.newItemContentTemplate({$input:a.input,$escape:b});return c||(c=b(a.input)),'<div class="create" free-text-data data-value="'+a.input+'">'+c+"</div>"},this.selectize&&this.destroySelectize(),this.selectize=e.selectize(k).get(0).selectize,this.$scope.selectize=this.selectize,this.selectize.settings.queryOptions=this.$scope.queryOptions,this.selectize.isDynamic=function(){return d.isDynamic()},this.isDynamic()||this.initArrayOptions();var l=this.selectize.getSearchOptions;if(this.selectize.getSearchOptions=function(){var a=l.apply(d.selectize,[]);return d.currentLimit>0&&(a.limit=d.currentLimit),a},this.selectize.on("dropdown_open",function(a){return d.addFooter(a)}),this.$ctrl){var m=this.selectize;this.$ctrl.$render=this.$scope.allowEmptyValue===!1?this.updateViewNonEmpty.bind(this):this.updateView.bind(this),m.on("change",function(a){d.$scope.allowEmptyValue===!1?d.updateModelNonEmpty(a):d.updateModel(a),d.$scope.reloadOnModelChange&&d.isDynamic()&&d.reload()}),m.on("blur",function(){0===m.items.length&&d.$scope.allowEmptyValue!==!1&&d.updateModel(null)}),this.updateView()}this.$scope.multiple&&this.isDynamic()&&(this.$scope.reloadOnModelChange||this.selectize.$control_input.on("update",function(a,b){m.$control_input.val()||b&&b.force||d.reload()})),this.$scope.onTextChange&&this.selectize.on("type",function(a){return d.$scope.onTextChange({value:a})}),this.$scope.onFocus&&this.selectize.on("focus",function(){d.$scope.$evalAsync(function(){d.$scope.onFocus()})}),this.selectize.on("focus",function(){i&&d.$scope.editable!==!1&&!d.$scope.disableFullscreenMode&&d.$scope.readonly!==!0&&d.openXSScreenACBHolder()}),this.selectize.on("blur",function(){if(d.$scope.allowEmptyValue===!1){var a=d.selectize.getValue();a||d.selectize.addItem(d.$ctrl.$viewValue),d.destroyPopup()}d.$scope.$evalAsync(function(){d.$scope.onBlur&&d.$scope.onBlur()})}),this.$scope.editable===!1&&this.selectize.hideInput(),this.$scope.$on("$clearCache",function(){d.selectize.clearCache()}),this.watchHandlers.forEach(function(a){a()}),this.$scope.getCurrentOptions=function(){return d.getCurrentResults()},this.$scope.setSearch=function(a){return d.setSearch(a)},!this.bound&&this.$scope.scopeOptions&&this.$scope.scopeOptions.onAutocompleteBound&&(this.bound=!0,this.$scope.scopeOptions.onAutocompleteBound(this));var n;this.$scope.$watchGroup(["validationState","validationMessage","errorAnimation"],function(b){"undefined"!=typeof d.$scope.validationState&&!n&&d.selectize.$wrapper&&(n=new a.validation.ValidationController(d.selectize.$wrapper,d.$scope.validationMessage,d.$scope.validationState,d.$scope.errorAnimation)),n&&(n.state=d.$scope.validationState,n.message=d.$scope.validationMessage)}),this.$scope.autofocus&&this.selectize.focus(),this.checkAndApplyReadonly(this.$scope.readonly),this.$scope.multiple&&this.responsivenessService.register(this.$element[0],function(a){d.selectize&&(d.selectize.setMoreButton(),d.selectize.trigger("resize",a))})},c.prototype.checkAndApplyReadonly=function(a){this.selectize.settings.readonly=this.$scope.readonly,a?(this.selectize.$control_input.attr("readonly","true"),this.selectize.$wrapper.addClass("readonly"),this.selectize.close(),this.selectize.buttonsStateRefresh({showClearButton:!1,showArrowButton:!1,showUserButton:this.$scope.showUserButton,userButtonIonIconKey:this.$scope.userButtonIcon,userButtonAction:this.$scope.userButtonAction})):(this.selectize.$control_input.removeAttr("readonly"),this.selectize.$wrapper.removeClass("readonly"),this.selectize.buttonsStateRefresh({showClearButton:this.$scope.showClearButton,showArrowButton:this.$scope.showArrowButton,showUserButton:this.$scope.showUserButton,userButtonIonIconKey:this.$scope.userButtonIcon,userButtonAction:this.$scope.userButtonAction})),this.$scope.multiple&&void 0!==this.$scope.readonly&&this.selectize.setMoreButton()},c.prototype.openXSScreenACBHolder=function(){var a=this,b=45,c="autocomplete-absolute-position",d="element-relative-position",e="autocomplete-fullview",f="calc(100vw - 3.5rem)";if(!this.$backDropPanel||0===this.$backDropPanel.parent().length){$(document.body).addClass("autocomplete-fullview body-auto-height"),this.$backDropPanel=angular.element(this.$templateCache.get("toolkit/ionautocomplete/ionwebSmallScreenACBPopup.tpl.html"));var g=this.$element.parent(),h=this.$element.css("top"),i=this.$element.css("left"),j=this.$element.get(0).style.width;this.$xsPopupScreenScope=this.$scope.$new(!1),this.$xsPopupScreenScope.doneButtonAction=function(b){b&&b.stopPropagation()&&b.preventDefault(),$(window).scrollTop(0),a.setOverride(g,!1),$(document.body).removeClass(e),g.removeClass(d),a.$element.css("top",h).css("left",i),a.$element.removeClass(c),a.setSelectizeWidth(j),clearInterval(m),clearInterval(r),a.selectize.setMoreButton(),a.selectize.close(),k.remove(),a.$backDropPanel.remove(),a.$xsPopupScreenScope.$destroy(),a.$xsPopupScreenScope=void 0,a.selectize.$control_input.blur()},this.setOverride(g,!0),g.addClass(d),this.$element.addClass(c),g.prepend(this.$backDropPanel);var k=document.createElement("div");k.style.height="800px",k.style.width="20px",$(document.body).append(k);var l=this.$element.get(0).parentElement.getBoundingClientRect();this.$backDropPanel=this.$compile(this.$backDropPanel)(this.$xsPopupScreenScope),this.$backDropPanel.css("top",-l.top+"px"),this.$backDropPanel.css("left",-l.left+"px"),this.$element.css("top",-l.top+5+"px").css("left",b-l.left+"px"),this.setSelectizeWidth(f),$(window).scrollTop(10),$(window).scrollTop(0),this.selectize.setMoreButton(),this.selectize.onSearchChange("");var m,n=l.top,o=!1,p=function(){m=setInterval(function(){var c=g.get(0).getBoundingClientRect(),d=c.top;return d==n?(document.body.classList.remove("body-auto-height"),clearInterval(m),!o&&a.selectize.open(),void(o=!0)):(n=d,a.$backDropPanel.css("top",-c.top+"px"),a.$backDropPanel.css("left",-c.left+"px"),a.$element.css("top",-c.top+5+"px").css("left",b-c.left+"px"),$(window).scrollTop(10),void $(window).scrollTop(0))},100)};p();var q=window.innerHeight,r=setInterval(function(){q!==window.innerHeight&&(clearInterval(m),p(),q=window.innerHeight)},100)}},c.prototype.setOverride=function(a,b){for(var c="autocomplete-overflow-visible",d=a;d.get(0)!=document.body;){b?d.addClass(c):d.removeClass(c);var d=d.parent()}},c.prototype.setSelectizeWidth=function(a){this.$element.css("width",a)},c.prototype.initializePopup=function(){var a=this,c={automaticallyUpdatePosition:!1,anchorPoint:this.environmentService.isSmallScreen()?b.PopupAnchorPoint.TopLeft:b.PopupAnchorPoint.RightBottom,automaticallyClose:!0};if(this.destroyPopup(),!this.itemPopup){var d=this.$scope.labelField||"label",e=this.$scope.valueField||"value",f=this.$scope.readonly||!1,g=this.popupService.createWithTemplate('<ionweb-selectize-popup  destroy-selectize-popup="destroySelectizePopup()" selectize="selectize" value-field="'+e+'" label-field="'+d+'" readonly='+f+"></ionweb-selectize-popup>",$(this.selectize.$wrapper),this.$scope,c);g.onClose.add(function(){a.destroyPopup()}),g&&(this.itemPopup=g,this.itemPopup.show())}},c.prototype.destroyPopup=function(){this.itemPopup&&(this.itemPopup.hide(),this.itemPopup.destroy(),this.itemPopup=null)},c.prototype.showSelectizePopup=function(){if(this.$scope.multiple)return this.itemPopup?void this.destroyPopup():void this.initializePopup()},c.prototype.addFooter=function(a){var b=this;this.selectize.off("dropdown_open",function(a){return b.addFooter(a)});var c=this.$element.closest(".ion-contrast").length>0;a.toggleClass("ion-contrast",c);var d=this.$scope.footerOptions&&this.$scope.footerOptions.footerTemplate||this.footerTemplate;if(this.$scope.showFooter&&d){var e=this.$scope.footerOptions&&this.$scope.footerOptions.footerScope||this.$scope.$parent.$new(),f=this.$compile(d)(e);f.addClass("selectize-dropdown-content autocomplete-footer"),a.append(f),e.$on("$destroy",function(){$(f).remove()});var g=function(){e.$evalAsync(function(){e.$itemCount=b.selectize.currentResults&&b.selectize.currentResults.items&&b.selectize.currentResults.items.length||0,e.$itemTotalCount=b.currentTotalCount,e.$itemText=1===e.$itemCount?"item":"items",b.currentTotalCount>0&&(e.$itemText+=" out of "+b.currentTotalCount)})};this.selectize.on("dropdown_open",g),this.selectize.on("option_add",g),this.selectize.on("option_remove",g),this.selectize.on("option_clear",g),this.selectize.on("item_add",g),this.selectize.on("item_remove",g),this.selectize.on("type",g),g()}},c.prototype.updateViewNoGuard=function(a){var b=this,c=[];this.selectize.items.forEach(function(b,d){Array.isArray(a)?(a||[]).indexOf(b)!==d&&c.push(b):a!==b&&c.push(b)}),c.forEach(function(a){return b.selectize.removeItem(a,!0)}),this.isDynamic()||void 0===this.$scope.options||this.$scope.options===this.domOptions||this.initArrayOptions(),this.selectize.modelIdx=(this.selectize.modelIdx||0)+1;var d=[];if(a){var e=Array.isArray(a)?a:[a];e.forEach(function(a,c){d.push(b.$q.when(b.selectize.addItem(a,!0,c)))})}this.$q.all(d).then(function(){b.selectize&&(b.selectize.refreshItems(),b.$scope.allowEmptyValue===!1&&b.updateModelNonEmpty(a))})},c.prototype.updateViewNonEmpty=function(){if(!this.$ctrl.$viewValue){var a=this.selectize.getValue();return void(a&&(this.$ctrl.$viewValue=a,this.$ctrl.$render()))}this.updateView()},c.prototype.updateView=function(){var a=this.$ctrl.$viewValue;if(this.inSetModel!==a){this.inSetView=a;try{this.updateViewNoGuard(a)}finally{this.inSetView=void 0}}},c.prototype.updateModelNonEmpty=function(a){a&&this.updateModel(a)},c.prototype.updateModel=function(a){if(this.inSetView!==a){this.inSetModel=a;try{var b=!1,c=this.$ctrl.$viewValue;if(Array.isArray(a)){if(Array.isArray(c)&&a.length===c.length){for(var d=0;d<c.length&&c[d]===a[d];d++);d===c.length&&(b=!0)}}else b=c===a;b||(0==this.$scope.multiple&&this.environmentService.isSmallScreen()&&this.$xsPopupScreenScope&&this.$xsPopupScreenScope.doneButtonAction(),this.$ctrl.$setViewValue(a))}finally{this.inSetModel=void 0}}},c.prototype.getOptionByKey=function(a){var b=this.selectize.options[a];return b&&b[this.selectize.settings.labelField]},Object.defineProperty(c.prototype,"state",{get:function(){function a(a){return a?"string"==typeof a?[a]:a:[]}var b=this,c=a(this.$ctrl.$viewValue);return{items:c.map(function(a){return{value:a,label:b.getOptionByKey(a)}})}},set:function(a){var b=this;a&&angular.isArray(a.items)&&(this.delayTimer=this.$timeout(function(){if(!b.isDestroyed){if(b.isDynamic())for(var c=0;c<a.items.length;c++){var d=a.items[c];if(d.value&&!b.getOptionByKey(d.value)){var e={};e[b.selectize.settings.valueField]=d.value,e[b.selectize.settings.labelField]=d.label,b.selectize.registerOption(e)}}1===b.selectize.settings.maxItems&&a.items.length>0?b.updateViewNoGuard(a.items[0].value):b.updateViewNoGuard(a.items.map(function(a){return a.value}))}},0))},enumerable:!0,configurable:!0}),c.prototype.clearCache=function(){this.selectize.clearOptions(),this.selectize.refreshOptions(!1),this.cache={}},c.prototype.focus=function(){this.selectize.focus()},c.prototype.destroySelectize=function(){this.selectize.off("change"),this.selectize.off("dropdown_open"),this.selectize.off("clear"),this.selectize.off("type"),this.selectize.off("focus"),this.selectize.off("blur"),this.selectize.off("option_add"),this.selectize.off("option_remove"),this.selectize.off("option_clear"),this.selectize.off("item_add"),this.selectize.off("item_remove"),this.selectize.off("resize"),this.$backDropPanel&&this.$backDropPanel.remove(),this.selectize.destroy(),this.selectize.isDestroyed=!0,this.isDestroyed=!0,this.selectize=null},c.prototype.reload=function(){return this.q.when(this.reset())},c.prototype.reset=function(){var a=this;if(!this.isDynamic())return this.refreshOptions(),this.$q.when();var b=this.$q.defer();return this.cache={},this.selectize.load(function(c){var d=a.selectize.$control_input.val()||"";a.readAsyncOptions(d).then(function(b){return a.selectize.loadedSearches[d]=!0,b}).catch(function(a){return{options:[]}}).then(function(e){a.selectize&&(a.clearCache(),a.handleResult(e,c,d),a.selectize.refreshOptions(!1)),b.resolve(null)})}),b.promise},c}(),d=function(){function a(d,e,f,g,h,i,j,k,l,m){var n=this;this.$compile=d,this.$timeout=e,this.$templateCache=f,this.clipboardService=g,this.popupService=h,this.environmentService=i,this.$q=j,this.q=k,this.toolkitConfigService=l,this.responsivenessService=m,this.require="?ngModel",this.scope={options:"=?",placeholder:"@?",multiple:"=?",disabled:"=?ngDisabled",readonly:"=?ngReadonly",valueField:"@?",labelField:"@?",searchField:"@?",showArrowButton:"=?",showClearButton:"=?",showUserButton:"=?",userButtonIcon:"=?",showFooter:"=?",allowFreeText:"=?",limit:"=?",scopeOptions:"=?",disableCache:"=?",validationState:"=?",validationMessage:"=?",errorAnimation:"=?",tabindex:"@?",optionProvider:"=?",queryOptions:"=?",editable:"=?",disableDefaultSorting:"=?",allowEmptyValue:"=?",selectAllSummaryText:"=?",selectSingleOptionOnPaste:"=?",key:"@?",reloadOnModelChange:"=?",autofocus:"<?",onTextChange:"&?",onFocus:"&?",onBlur:"&?",validatePaste:"&?",userButtonAction:"&?",onDropdownStateChanged:"&?",optionTemplate:"<?",optionTemplateItemName:"<?",subContent:"=?",enableSelectAll:"=?",showSelectedOptions:"=?",disableFullscreenMode:"=?",newItemContentTemplate:"&?",footerOptions:"<?",disableSpellCheck:"=?",itemDelimiter:"<?",enableMouseNavigation:"<?"},this.compile=function(d){var e=[];e=e.concat(n.getDOMOptions(d)),d.children("optgroup").each(function(a,b){var c=$(b);e=e.concat(n.getDOMOptions(c,c.attr("label")))});var f,g,h=d.find("[footer-template]"),i=h.length>0?h.get(0).outerHTML:a.DEFAULT_FOOTER_TEMPLATE,j=d.find("[option-template]");j.length>0&&(f=j.addClass("option").clone(!1).get(0),g=j.attr("option-template")||"item");var k,l,m=d.find("[item-template]");return m.length>0&&(k=m.clone(!1).get(0),l=m.attr("item-template")||"item"),d.children().remove(),{post:function(a,d,h,j){f&&(a.optionTemplate=f.outerHTML,g&&(a.optionTemplateItemName=g)),b.SelectizeLoader.load(n.$q,function(){new c(n.$compile,n.$timeout,n.$templateCache,a,d,h,j,n.$q,n.q,e,i,k,l,n.clipboardService,n.popupService,n.environmentService,n.toolkitConfigService,n.responsivenessService)})}}}}return a.prototype.getDOMOptions=function(a,b){return a.children("option, opt").map(function(a,c){var d={};return Object.keys(c.attributes).forEach(function(a){d[c.attributes[a].name]=c.attributes[a].value}),d.value||(d.value=$(c).text().trim()),b&&(d.group=b),d}).get()},a.DEFAULT_FOOTER_TEMPLATE='<div><p class="autocomplete-footer-content"><span class="autocomplete-item-count">{{$itemCount}}</span> <span class="autocomplete-item-count-label">{{$itemText}}</span></p></div>',
a}();angular.module("ionwebTk").directive("ionwebAutocomplete",["$compile","$timeout","$templateCache","ionweb.clipboardService","ionweb.popupService","ionwebTk.environmentService","$q","ionwebTk.q","ionwebTk.toolkitConfigService","ionweb.responsivenessService",function(a,b,c,e,f,g,h,i,j,k){return new d(a,b,c,e,f,g,h,i,j,k)}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b=function(){function a(a){var b=this;this.$scope=a,this.popupMouseDowned=!1,this.popupMouseDowned=void 0,this.$scope.selectize.on("item_remove",this.updatePopupOnItemRemove.bind(this)),this.$scope.selectize.on("item_add",this.addSelectedItemOptions.bind(this)),this.$scope.selectize.on("clear",this.clearSelectedItemsOptions.bind(this)),this.$scope.selectize.on("type",this.closePopup.bind(this)),this.$scope.selectize.$wrapper.addClass("ionweb-popup-container"),this.populateTemplatesForSelectedItems(),this.$scope.removePopupItem=function(a){b.$scope.selectize.removeItem($(a.currentTarget).siblings("div").find("div").attr("data-value"),!1),b.popupMouseDowned=!1,a.preventDefault(),a.stopPropagation()},this.$scope.popupupMouseDown=function(a){b.popupMouseDowned=!0,b.$scope.selectize.ignoreBlur=!0,a.preventDefault(),a.stopPropagation()}}return a.prototype.updatePopupOnItemRemove=function(a,b){var c=this;if(this.$scope.templates.length>0){var d=this.$scope.templates.map(function(a){return a.value}).indexOf(a);d>-1&&this.$scope.$evalAsync(function(){return c.$scope.templates.splice(d,1)})}},a.prototype.addSelectedItemOptions=function(a,b){this.addTemplate(a,this.$scope.selectize.items.indexOf(a))},a.prototype.clearSelectedItemsOptions=function(){this.popupMouseDowned=!1},a.prototype.closePopup=function(){this.$scope.selectize.off("item_remove",this.updatePopupOnItemRemove.bind(this)),this.$scope.selectize.off("item_add",this.addSelectedItemOptions.bind(this)),this.$scope.selectize.off("clear",this.clearSelectedItemsOptions.bind(this)),this.$scope.selectize.off("type",this.closePopup.bind(this)),this.$scope.destroySelectizePopup&&this.$scope.destroySelectizePopup()},a.prototype.populateTemplatesForSelectedItems=function(){var a=this.$scope.selectize.items.length;this.$scope.templates=[];for(var b=0;b<a;b++)this.addTemplate(this.$scope.selectize.items[b],-1)},a.prototype.addTemplate=function(a,b){var c;this.$scope.selectize.renderCache.item&&(c=this.$scope.selectize.renderCache.item[a]),c||(c=this.$scope.selectize.render("item",this.$scope.selectize.options[a]||a));var d=$("<div/>",{html:c});d.find("a.remove").remove(),b===-1?this.$scope.templates.push({value:a,template:d.html()}):this.$scope.templates.splice(b,0,{value:a,template:d.html()})},a.$inject=["$scope"],a}();angular.module("ionwebTk").controller("ionwebSelectizePopupController",b).directive("ionwebSelectizePopup",[function(){return{restrict:"E",templateUrl:"toolkit/ionautocomplete/ionwebSelectizePopup.tpl.html",controller:"ionwebSelectizePopupController",scope:{selectize:"=",valueField:"@",labelField:"@",destroySelectizePopup:"&",readonly:"="}}}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){angular.module("ionwebTk").directive("ionwebSelectizePopupItemTemplate",["$compile",function(a){return{restrict:"E",scope:{html:"="},link:function(b,c){b.$watch("html",function(){if(b.html){var d=angular.element(b.html);a(d)(b),c.append(d)}})}}}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b;!function(a){a[a.ButtonOnRight=0]="ButtonOnRight",a[a.ButtonOnLeft=1]="ButtonOnLeft",a[a.WrapHorizontal=2]="WrapHorizontal",a[a.WrapVertical=3]="WrapVertical"}(b=a.SpinnerPosition||(a.SpinnerPosition={}));var c;!function(a){a[a.Increment=0]="Increment",a[a.Decrement=1]="Decrement"}(c=a.UpdateTickMode||(a.UpdateTickMode={}))}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){var c=function(){function a(){this.coreScope={}}return a.prototype.incrementValue=function(a){return void 0!=a&&null!=a||(a=this.coreScope.tick),this.coreScope.value=this.validateValue(this.coreScope.value+a),this.coreScope.value},a.prototype.decrementValue=function(a){return void 0!=a&&null!=a||(a=this.coreScope.tick),this.coreScope.value=this.validateValue(this.coreScope.value-a)},a.prototype.applyValue=function(a){return""==a?this.coreScope.value=void 0:this.coreScope.value=this.validateValue(this.parseValue(a)),this.coreScope.value},a.prototype.validateValue=function(a){return(this.coreScope.maxValue||0==this.coreScope.maxValue)&&a>=this.coreScope.maxValue&&(a=this.coreScope.maxValue),(this.coreScope.minValue||0==this.coreScope.minValue)&&a<=this.coreScope.minValue&&(a=this.coreScope.minValue),a},a.prototype.parseValue=function(a){return a?Number(a):NaN},a.prototype.formatValue=function(a){return void 0==a||null==a?"":isNaN(a)?"NaN":a.toString()},a}();b.NumericUpDownModel=c,angular.module("ionwebTk").directive("ionwebNumericUpDown",["$injector",function(d){function e(a){if(a&&a.length>0){var b=a[0];if("number"==typeof b){var c=[];return a.forEach(function(a){var b={tickValue:a,displayName:a.toString()};c.push(b)}),c}}return a}function f(f,g,h){function i(a){var b=f.modelInternal.formatValue(a);return void 0==a||null==a?b="":isNaN(a)&&(b=f.textfieldData.textboxValue),b}function j(){return void 0==f.value||null==f.value||""==f.textfieldData.textboxValue}function k(){j()&&(f.value=0,f.textfieldData.textboxValue=f.modelInternal.formatValue(0))}function l(a){return(void 0!=a||null!=a)&&isNaN(a)}function m(c){setTimeout(function(){f.$apply(function(){f.validationStateInternal=a.validation.ValidationState.Error,f.validationMessageInternal=c+b.Strings.Err_NumericUpDownDirective_IsInvalid})},0)}function n(a){var c=a.originalEvent;f.modelInternal.coreScope.spinnerDisabled||(c.deltaY<0?o(b.UpdateTickMode.Increment):c.deltaY>0&&o(b.UpdateTickMode.Decrement)),a.preventDefault()}function o(a){E?f.updateTick(a):(E=setTimeout(p,f.wheelEventThrottlingTime),f.updateTick(a,!0),F=f.value)}function p(){clearTimeout(E),E=void 0,q(F)}function q(a){f.value!==a&&f.onValueCommit&&f.onValueCommit({$newValue:f.value,$oldValue:a})}function r(a){f.textfieldData.textboxValue=a}function s(){u(),v(),f.modelInternal.coreScope.disabled||t()}function t(){j()?(u(!1),v(!1),clearInterval(G)):isNaN(f.modelInternal.coreScope.value)?(u(!0),v(!0),clearInterval(G)):(void 0!=f.modelInternal.coreScope.maxValue&&f.modelInternal.coreScope.value>=f.modelInternal.coreScope.maxValue?(u(!0),clearInterval(G)):u(!1),void 0!=f.modelInternal.coreScope.minValue&&f.modelInternal.coreScope.value<=f.modelInternal.coreScope.minValue?(v(!0),clearInterval(G)):v(!1))}function u(a){f.upDisabled=f.modelInternal.coreScope.spinnerDisabled||f.modelInternal.coreScope.disabled||a}function v(a){f.downDisabled=f.modelInternal.coreScope.spinnerDisabled||f.modelInternal.coreScope.disabled||a}function w(){f.model?(f.modelInternal=f.model,f.modelInternal.coreScope=f):(f.modelInternal=new c,f.modelInternal.coreScope=f)}var x,y=this;g.addClass("ionweb-numeric-up-down");var z=-1,A=-1,B=d.get("ionwebTk.environmentService");w(),f.model=f.modelInternal,void 0==f.modelInternal.coreScope.tick&&(f.modelInternal.coreScope.tick=1),void 0==f.modelInternal.coreScope.fontSize&&(f.modelInternal.coreScope.fontSize="100%"),void 0==f.modelInternal.coreScope.toolbarFontSize&&(f.modelInternal.coreScope.toolbarFontSize="100%"),void 0==f.modelInternal.coreScope.spinnerDisabled&&(f.modelInternal.coreScope.spinnerDisabled=!1),void 0==f.modelInternal.coreScope.showSpinner&&(f.modelInternal.coreScope.showSpinner=!0),void 0==f.modelInternal.coreScope.spinModeEnabled&&(f.modelInternal.coreScope.spinModeEnabled=!1),void 0==f.modelInternal.coreScope.disabled&&(f.modelInternal.coreScope.disabled=!1),void 0==f.modelInternal.coreScope.spinnerSize&&(f.modelInternal.coreScope.spinnerSize="24px"),void 0==f.modelInternal.coreScope.toolbarHeight&&(f.modelInternal.coreScope.toolbarHeight="24px"),void 0==f.modelInternal.coreScope.spinnerPosition&&(f.modelInternal.coreScope.spinnerPosition=b.SpinnerPosition.WrapHorizontal),void 0==f.modelInternal.coreScope.upIconName&&(f.modelInternal.coreScope.upIconName="triangleUp"),void 0==f.modelInternal.coreScope.downIconName&&(f.modelInternal.coreScope.downIconName="triangleDown"),void 0==f.modelInternal.coreScope.minValue&&(f.modelInternal.coreScope.minValue=Number(-2e53)),void 0==f.modelInternal.coreScope.maxValue&&(f.modelInternal.coreScope.maxValue=Number(2e53)),void 0==f.modelInternal.coreScope.useDefaultModifiers&&(f.modelInternal.coreScope.useDefaultModifiers=!1),f.textfieldData={textboxValue:"",textboxOldValue:""},f.exponentialIncrement={exponentialIncrementStartDelay:400,exponentialIncrementSpeed:100,startValue:void 0},f.wheelEventThrottlingTime=100,f.$topToolBar={buttons:e(f.topToolBar)},f.$bottomToolBar={buttons:e(f.bottomToolBar)};var C=i(f.modelInternal.coreScope.value);if(f.textfieldData={textboxValue:C,textboxOldValue:C},f.incrementValue=function(a){var b=f.value;f.modelInternal.incrementValue(a),q(b),f.updateSpinnerStateAndTextBoxValue(f.modelInternal.coreScope.value)},f.modelInternal.coreScope.$watch("spinnerDisabled",t),this.preferenceChangedEventUnsubscriber=[],d.has("ionweb.numberFormattingService")){var D=d.get("ionweb.numberFormattingService");this.preferenceChangedEventUnsubscriber.push(D.preferenceChanged.add(function(){f.textfieldData.textboxValue=f.modelInternal.formatValue(f.value)}))}f.$on("$destroy",function(){for(var a=0;a<y.preferenceChangedEventUnsubscriber.length;a++)y.preferenceChangedEventUnsubscriber[a]();y.preferenceChangedEventUnsubscriber=[]}),f.$watch("value",function(b,c){if(void 0!==b||void 0!==c){var d=f.modelInternal.validateValue(b);void 0==b&&null==b||(f.value=f.modelInternal.parseValue(f.modelInternal.formatValue(d))),f.updateSpinnerStateAndTextBoxValue(b),f.validationStateInternal=a.validation.ValidationState.Valid}}),f.updateSpinnerStateAndTextBoxValue=function(a){var b=i(a);t(),f.textfieldData.textboxValue=b,f.textfieldData.textboxOldValue=b,f.$evalAsync()},f.getDisplayText=function(){return f.textfieldData.textboxValue},f.$watch("tick",function(a,b){(isNaN(a)||null==a)&&(f.tick=1)}),f.commitTextBoxValue=function(){if(f.textfieldData.textboxOldValue!==f.textfieldData.textboxValue){var b=f.textfieldData.textboxValue.trim(),c=f.modelInternal.applyValue(b);f.validationStateInternal=a.validation.ValidationState.Valid,l(f.value)?(void 0==f.onInvalidValue&&null==f.onInvalidValue||(c=f.modelInternal.coreScope.onInvalidValue(b)),l(c)?(f.value=NaN,m(b)):f.value=c):f.value=f.modelInternal.parseValue(f.modelInternal.formatValue(c)),f.updateSpinnerStateAndTextBoxValue(f.value)}};var E,F;f.textBoxDidEndEditing=function(){g.off("wheel",n);var a=f.value;f.commitTextBoxValue(),q(a)},f.textBoxWillBeginEditing=function(){g.on("wheel",n),f.textfieldData.textboxOldValue=f.textfieldData.textboxValue,x=!0},f.onClickedByMouse=function(a){x&&(a.currentTarget.select(),x=!1)},void 0==f.tabindex?f.tabindex=0:h.hasOwnProperty("tabindex")&&g.removeAttr("tabindex"),f.$watch(function(){return g.attr("tabindex")},function(a){a&&g.removeAttr("tabindex")}),f.onkeypress=function(a){var b,c=!1;void 0==f.onModifierKeyPress&&null==f.onModifierKeyPress||(b=f.onModifierKeyPress(a.key?a.key:String.fromCharCode(a.charCode),f.modelInternal.parseValue(f.textfieldData.textboxValue,!1)),void 0!=b&&("boolean"==typeof b?b&&(a.preventDefault(),c=!0):"number"==typeof b&&(r(f.modelInternal.formatValue(b)),a.preventDefault(),c=!0))),f.useDefaultModifiers&&!c&&f.defaultModifierKeyPress(a.key?a.key:String.fromCharCode(a.charCode),f.modelInternal.parseValue(f.textfieldData.textboxValue,!1))&&a.preventDefault()},f.defaultModifierKeyPress=function(a,b){var c=!1;switch(a){case"k":case"K":case"T":case"t":r(f.modelInternal.formatValue(1e3*b)),c=!0;break;case"m":case"M":r(f.modelInternal.formatValue(1e6*b)),c=!0;break;case"b":case"B":case"y":case"Y":r(f.modelInternal.formatValue(1e9*b)),c=!0}return c},f.modelInternal.coreScope.changeTextBoxValue=function(a){f.modelInternal.coreScope.$evalAsync(function(){f.textfieldData.textboxValue=a})},f.modelInternal.coreScope.$watch("disabled",s),f.$watch("minValue",function(a,b){a>f.maxValue&&(f.modelInternal.coreScope.minValue=f.modelInternal.coreScope.maxValue),f.modelInternal.applyValue(f.textfieldData.textboxValue),f.updateSpinnerStateAndTextBoxValue(f.modelInternal.coreScope.value)}),f.getValidationMessage=function(){return f.validationMessage?f.validationMessage:f.validationMessageInternal},f.getValidationState=function(){return f.validationStateInternal===a.validation.ValidationState.Error?f.validationStateInternal:void 0===f.validationState?f.validationStateInternal:f.validationState},f.modelInternal.coreScope.$watch("maxValue",function(a,b){a<f.modelInternal.coreScope.minValue&&(f.modelInternal.coreScope.maxValue=f.modelInternal.coreScope.minValue),f.modelInternal.applyValue(f.textfieldData.textboxValue),f.updateSpinnerStateAndTextBoxValue(f.modelInternal.coreScope.value)}),f.mouseDownOnUpButton=function(a){a.preventDefault(),a.stopImmediatePropagation(),f.incrementDecrementAction(b.UpdateTickMode.Increment)},f.mouseDownOnDownButton=function(a){a.preventDefault(),a.stopImmediatePropagation(),f.incrementDecrementAction(b.UpdateTickMode.Decrement)};var G=void 0;f.incrementDecrementAction=function(a){clearTimeout(this.exponentialCounterStartTimer),f.updateTick(a,!0),B.isMobileDevice()||(f.exponentialIncrement.startValue=f.value,this.exponentialCounterStartTimer=setTimeout(function(){G=setInterval(function(){f.updateTick(a)},f.exponentialIncrement.exponentialIncrementSpeed)},f.exponentialIncrement.exponentialIncrementStartDelay))},f.mouseup=f.mouseleave=function(a){clearTimeout(this.exponentialCounterStartTimer),clearInterval(G),f.exponentialIncrement.startValue&&f.value!==f.exponentialIncrement.startValue&&(q(f.exponentialIncrement.startValue),f.exponentialIncrement.startValue=void 0),a.originalEvent&&"mouseup"===a.originalEvent.type&&(a.preventDefault(),a.stopImmediatePropagation())},f.updateTick=function(a,c){f.commitTextBoxValue();var d=f.value;k(),a==b.UpdateTickMode.Increment?f.modelInternal.incrementValue():a==b.UpdateTickMode.Decrement&&f.modelInternal.decrementValue(),f.updateSpinnerStateAndTextBoxValue(f.modelInternal.coreScope.value),c&&q(d)},f.changeEventHandler=function(){var a=f.getDisplayText();if(f.modelInternal.onlyParseValueOnCommit)f.onCurrentTextChange&&f.onCurrentTextChange(a);else{var b=f.modelInternal.parseValue(a);f.onCurrentValueChange&&f.onCurrentValueChange(a,b)}},f.keyboardEventHandler=function(a){var c,d=a.key?a.key:a.keyCode.toString();switch(d){case"ArrowUp":case"Up":case"38":f.modelInternal.coreScope.spinnerDisabled||f.updateTick(b.UpdateTickMode.Increment,!0);break;case"ArrowDown":case"Down":case"40":f.modelInternal.coreScope.spinnerDisabled||f.updateTick(b.UpdateTickMode.Decrement,!0);break;case"Enter":case"Tab":case"13":c=f.value,f.commitTextBoxValue(),q(c)}},f.onToolbarButtonClick=function(a,b,c){f.modelInternal.coreScope.spinModeEnabled?(k(),f.incrementValue(a.tickValue)):c==A&&b==z||(z=b,A=c,f.modelInternal.coreScope.tick=Math.abs(a.tickValue))},f.getToolbarState=function(){return l(f.modelInternal.coreScope.value)||f.modelInternal.coreScope.disabled},f.getToolbarSelectedButtonIndex=function(a){return A>=0&&!f.modelInternal.coreScope.spinModeEnabled&&Number(a)==A?z:-1},f.getContentUrl=function(){switch(f.spinnerPosition){case b.SpinnerPosition.ButtonOnLeft:return"toolkit/numericupdown/numericUpDownLeft.tpl.html";case b.SpinnerPosition.ButtonOnRight:return"toolkit/numericupdown/numericUpDownRight.tpl.html";case b.SpinnerPosition.WrapVertical:return"toolkit/numericupdown/numericUpDownWrapVertical.tpl.html";default:return"toolkit/numericupdown/numericUpDownWrapHorizontal.tpl.html"}},f.$watch("model",function(a,b){w(),f.updateSpinnerStateAndTextBoxValue(f.value)}),f.modelInternal.coreScope.$watchGroup(["topToolBar","bottomToolBar","topToolBar.length","bottomToolBar.length"],function(a,b,c){c.$topToolBar={buttons:e(c.topToolBar)},c.$bottomToolBar={buttons:e(c.bottomToolBar)},z=-1,A=-1}),f.autofocus&&setTimeout(function(){var a=g.find("input")[0];a&&(a.focus(),a.select())})}return{restrict:"E",scope:{value:"=?ngModel",tick:"=?",showSpinner:"=?",disabled:"=?ngDisabled",minValue:"=?",maxValue:"=?",spinnerPosition:"=?",spinnerSize:"=?",onInvalidValue:"=?",model:"=?",showToolBar:"=?",topToolBar:"=?",bottomToolBar:"=?",spinModeEnabled:"=?",fontSize:"=?",upIconName:"=?",downIconName:"=?",toolbarFontSize:"=?",toolbarHeight:"=?",spinnerDisabled:"=?",onModifierKeyPress:"=?",changeTextBoxValue:"=?",placeholder:"@?",onValueCommit:"&?",onCurrentValueChange:"<?",onCurrentTextChange:"<?",placeholderAlign:"@?",validationMessage:"=?",validationState:"=?",tabindex:"@?",useDefaultModifiers:"=?",autofocus:"<?"},link:f,template:'<ng-include src="getContentUrl()" style="height: inherit; width: inherit;"></ng-include>'}}]).directive("ionwebNumericUpDownToolbar",["$compile",function(a){return{restrict:"EA",scope:{options:"=?",selectedButtonIndex:"=?",disabled:"=?",unselectButtons:"&?",onButtonClick:"=?",fontSize:"=?",tag:"=?"},replace:!1,template:'<button ng-repeat="button in options.buttons" tabindex="-1"  class="{{getClassForButtonSelectionState($index)}}" ng-disabled="disabled" ng-style="{width: buttonWidth(), \'font-size\': fontSize}">{{button.displayName}}</button>',link:function(a,b){$(document).ready(function(){$(b).on("click","*",function(){var c=$(b).children(),d=$(this),e=c.index(d);a.selectedButtonIndex(a.tag)!=e&&(a.unselectButtons(),d.removeClass().addClass(a.getClassForButtonSelectionState()),void 0!=a.onButtonClick&&a.onButtonClick(a.options.buttons[e],e,a.tag))})}),a.options.clearSelection=function(){var a=$(b).children();a.removeClass().addClass("ion-numericupdown-toolbar-button-unselected")},a.buttonWidth=function(){return 100/a.options.buttons.length+"%"},a.getClassForButtonSelectionState=function(b){return a.selectedButtonIndex(a.tag)==b?"ion-numericupdown-toolbar-button-selected":"ion-numericupdown-toolbar-button-unselected"}}}}]).directive("includeUnisolate",function(){return{templateUrl:function(a,b){return b.templatePath},replace:!0}})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b;!function(a){a[a.Date=0]="Date",a[a.Time=1]="Time",a[a.DateTime=2]="DateTime"}(b=a.DateTimePickerMode||(a.DateTimePickerMode={}));var c;!function(a){a[a.Dropdown=0]="Dropdown",a[a.TagPanel=1]="TagPanel",a[a.Both=2]="Both"}(c=a.TagVisibility||(a.TagVisibility={}))}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b;!function(a){a[a.None=0]="None",a[a.FromDate=1]="FromDate",a[a.ToDate=2]="ToDate",a[a.Tags=3]="Tags"}(b=a.RangePickerSubEditorMode||(a.RangePickerSubEditorMode={}))}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b;!function(a){a[a.Seconds=1]="Seconds"}(b=a.TimeComparisonLevel||(a.TimeComparisonLevel={}));var c=function(){function c(a){this.dateFormattingService=a}return c.prototype.compareDate=function(a,b){var c=new Date(a.getTime());c.setHours(0,0,0,0);var d=new Date(b.getTime());return d.setHours(0,0,0,0),c.getTime()-d.getTime()},c.prototype.compareTime=function(a,c,d){var e=new Date,f=new Date(e.getTime());return d&&d==b.Seconds?(e.setHours(a.getHours(),a.getMinutes(),a.getSeconds()),f.setHours(c.getHours(),c.getMinutes(),c.getSeconds())):(e.setHours(a.getHours(),a.getMinutes()),f.setHours(c.getHours(),c.getMinutes())),e.getTime()-f.getTime()},c.prototype.compareDateTime=function(a,c,d){var e=new Date(a.getTime()),f=new Date(c.getTime());return d&&d==b.Seconds?(e.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),0),f.setHours(c.getHours(),c.getMinutes(),c.getSeconds(),0)):(e.setHours(a.getHours(),a.getMinutes(),0,0),f.setHours(c.getHours(),c.getMinutes(),0,0)),e.getTime()-f.getTime()},c.prototype.sortRange=function(a,b,c){if(a){var d=this.dateFromDateTimeTag(a.fromDate),e=this.dateFromDateTimeTag(a.toDate);if(d&&e&&this.compare(d,e,b,c)>0){var f=a.fromDate;a.fromDate=a.toDate,a.toDate=f}return a}},c.prototype.compare=function(b,c,d,e){switch(d){case a.DateTimePickerMode.Date:return this.compareDate(b,c);case a.DateTimePickerMode.Time:return this.compareTime(b,c,e);case a.DateTimePickerMode.DateTime:default:return this.compareDateTime(b,c,e)}},c.prototype.isDateTimeTag=function(a){return!(a instanceof Date||!a)},c.prototype.dateFromDateTimeTag=function(a){return a instanceof Date?a:a&&a.date||void 0},c.prototype.dateTimeTagFromDate=function(a,b,c,d){var e=void 0;if(a&&b)for(var f=0;f<a.length;++f){var g=a[f],h=this.dateFromDateTimeTag(g);if(h&&0===this.compare(b,h,c,d)){e=g;break}}return e},c.prototype.rangeTagFromDates=function(a,b,c,d,e,f){var g=void 0;if((b||c)&&a){for(var h=0;h<a.length;++h){var i=a[h],j=this.dateFromDateTimeTag(i.fromDate),k=!j&&!b||j&&b&&0===this.compare(b,j,d,e);if(k){var l=this.dateFromDateTimeTag(i.toDate);k=!l&&!c||l&&c&&0===this.compare(c,l,d,f)}if(k){g=i;break}}return g}},c.prototype.getDatesFromRangeTag=function(a){var b,c;return a.fromDate&&(b=this.dateFromDateTimeTag(a.fromDate)),a.toDate&&(c=this.dateFromDateTimeTag(a.toDate)),{fromDate:b,toDate:c}},c.prototype.formattedDate=function(b,c,d,e){var f=this.dateFromDateTimeTag(b);if(!f)return"";if(e)return e(f);var g=this.dateFormattingService;if(!g)return f.toDateString();switch(c){case a.DateTimePickerMode.Date:return d?g.toLongDate(f):g.toShortDate(f);case a.DateTimePickerMode.Time:return d?g.toLongTime(f):g.toShortTime(f);case a.DateTimePickerMode.DateTime:default:return d?g.toLongDate(f)+" "+g.toLongTime(f):g.toShortDate(f)+" "+g.toShortTime(f)}},c}();a.DateTimePickerHelper=c;var d=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}return __extends(c,b),c.prototype.camelToDash=function(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})},c.prototype.isTagAvailable=function(a,b,c,d,e){if(void 0===d&&(d=!0),a&&b&&b.date)for(var f=0;f<a.length;++f){var g=a[f];if(!d||!g||g.name===b.name){var h=this.dateFromDateTimeTag(g);if(h&&0===this.compare(b.date,h,c,e))return!0}}return!1},c.prototype.compareTags=function(a,b,c,d,e){return void 0===d&&(d=!0),!(!a||!b)&&((!d||a.name===b.name)&&(!a.date&&!b.date||!(!a.date||!b.date)&&0===this.compare(a.date,b.date,c,e)))},c.prototype.getTagWithName=function(a,b){if(b&&a)for(var c=0;c<b.length;c++)if(b[c].name===a)return b[c]},c.prototype.getTagStyle=function(a){var b={};return a&&a.style&&(a.style.backgroundColor&&(b["background-color"]=a.style.backgroundColor),a.style.color&&(b.color=a.style.color),a.style.fontWeight&&(b["font-weight"]=a.style.fontWeight)),b},c.prototype.tagToAutoCompleteInfo=function(b,c,d){var e=this.dateFormattingService.toShortDate(b.date);d===a.DateTimePickerMode.DateTime?e+=" "+this.dateFormattingService.toShortTime(b.date):d===a.DateTimePickerMode.Time&&(e=this.dateFormattingService.toShortTime(b.date));var f={text:b.name,tooltip:e};return f.style=angular.extend({},c),f},c}(c);angular.module("ionwebTk").service("ionweb.dateTimePickerHelperService",["ionwebTk.dateFormattingService",function(a){return new d(a)}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){var c=function(){function a(a,b,c){this.$scope=a,this.dateTimePickerHelper=b,this.$templateCache=c,this.initTagFormattings(),this.$scope.numberOfTagColumns=this.getUpdatedTagColumns(this.$scope.numberOfTagColumns)}return Object.defineProperty(a.prototype,"tagStyleMap",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"panelTags",{get:function(){},enumerable:!0,configurable:!0}),a.prototype.getUpdatedTagColumns=function(b){return null===b||void 0===b||isNaN(b)?b=3:b<a.MIN_TAGS_COLUMN?b=a.MIN_TAGS_COLUMN:b>a.MAX_TAGS_COLUMN&&(b=a.MAX_TAGS_COLUMN),b},a.prototype.updateTagStyleCache=function(a){var b={};b.classes={},a.style?(b.style=this.dateTimePickerHelper.getTagStyle(a),a.style.paletteColor&&a.style.paletteColor.length?b.classes["ionbtn-"+a.style.paletteColor]=!0:b.classes["ionbtn-auto"]=!0):(b.classes["ion-datetimepicker-tag-default-style"]=!0,b.classes["ion-datetimepicker-tag-normal"]=!0),this.tagStyleMap[a.name]=b},a.prototype.initTagFormattings=function(){var b=this;this.$scope.styleForTag=function(a){var c=b.tagStyleMap[a.name];return c?(b.isTagSelected(a)||(c=b.tagStyleMap[a.name]),c&&c.style):null},this.$scope.classForTag=function(c){var d=b.tagStyleMap[c.name];if(!d)return null;if(b.isTagSelected(c)){var e=(Math.max(a.MIN_TAGS_COLUMN,Math.min(c.colSpan||1,a.MAX_TAGS_COLUMN)),{"ion-datetimepicker-tag-default-style":!0,"ion-datetimepicker-tag-select":!0});return e}return d&&d.classes}},a.prototype.isTagSelected=function(a){throw new Error("Base class doesn't have the implementation")},a.MIN_TAGS_COLUMN=1,a.MAX_TAGS_COLUMN=4,a}();b.DatePanelManger=c;var d=function(c){function d(a,d,e,f,g,h,i){var j=c.call(this,a,g,i)||this;return j.$scope=a,j.$element=d,j.$attrs=e,j.dateFormattingService=f,j.dateTimePickerHelper=g,j.$compile=h,j.$templateCache=i,j._dateStyleMap={},j._tagStyleMap={},j.preferenceChangeHandler=function(){j.$scope.$evalAsync()},j.dateFormattingService.preferenceChanged.add(j.preferenceChangeHandler),j.$scope.internalDate=g.dateFromDateTimeTag(j.$scope.date),j.$scope.internalTime=j.$scope.internalDate?new Date(j.$scope.internalDate.getTime()):new Date,void 0!==j.$scope.mode&&null!==j.$scope.mode||(j.$scope.mode=b.DateTimePickerMode.DateTime),void 0!==j.$scope.isOpen&&null!==j.$scope.isOpen||(j.$scope.isOpen=!0),void 0!==j.$scope.selectedSummary&&null!==j.$scope.selectedSummary||(j.$scope.selectedSummary=j.$scope.useDateTimeTags&&!j.$scope.hideTagPanel&&j.$scope.dateTimeTags&&j.$scope.dateTimeTags.length>0?b.SelectedDateTimeSummary.Tags:j.$scope.mode==b.DateTimePickerMode.Time?b.SelectedDateTimeSummary.Time:b.SelectedDateTimeSummary.Date),j.initDateHandlingFunction(),j.initTagHandlingFunctions(),j.initTagsFormattingFunctions(),j.initWatches(),j.buildAndAppendDateTimePicker(),j.$scope.onBind&&j.$scope.onBind(j),j}return __extends(d,c),Object.defineProperty(d.prototype,"tagStyleMap",{get:function(){return this._tagStyleMap},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"panelTags",{get:function(){return this.$scope.tagsForTagsPanel},enumerable:!0,configurable:!0}),d.prototype.buildAndAppendDateTimePicker=function(){var b=this,c='<div ionweb-timepicker ng-model="internalTime" ng-change="onTimeChange(internalTime)"';Object.keys(this.$scope.timepickerOptions||{}).forEach(function(a){var d=b.dateTimePickerHelper.camelToDash(a);c+=" "+d+'="timepickerOptions.'+a+'"'});var d=a.firstOrDefault(Object.keys(this.$scope.timepickerOptions||{}),function(a){return"showSeconds"==a});if(!d){var e=this.dateTimePickerHelper.camelToDash("showSeconds");c+="  "+e+'= "timepickerOptions.showSeconds"'}c+="></div>";var f=this.$compile(c)(this.$scope);this.$element.find(".timepicker-holder").append(f);var g='\n                <div ionweb-datepicker\n                     ng-model="internalDate"\n                     ng-change="onDateChange(internalDate)"\n                     is-out-of-range="isOutOfRange"\n                     refresh="refreshDatePicker"\n                     navigate="navigate"\n                     datepicker-options="datepickerOptions"\n                     is-tag-selected-for-date="isTagSelectedForDate"\n                     use-date-time-tags="useDateTimeTags"\n                     mode="mode"\n                     is-open="isOpen"\n                     is-date-selected="isDateSelected"\n                     get-custom-classes-and-styles-for-date="getCustomClassesAndStylesForDate"\n                     use-mobile-layout="{{useMobileLayout}}" class="ion-datetimepicker-datepicker">\n                </div>',h=this.$compile(g)(this.$scope);this.$element.find(".datepicker-holder").append(h),this.$element.on("$destroy",function(){b.$scope&&b.$scope.$destroy()}),this.$scope.$on("$destroy",function(){h.remove(),f.remove(),b.dateFormattingService.preferenceChanged.remove(b.preferenceChangeHandler)})},d.prototype.navigateToToday=function(){var a=new Date;a.setHours(0,0,0,0);var b=!this.$scope.isOutOfRange(a);!b&&this.$scope.datepickerOptions&&this.$scope.datepickerOptions.minDate?this.$scope.navigate(this.$scope.datepickerOptions.minDate):!b&&this.$scope.datepickerOptions&&this.$scope.datepickerOptions.maxDate?this.$scope.navigate(this.$scope.datepickerOptions.maxDate):this.$scope.navigate(a),this.$scope.refreshDatePicker()},d.prototype.navigateToDate=function(a){var b=this.dateTimePickerHelper.dateFromDateTimeTag(a);b&&!this.$scope.isOutOfRange(b)?(this.$scope.navigate(b),this.$scope.refreshDatePicker()):this.navigateToToday()},d.prototype.initWatches=function(){var a=this;this.$scope.$watch("mode",function(c,d){c!==d&&(a.$scope.mode=!b.DateTimePickerMode[c]&&b.DateTimePickerMode.DateTime||c,a.$scope.selectedSummary!=b.SelectedDateTimeSummary.Tags&&(a.$scope.selectedSummary=a.$scope.mode==b.DateTimePickerMode.Time?b.SelectedDateTimeSummary.Time:b.SelectedDateTimeSummary.Date),a.$scope.refresh())}),this.$scope.$watch("useDateTimeTags",function(c,d){c!==d&&(a.filterTagsAndCreateStyleCache(),a.$scope.refresh(),c||a.$scope.selectedSummary!=b.SelectedDateTimeSummary.Tags||(a.$scope.selectedSummary=a.$scope.mode==b.DateTimePickerMode.Time?b.SelectedDateTimeSummary.Time:b.SelectedDateTimeSummary.Date))}),this.$scope.$watch("hideTagPanel",function(c,d){c!==d&&c&&a.$scope.selectedSummary==b.SelectedDateTimeSummary.Tags&&(a.$scope.selectedSummary=a.$scope.mode==b.DateTimePickerMode.Time?b.SelectedDateTimeSummary.Time:b.SelectedDateTimeSummary.Date)}),this.$scope.$watch("dateTimeTags",function(b,c){a.filterTagsAndCreateStyleCache(),a.$scope.refresh()},!0),this.$scope.$watch("numberOfTagColumns",function(b,c){a.$scope.numberOfTagColumns=a.getUpdatedTagColumns(b)}),this.$scope.$watch("isOpen",function(b,c){b!==c&&b&&a.$scope.refresh()}),this.$scope.$watchGroup(["compact","headerOptions"],function(b,c){for(var d=0;d<b.length&&b[d]===c[d];d++);d<b.length&&a.$scope.refresh()}),this.$scope.$watch("date",function(b,c){b!==c&&a.validateModelValue(b)}),this.$scope.datepickerOptions&&this.$scope.$watchGroup(["datepickerOptions.minDate","datepickerOptions.maxDate"],function(b,c){for(var d=0;d<b.length&&b[d]===c[d];d++);if(d<b.length){var e=a.dateTimePickerHelper.dateFromDateTimeTag(a.$scope.date),f=a.$scope.isOutOfRange(e);f&&a.$scope.$evalAsync(function(){a.$scope.date=null})}})},d.prototype.showSeconds=function(){return this.$scope.timepickerOptions&&this.$scope.timepickerOptions.showSeconds},d.prototype.isTagSelected=function(a){if(!this.$scope.date||!a||!a.date)return!1;var c=this.dateTimePickerHelper.isDateTimeTag(this.$scope.date);if(!c)return!1;var d=this.dateTimePickerHelper.dateFromDateTimeTag(this.$scope.date);return!!d&&(!this.$scope.isDateDisabled(a.date)&&this.dateTimePickerHelper.compareTags(this.$scope.date,a,this.$scope.mode,!0,this.showSeconds()&&b.TimeComparisonLevel.Seconds))},d.prototype.updateDateStyleCache=function(a){var b=this.dateTimePickerHelper.dateFromDateTimeTag(a);if(b){b=new Date(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0,0);var c=this._dateStyleMap[b.getTime()];!c&&a.style&&(c={},c.classes={},c.style=this.dateTimePickerHelper.getTagStyle(a),a.style.paletteColor&&a.style.paletteColor.length?c.classes["ionbtn-"+a.style.paletteColor]=!0:c.classes["ionbtn-auto"]=!0,this._dateStyleMap[b.getTime()]=c)}},d.prototype.filterTagsAndCreateStyleCache=function(){if(this._dateStyleMap={},this._tagStyleMap={},this.$scope.useDateTimeTags&&this.$scope.dateTimeTags){for(var a=[],c={},d=0;d<this.$scope.dateTimeTags.length;++d){var e=this.$scope.dateTimeTags[d];if(c[e.name])throw new Error("Tag with name '"+e.name+"' already exists.");c[e.name]=!0,e.visibility!==b.TagVisibility.Dropdown&&(a.push(e),this.updateTagStyleCache(e)),this.updateDateStyleCache(e)}
this.$scope.tagsForTagsPanel=a}else this.$scope.tagsForTagsPanel=null},d.prototype.initTagHandlingFunctions=function(){var a=this;this.$scope.isTagSelectedForDate=function(c){if(!a.$scope.useDateTimeTags||!c)return!1;var d=a.dateTimePickerHelper.isDateTimeTag(a.$scope.date);if(!d)return!1;var e=a.dateTimePickerHelper.dateFromDateTimeTag(a.$scope.date);if(!e)return!1;var f=new Date(c.getTime());if(a.$scope.internalTime?f.setHours(a.$scope.internalTime.getHours(),a.$scope.internalTime.getMinutes(),1==a.showSeconds()?a.$scope.internalTime.getSeconds():0,0):f.setHours(0,0,0,0),a.$scope.isDateDisabled(f))return!1;var g=a.dateTimePickerHelper.compare(f,e,a.$scope.mode,a.showSeconds()&&b.TimeComparisonLevel.Seconds);return 0===g},this.$scope.isTagDisabled=function(b){var c=b&&b.date;return a.$scope.isDateDisabled(c)},this.$scope.onTagChanged=function(b){a.$scope.internalDate=b.date,b.date&&(a.$scope.internalTime=new Date(b.date.getTime())),a.$scope.date=b,a.$scope.onDateTimeChanged&&a.$scope.onDateTimeChanged({date:a.$scope.date})}},d.prototype.initDateHandlingFunction=function(){var a=this;this.$scope.isOutOfRange=function(c){return!(!a.$scope.datepickerOptions||!c)&&(a.$scope.datepickerOptions.minDate&&a.dateTimePickerHelper.compare(c,a.$scope.datepickerOptions.minDate,b.DateTimePickerMode.Date)<0||a.$scope.datepickerOptions.maxDate&&a.dateTimePickerHelper.compare(c,a.$scope.datepickerOptions.maxDate,b.DateTimePickerMode.Date)>0)},this.$scope.isDateDisabled=function(c){return a.$scope.mode===b.DateTimePickerMode.Time?!c||a.$scope.datepickerOptions&&a.$scope.datepickerOptions.dateDisabled&&a.$scope.datepickerOptions.dateDisabled(c,"day"):!c||a.$scope.isOutOfRange(c)||a.$scope.datepickerOptions&&a.$scope.datepickerOptions.dateDisabled&&a.$scope.datepickerOptions.dateDisabled(c,"day")},this.$scope.isDateSelected=function(c){var d=a.$scope.getSelectedRangeDate&&a.$scope.getSelectedRangeDate();if(!c||!d)return!1;var e=new Date(c.getTime());return e.setHours(a.$scope.internalTime.getHours(),a.$scope.internalTime.getMinutes(),1==a.showSeconds()?a.$scope.internalTime.getSeconds():0,0),0==a.dateTimePickerHelper.compare(d,e,a.$scope.mode,a.showSeconds()&&b.TimeComparisonLevel.Seconds)},this.$scope.formattedDate=function(){return a.$scope.internalDate&&a.dateFormattingService.toShortDate(a.$scope.internalDate)||""},this.$scope.formattedTime=function(){return a.$scope.internalTime?a.showSeconds()?a.dateFormattingService.toLongTime(a.$scope.internalTime):a.dateFormattingService.toShortTime(a.$scope.internalTime):""},this.$scope.onDateChange=function(c){if(c){var d=new Date(c.getTime());a.$scope.internalTime?d.setHours(a.$scope.internalTime.getHours(),a.$scope.internalTime.getMinutes(),1==a.showSeconds()?a.$scope.internalTime.getSeconds():0,0):d.setHours(0,0,0,0),a.$scope.date=!!a.$scope.useDateTimeTags&&a.dateTimePickerHelper.dateTimeTagFromDate(a.$scope.dateTimeTags,d,a.$scope.mode,a.showSeconds()&&b.TimeComparisonLevel.Seconds)||d,a.$scope.onDateTimeChanged&&a.$scope.onDateTimeChanged({date:a.$scope.date})}},this.$scope.onTimeChange=function(c){if(!c)return void a.$scope.refresh();if(!a.$scope.internalDate&&a.$scope.mode===b.DateTimePickerMode.DateTime&&a.$scope.isDateDisabled(c))return void a.$scope.refresh();var d=new Date(c.getTime());a.$scope.internalDate&&d.setFullYear(a.$scope.internalDate.getFullYear(),a.$scope.internalDate.getMonth(),a.$scope.internalDate.getDate()),a.$scope.date=!!a.$scope.useDateTimeTags&&a.dateTimePickerHelper.dateTimeTagFromDate(a.$scope.dateTimeTags,d,a.$scope.mode,a.showSeconds()&&b.TimeComparisonLevel.Seconds)||d,a.$scope.refresh()},this.$scope.clearDate=function(){a.$scope.date=null},this.$scope.refresh=function(){a.$scope.refreshDatePicker&&a.$scope.refreshDatePicker(),a.validateModelValue(a.$scope.date)},this.$scope.onTagsClicked=function(){a.$scope.selectedSummary=b.SelectedDateTimeSummary.Tags}},d.prototype.initTagsFormattingFunctions=function(){var a=this;this.$scope.getCustomClassesAndStylesForDate=function(b){var c,d=new Date(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0,0),e=a._dateStyleMap[d.getTime()];return a.$scope.rangePickerDateStyleMap?(c=a.$scope.rangePickerDateStyleMap[d.getTime()],{style:c&&c.style||e&&e.style,classes:c&&c.classes||e&&e.classes}):e}},d.prototype.validateModelValue=function(a){if(!a)return void this.clearInternalDateTime();var b=this.isValid(a);if(b){var c=this.dateTimePickerHelper.dateFromDateTimeTag(a);this.updateInternalDateTime(c)}else this.$scope.date=null,this.clearInternalDateTime()},d.prototype.isValid=function(a){if(!a)return!1;var c=this.dateTimePickerHelper.isDateTimeTag(a);if(!this.$scope.useDateTimeTags)return!c&&!this.$scope.isDateDisabled(a);if(this.$scope.useDateTimeTags){if(c){var d=this.dateTimePickerHelper.isTagAvailable(this.$scope.dateTimeTags,a,this.$scope.mode,!0,this.showSeconds()&&b.TimeComparisonLevel.Seconds);return d&&!this.$scope.isTagDisabled(a)}return!this.$scope.isDateDisabled(a)}},d.prototype.clearInternalDate=function(){this.$scope.internalDate=null},d.prototype.clearInternalTime=function(){var a=new Date;a.setHours(0,0,0,0),this.$scope.internalTime=a},d.prototype.clearInternalDateTime=function(){this.clearInternalDate(),this.clearInternalTime()},d.prototype.updateInternalDate=function(a){(this.$scope.internalDate&&0!==this.dateTimePickerHelper.compare(a,this.$scope.internalDate,b.DateTimePickerMode.Date)||!this.$scope.internalDate)&&(this.$scope.internalDate=new Date(a.getTime()))},d.prototype.updateInternalTime=function(a){(this.$scope.internalTime&&0!==this.dateTimePickerHelper.compare(a,this.$scope.internalTime,b.DateTimePickerMode.Time,this.showSeconds()&&b.TimeComparisonLevel.Seconds)||!this.$scope.internalTime)&&(this.$scope.internalTime=new Date(a.getTime()))},d.prototype.updateInternalDateTime=function(a){this.updateInternalDate(a),this.updateInternalTime(a)},d}(c);angular.module("ionwebTk").directive("ionwebDateTimePicker",["$compile","ionwebTk.dateFormattingService","ionweb.dateTimePickerHelperService","$templateCache","ionwebTk.toolkitConfigService","ionwebTk.environmentService",function(a,b,c,e,f,g){return{restrict:"EA",scope:{date:"=?ngModel",datepickerOptions:"=?",timepickerOptions:"=?",mode:"=?",dateTimeTags:"=?",numberOfTagColumns:"=?",useDateTimeTags:"=?",tagsHeaderText:"@?",onDateTimeChanged:"&?",refresh:"=?",onBind:"=?",compact:"=?",hideTagPanel:"=?",headerOptions:"=?",isOpen:"=?",getSelectedRangeDate:"=?",rangePickerDateStyleMap:"=?",selectedSummary:"=?"},templateUrl:f.datePicker.disableMobileLayout||!f.datePicker.enableMobileLayoutOnDesktop&&!g.isMobileDevice()?"toolkit/datetimepicker/ionwebDateTimepicker.tpl.html":"toolkit/datetimepicker/ionwebDateTimepickerMobile.tpl.html",link:function(h,i,j){h.useMobileLayout=!f.datePicker.disableMobileLayout&&(f.datePicker.enableMobileLayoutOnDesktop||g.isMobileDevice()),h.usingMobileLayoutOnDesktop=h.useMobileLayout&&!g.isSmallScreen(),new d(h,i,j,b,c,a,e)}}}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){angular.module("ionwebTk").filter("datePickerDayFormat",["ionwebTk.dateFormattingService",function(a){return function(b,c){return a.toCustom(b," "+c).trim()}}]),angular.module("ionwebTk").filter("datePickerWeekFormat",["ionwebTk.dateFormattingService",function(a){return function(b,c){var d=new Date,e=d.getDay(),f=(b+7-e)%7;return d.setDate(d.getDate()+f),a.toCustom(d,c)}}]),angular.module("ionwebTk").filter("datePickerYearFormat",["ionwebTk.dateFormattingService",function(a){return function(b,c){var d=Number(b),e=new Date;return e.setFullYear(d),a.toCustom(e,c)}}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){angular.module("ionwebTk").directive("ionDateTimePickerPopup",["$compile","ionweb.popupService","ionwebTk.environmentService","ionwebTk.toolkitConfigService",function(c,d,e,f){var g=function(c,g,h){function i(){var a;c.showPopupFullScreen()&&(a={showFullScreen:!0}),d.createPopup("toolkit/datetimepicker/dateTimepickerPopover.tpl.html",c.popupAnchorPoint&&c.popupAnchorPoint()||g,c,a).then(function(a){k=a,k.onClose.add(m),j(c.isOpen)})}function j(a){a&&c.dateTimePicker&&(c.popupInternalDate=c.date,c.dateTimePicker.navigateToDate(c.date)),a&&"day"!==c.datepickerOptions.datepickerMode&&(c.datepickerOptions.datepickerMode="day"),a&&k?(k.show(),c.disableFocusOnDatePicker||setTimeout(function(){k.element&&k.element.find(".ion-datetimepicker-popup").focus()})):k&&k.hide()}var k=void 0;c.datepickerOptions=c.datepickerOptions||{},c.datepickerOptions.datepickerMode="day",void 0!==c.isOpen&&null!==c.isOpen||(c.isOpen=!1),void 0!==c.closeOnDateSelection&&null!==c.closeOnDateSelection||(c.closeOnDateSelection=!0),void 0!==c.showPopupOnKeydown&&null!==c.showPopupOnKeydown||(c.showPopupOnKeydown=!0),c.getWindowHeight=function(){return c.showPopupFullScreen()?window.innerHeight+"px":void 0},c.showPopupFullScreen=function(){return!f.datePicker.disableMobileLayout&&e.isMobileDevice()&&e.isSmallScreen()},c.isMobileLayout=function(){return!f.datePicker.disableMobileLayout&&(f.datePicker.enableMobileLayoutOnDesktop||e.isMobileDevice())},c.isLandscapeMode=e.orientation==a.Orientation.Landscape&&c.showPopupFullScreen(),e.orientationChanged.add(function(b,d){c.isLandscapeMode=d==a.Orientation.Landscape&&c.showPopupFullScreen()}),c.onBindInternal=function(a){c.dateTimePicker=a,c.onBind&&c.onBind(c.dateTimePicker)},c.popupInternalDate=c.date,c.$watch("date",function(a,b){a!==b&&(c.popupInternalDate=a)}),c.onDateTimeChanged=function(a){c.isMobileLayout()||(a&&c.closeOnDateSelection&&(c.date=a),c.closeOnDateSelection&&c.close())},c.onOkClicked=function(){if(void 0!==c.popupInternalDate&&null!==c.popupInternalDate||c.mode!==b.DateTimePickerMode.Time)c.date=c.popupInternalDate;else{var a=new Date;a.setHours(0,0,0,0),c.date=a}c.close()},c.preventFocusOnMouseDown=function(a){c.disableFocusOnDatePicker&&(a.stopPropagation(),a.preventDefault())};var l=function(b){c.showPopupOnKeydown&&(b.which===a.KeyCodes.ESC&&c.isOpen?(b.preventDefault(),b.stopPropagation(),c.$apply(function(){c.isOpen=!1}),g[0].focus()):40!==b.which||c.isOpen||(b.preventDefault(),b.stopPropagation(),c.$apply(function(){c.isOpen=!0})))};g.bind("keydown",l),c.keydown=function(b){b.which===a.KeyCodes.ESC&&c.close()},c.$watch("isOpen",function(a,b){a!==b&&(a&&!k?i():j(a))}),c.close=function(){c.isOpen=!1,g[0].focus(),c.onDateTimePickerClose&&c.onDateTimePickerClose()};var m=function(){c.isOpen&&c.$evalAsync(function(){c.isOpen=!1})};c.$on("$destroy",function(){k&&(k.onClose.remove(m),k.destroy(),k=null),c.isOpen===!0&&(c.isOpen=!1),g.unbind("keydown",l)})};return{restrict:"EA",require:"ngModel",scope:{date:"=?ngModel",datepickerOptions:"=?",timepickerOptions:"=?",mode:"=?",isOpen:"=?",closeOnDateSelection:"=?",showPopupOnKeydown:"=?",dateTimeTags:"=?",numberOfTagColumns:"=?",useDateTimeTags:"=?",tagsHeaderText:"@?",refresh:"=?",onBind:"=?",compact:"=?",hideTagPanel:"=?",popupAnchorPoint:"=?",disableFocusOnDatePicker:"=?",onDateTimePickerClose:"&?",headerOptions:"=?"},compile:function(){return{post:g}}}}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){(function(){function a(){}return a})();angular.module("ionwebTk").constant("ionwebDatepickerConfig",{datepickerMode:"day",formatDay:"d",formatMonth:"MMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",isOpen:!0,maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!1,yearColumns:5,yearRows:4,formatMonthHeader:"MMMM",formatDateHeader:"dd"}),angular.module("ionwebTk").value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0);var c=function(){function a(a,b,c,d,e,f,g,h,i,j,k){var l=this;this.$scope=a,this.$element=b,this.$locale=e,this.$log=f,this.datepickerConfig=h,this.$datepickerSuppressError=j,this.dateParser=k,this.modes=["day","month","year"],this.watchListeners=[],this.eventListeners=[],this.updateMode=function(a,b){a!==b&&(l.modes.indexOf(a)!==-1?l.$scope.datepickerMode=a:l.modes.indexOf(b)!==-1?l.$scope.datepickerMode=b:l.$scope.datepickerMode=l.datepickerConfig.datepickerMode,l.refreshView())},this.updateStartingDay=function(a){angular.isDefined(a)?l.startingDay=a:angular.isNumber(a)?l.startingDay=a:l.startingDay=(l.$locale.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7,l.refreshView()},this.focusElement=function(){l.isDatePickerFocused=!0,l.controller.$element[0].focus()},this.blurElement=function(){l.isDatePickerFocused=!1,l.controller.$element[0].blur()},c.$set("role","application"),a.datepickerOptions||(a.datepickerOptions={}),a.isOpen=angular.isDefined(a.isOpen)?a.isOpen:h.isOpen,["dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows","formatDateHeader","formatMonthHeader"].forEach(function(b){switch(b){case"dateDisabled":a[b]=a.datepickerOptions[b]||function(){return!1};break;case"datepickerMode":a.datepickerMode=angular.isDefined(a.datepickerOptions.datepickerMode)?a.datepickerOptions.datepickerMode:h.datepickerMode,l.watchListeners.push(a.$watch("datepickerOptions."+b,l.updateMode));break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":case"formatMonthHeader":case"formatDateHeader":l[b]=angular.isDefined(a.datepickerOptions[b])?d(a.datepickerOptions[b])(a.$parent):h[b],a[b]=l[b];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":l[b]=angular.isDefined(a.datepickerOptions[b])?a.datepickerOptions[b]:h[b];break;case"startingDay":l.startingDay=(e.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7,l.watchListeners.push(a.$watch("datepickerOptions."+b,l.updateStartingDay));break;case"maxDate":case"minDate":l.watchListeners.push(a.$watch("datepickerOptions."+b,function(a){a?angular.isDate(a)?l[b]=k.fromTimezone(new Date(a.getTime()),l.ngModelOptions.timezone):(i&&f.warn("Literal date support has been deprecated, please switch to date object usage"),l[b]=new Date(g(a,"medium"))):l[b]=h[b]?k.fromTimezone(new Date(h[b]),l.ngModelOptions.timezone):null,l.refreshView()}));break;case"maxMode":case"minMode":a.datepickerOptions[b]?a.$watch("datepickerOptions."+b,function(c){l[b]=a[b]=angular.isDefined(c)?c:a.datepickerOptions[b],("minMode"===b&&l.modes.indexOf(l.$scope.datepickerOptions.datepickerMode)<l.modes.indexOf(l[b])||"maxMode"===b&&l.modes.indexOf(l.$scope.datepickerOptions.datepickerMode)>l.modes.indexOf(l[b]))&&(a.datepickerMode=l[b],a.datepickerOptions.datepickerMode=l[b])}):l[b]=a[b]=h[b]||null}}),a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),a.disabled=angular.isDefined(c.disabled)||!1,angular.isDefined(c.ngDisabled)&&this.watchListeners.push(a.$parent.$watch(c.ngDisabled,function(b){a.disabled=b,l.refreshView()})),a.isActive=function(b){return 0===l.controller.compare(b.date,l.activeDate)&&(a.activeDateId=b.uid,!0)},a.select=function(b){if(a.datepickerMode===l.minMode){var c=l.ngModelCtrl.$viewValue?k.fromTimezone(new Date(l.ngModelCtrl.$viewValue),l.ngModelOptions.timezone):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),c=k.toTimezone(c,l.ngModelOptions.timezone),l.ngModelCtrl.$setViewValue(c),l.ngModelCtrl.$render()}else a.datepickerMode===l.maxMode?(l.activeDate.setFullYear(b.getFullYear(),l.activeDate.getMonth(),l.activeDate.getDate()),l.setMode(l.modes[l.modes.indexOf(a.datepickerMode)-1]),a.$emit("ionweb:datepicker.mode")):(l.activeDate.setFullYear(b.getFullYear(),b.getMonth(),l.activeDate.getDate()),l.setMode(l.modes[l.modes.indexOf(a.datepickerMode)-1]),a.$emit("ionweb:datepicker.mode"))},a.move=function(a){var b=l.activeDate.getFullYear()+a*(l.controller.step.years||0),c=l.activeDate.getMonth()+a*(l.controller.step.months||0);l.activeDate.setFullYear(b,c,1),l.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===l.maxMode&&1===b||a.datepickerMode===l.minMode&&b===-1||(l.setMode(l.modes[l.modes.indexOf(a.datepickerMode)+b]),a.$emit("ionweb:datepicker.mode"))},a.setDatePickerMode=function(b){l.setMode(b),a.$emit("ionweb:datepicker.mode")},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"},a.raiseFocus=function(b){a.$emit("ionweb:datepicker.focus")},a.raiseBlur=function(b){a.$emit("ionweb:datepicker.blur")},this.eventListeners.push(a.$on("ionweb:datepicker.focus",this.focusElement)),this.eventListeners.push(a.$on("ionweb:datepicker.blur",this.blurElement)),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey&&!a.disabled)if(b.preventDefault(),l.shortcutPropagation||b.stopPropagation(),"enter"===c||"space"===c){if(l.isDisabled(l.activeDate))return;a.select(l.activeDate)}else!b.ctrlKey||"up"!==c&&"down"!==c?(l.controller.handleKeyDown(c,b),l.refreshView()):a.toggleMode("up"===c?1:-1)},b.on("keydown",function(b){a.$evalAsync(function(){a.keydown(b)})}),a.$on("$destroy",function(){for(;l.watchListeners.length;)l.watchListeners.shift()();for(;l.eventListeners.length;)l.eventListeners.shift()()})}return a.prototype.setMode=function(a){this.$scope.datepickerMode=a,this.$scope.datepickerOptions.datepickerMode=a},a.prototype.init=function(a){var b=this;this.ngModelCtrl=a,this.ngModelOptions=a.$options||this.$scope.datepickerOptions.ngModelOptions||this.datepickerConfig.ngModelOptions;var c=this.$scope.datepickerOptions.initDate;c?(this.activeDate=this.dateParser.fromTimezone(c,this.ngModelOptions.timezone)||new Date,this.$scope.$watch("datepickerOptions.initDate",function(a){a&&(b.ngModelCtrl.$isEmpty(b.ngModelCtrl.$modelValue)||b.ngModelCtrl.$invalid)&&(b.activeDate=b.dateParser.fromTimezone(a,b.ngModelOptions.timezone),b.refreshView())})):this.activeDate=new Date;var d=this.ngModelCtrl.$modelValue?new Date(this.ngModelCtrl.$modelValue):new Date;this.activeDate=isNaN(d.getTime())?this.dateParser.fromTimezone(new Date,this.ngModelOptions.timezone):this.dateParser.fromTimezone(d,this.ngModelOptions.timezone),this.ngModelCtrl.$render=function(){b.render()}},a.prototype.initController=function(a){this.controller=a,this.controller.init(this)},a.prototype.render=function(){if(this.ngModelCtrl.$viewValue){var a=new Date(this.ngModelCtrl.$viewValue),b=!isNaN(a.getTime());b?this.activeDate=this.dateParser.fromTimezone(a,this.ngModelOptions.timezone):this.$datepickerSuppressError||this.$log.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},a.prototype.refreshView=function(){if(this.controller){this.$scope.selectedDt=null,this.controller._refreshView(),this.$scope.activeDt&&(this.$scope.activeDateId=this.$scope.activeDt.uid);var a=this.ngModelCtrl.$viewValue?new Date(this.ngModelCtrl.$viewValue):null;a=this.dateParser.fromTimezone(a,this.ngModelOptions.timezone),this.ngModelCtrl.$setValidity("dateDisabled",!a||this.controller.$element&&!this.isDisabled(a))}},a.prototype.classesAndStylesForDate=function(a){var b=this.$scope.isActive(a);return this.controller._classesAndStylesForDate&&this.controller._classesAndStylesForDate(a,this.isDatePickerFocused,b)},a.prototype.createDateObject=function(a,b){var c=this.ngModelCtrl.$viewValue?new Date(this.ngModelCtrl.$viewValue):null;c=this.dateParser.fromTimezone(c,this.ngModelOptions.timezone);var d=new Date;d=this.dateParser.fromTimezone(d,this.ngModelOptions.timezone);var e=this.controller.compare(a,d),f={date:a,label:this.dateParser.filter(a,b),selected:c&&0===this.controller.compare(a,c),disabled:this.isDisabled(a),past:e<0,current:0===e,future:e>0};return f.selected&&(this.$scope.selectedDt=f),this.activeDate&&0===this.controller.compare(f.date,this.activeDate)&&(this.$scope.activeDt=f),f},a.prototype.isDisabled=function(a){return this.$scope.disabled||this.minDate&&this.controller.compare(a,this.minDate)<0||this.maxDate&&this.controller.compare(a,this.maxDate)>0||this.$scope.dateDisabled&&this.$scope.dateDisabled(a,this.$scope.datepickerMode)},a.prototype.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.$inject=["$scope","$element","$attrs","$interpolate","$locale","$log","dateFilter","ionwebDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser"],a}(),d=function(){function b(b,c,d){var e=this;this.$scope=b,this.$element=c,this.dateFilter=d,this.step={months:1},this.onFocus=function(a){e.$scope.$evalAsync(function(){e.$scope.raiseFocus(a)})},this.onBlur=function(a){e.$scope.$evalAsync(function(){e.$scope.raiseBlur(a)})},this.compare=function(a,b){var c=new Date(a.getFullYear(),a.getMonth(),a.getDate()),d=new Date(b.getFullYear(),b.getMonth(),b.getDate());return c.setFullYear(a.getFullYear()),d.setFullYear(b.getFullYear()),c.getTime()-d.getTime()},this._classesAndStylesForDate=function(b,c,d){var f=e.$scope.isTagSelectedForDate(b.date),g={"ion-datepicker-roundbtn":!0,"ion-datepicker-roundbtn-out-of-month":b.secondary&&!(b.disabled||b.current||b.selected),"ion-datepicker-roundbtn-current":!!b.current,"ion-datepicker-roundbtn-selected":e.$scope.useDateTimeTags?b.selected&&!f:!!b.selected,"ion-datepicker-roundbtn-selected-tag":b.selected&&(!!e.$scope.useDateTimeTags&&f||e.$scope.isDateSelected&&e.$scope.isDateSelected(b.date)),"ion-datepicker-roundbtn-active":c&&d&&!b.selected&&!b.current&&!b.disabled&&(!e.$scope.useDateTimeTags||!f),"ion-datepicker-roundbtn-active-disabled":c&&d&&b.disabled},h=!b.selected&&e.$scope.getCustomClassesAndStylesForDate&&e.$scope.getCustomClassesAndStylesForDate(b.date);return!b.selected&&h&&h.classes?g=a.extend(g,[h.classes]):(g["ion-datepicker-roundbtn-defaultstyle"]=!0,g["ion-datepicker-roundbtn-disabled"]=!!b.disabled),{classes:g,style:h&&h.style}},this.handleKeyDown=function(a,b){var c=e.datePickerController.activeDate.getDate();switch(a){case"left":c-=1;break;case"up":c-=7;break;case"right":c+=1;break;case"down":c+=7;break;case"pageup":case"pagedown":var d=e.datePickerController.activeDate.getMonth()+("pageup"===a?-1:1);e.datePickerController.activeDate.setMonth(d,1),c=Math.min(e.getDaysInMonth(e.datePickerController.activeDate.getFullYear(),e.datePickerController.activeDate.getMonth()),c);break;case"home":c=1;break;case"end":c=e.getDaysInMonth(e.datePickerController.activeDate.getFullYear(),e.datePickerController.activeDate.getMonth())}e.datePickerController.activeDate.setDate(c)},this.$element.on("focus",this.onFocus),this.$element.on("blur",this.onBlur),this.$element.on("$destroy",function(){e.$element.off("focus",e.onFocus),e.$element.off("blur",e.onBlur)})}return b.prototype.getDaysInMonth=function(a,c){return 1!==c||a%4!==0||a%100===0&&a%400!==0?b.DAYS_IN_MONTH[c]:29},b.prototype.init=function(a){this.datePickerController=a,this.$scope.showWeeks=a.showWeeks,a.refreshView()},b.prototype._refreshView=function(){var a=this.datePickerController.activeDate.getFullYear(),b=this.datePickerController.activeDate.getMonth(),c=new Date(this.datePickerController.activeDate);c.setFullYear(a,b,1);var d=this.datePickerController.startingDay-c.getDay(),e=d>0?7-d:-d,f=new Date(c.getTime());e>0&&f.setDate(-e+1);for(var g,h=new Array(42),i=new Date(f),j=0;j<42;j++){g=new Date(i.getTime()),h[j]=angular.extend(this.datePickerController.createDateObject(g,this.datePickerController.formatDay),{uid:this.$scope.uniqueId+"-"+j,secondary:g.getMonth()!==b});var k=this.datePickerController.classesAndStylesForDate(h[j]);h[j].customClass=k&&k.classes||null,h[j].customStyle=k&&k.style||null,i.setDate(i.getDate()+1)}this.$scope.labels=new Array(7);for(var l=0;l<7;l++)this.$scope.labels[l]={abbr:this.dateFilter(h[l].date,this.datePickerController.formatDayHeader),full:this.dateFilter(h[l].date,"EEEE"),weekday:h[l].date.getDay()};if(this.$scope.title=this.dateFilter(this.datePickerController.activeDate,this.datePickerController.formatDayTitle),this.$scope.rows=this.datePickerController.split(h,7),this.$scope.showWeeks){this.$scope.weekNumbers=[];for(var m=(11-this.datePickerController.startingDay)%7,n=this.$scope.rows.length,o=0;o<n;o++)this.$scope.weekNumbers.push(this.getISO8601WeekNumber(this.$scope.rows[o][m].date))}},b.prototype.getISO8601WeekNumber=function(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b.getTime())/864e5)/7)+1},b.$inject=["$scope","$element","dateFilter"],b.DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],b}(),e=function(){function a(a,b,c){var d=this;this.$scope=a,this.$element=b,this.dateFilter=c,this.step={years:1},this.compare=function(a,b){var c=new Date(a.getFullYear(),a.getMonth()),d=new Date(b.getFullYear(),b.getMonth());return c.setFullYear(a.getFullYear()),d.setFullYear(b.getFullYear()),c.getTime()-d.getTime()},this.handleKeyDown=function(a,b){var c=d.datePickerController.activeDate.getMonth();if("left"===a)c-=1;else if("up"===a)c-=d.datePickerController.monthColumns;else if("right"===a)c+=1;else if("down"===a)c+=d.datePickerController.monthColumns;else if("pageup"===a||"pagedown"===a){var e=d.datePickerController.activeDate.getFullYear()+("pageup"===a?-1:1);d.datePickerController.activeDate.setFullYear(e)}else"home"===a?c=0:"end"===a&&(c=11);d.datePickerController.activeDate.setMonth(c)},this.onFocus=function(a){d.$scope.$evalAsync(function(){d.$scope.raiseFocus(a)})},this.onBlur=function(a){d.$scope.$evalAsync(function(){d.$scope.raiseBlur(a)})},this.$element.on("focus",this.onFocus),this.$element.on("blur",this.onBlur),this.$element.on("$destroy",function(){d.$element.off("focus",d.onFocus),d.$element.off("blur",d.onBlur)})}return a.prototype.init=function(a){this.datePickerController=a,a.refreshView()},a.prototype._refreshView=function(){for(var a=new Array(12),b=this.datePickerController.activeDate.getFullYear(),c=0;c<12;c++){var d=new Date(this.datePickerController.activeDate);d.setFullYear(b,c,1);var e=angular.extend(this.datePickerController.createDateObject(d,this.datePickerController.formatMonth),{uid:this.$scope.uniqueId+"-"+c}),f=this.datePickerController.classesAndStylesForDate(e);e.customClass=f&&f.classes||null,e.customStyle=f&&f.style||null,a[c]=e}this.$scope.title=this.dateFilter(this.datePickerController.activeDate,this.datePickerController.formatMonthTitle),this.$scope.rows=this.datePickerController.split(a,this.datePickerController.monthColumns),this.$scope.yearHeaderColspan=this.datePickerController.monthColumns>3?this.datePickerController.monthColumns-2:1},a.prototype._classesAndStylesForDate=function(a,b,c){return{classes:{"ion-datepicker-ovalbtn":!0,"ion-datepicker-ovalbtn-disabled":a.disabled,"ion-datepicker-ovalbtn-current":a.current,"ion-datepicker-ovalbtn-selected":a.selected,"ion-datepicker-ovalbtn-active":b&&c&&!a.selected&&!a.current&&!a.disabled,"ion-datepicker-ovalbtn-active-disabled":b&&c&&a.disabled}}},a.$inject=["$scope","$element","dateFilter"],a}(),f=function(){function a(a,b,c){var d=this;this.scope=a,this.$element=b,this.dateFilter=c,this.step={years:1},this.onFocus=function(a){d.scope.$evalAsync(function(){d.scope.raiseFocus(a)})},this.onBlur=function(a){d.scope.$evalAsync(function(){d.scope.raiseBlur(a)})},this.$element.on("focus",this.onFocus),this.$element.on("blur",this.onBlur),this.$element.on("$destroy",function(){d.$element.off("focus",d.onFocus),d.$element.off("blur",d.onBlur)})}return a.prototype.getStartingYear=function(a){return parseInt(String((a-1)/this.range),10)*this.range+1},a.prototype.init=function(a){this.datePickerController=a,this.columns=this.datePickerController.yearColumns,this.range=this.datePickerController.yearRows*this.columns,this.step={years:this.range},a.refreshView()},a.prototype._refreshView=function(){for(var a=new Array(this.range),b=0,c=this.getStartingYear(this.datePickerController.activeDate.getFullYear());b<this.range;b++){var d=new Date(this.datePickerController.activeDate);d.setFullYear(c+b,0,1);var e=angular.extend(this.datePickerController.createDateObject(d,this.datePickerController.formatYear),{uid:this.scope.uniqueId+"-"+b}),f=this.datePickerController.classesAndStylesForDate(e);e.customClass=f&&f.classes||null,e.customStyle=f&&f.style||null,a[b]=e}this.scope.title=[a[0].label,a[this.range-1].label].join(" - "),this.scope.rows=this.datePickerController.split(a,this.columns),this.scope.columns=this.columns},a.prototype.compare=function(a,b){return a.getFullYear()-b.getFullYear()},a.prototype.handleKeyDown=function(a,b){var c=this.datePickerController.activeDate.getFullYear();switch(a){case"left":c-=1;break;case"up":c-=this.columns;break;case"right":c+=1;break;case"down":c+=this.columns;break;case"pageup":case"pagedown":c+=("pageup"===a?-1:1)*this.range;break;case"home":c=this.getStartingYear(this.datePickerController.activeDate.getFullYear());break;case"end":c=this.getStartingYear(this.datePickerController.activeDate.getFullYear())+this.range-1}this.datePickerController.activeDate.setFullYear(c)},a.prototype._classesAndStylesForDate=function(a,b,c){return{classes:{"ion-datepicker-ovalbtn":!0,"ion-datepicker-ovalbtn-year":!0,"ion-datepicker-ovalbtn-disabled":a.disabled,"ion-datepicker-ovalbtn-current":a.current,"ion-datepicker-ovalbtn-selected":a.selected,"ion-datepicker-ovalbtn-active":b&&c&&!a.selected&&!a.current&&!a.disabled,"ion-datepicker-ovalbtn-active-disabled":b&&c&&a.disabled}}},a.$inject=["$scope","$element","dateFilter"],a}();angular.module("ionwebTk").directive("ionwebDatepicker",function(){return{restrict:"A",require:["ionwebDatepicker","^ngModel"],templateUrl:function(a,b){return b.templateUrl||"toolkit/datetimepicker/datepickerOverride.tpl.html"},scope:{datepickerOptions:"=?",isTagSelectedForDate:"=?",useDateTimeTags:"=?",mode:"=?",isOpen:"=?",isDateSelected:"=?",getCustomClassesAndStylesForDate:"=?",isOutOfRange:"=?",refresh:"=?",activeDate:"=?",navigate:"=?",useMobileLayout:"@?"},controller:c,controllerAs:"datepicker",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}).directive("ionwebDaypicker",function(){return{restrict:"A",require:["^ionwebDatepicker","ionwebDaypicker"],templateUrl:function(a,b){return b.templateUrl||"toolkit/datetimepicker/daypickerOverride.tpl.html"},controller:d,link:function(a,b,c,d){var e=d[0],f=d[1];e.initController(f)}}}).directive("ionwebMonthpicker",function(){return{restrict:"A",require:["^ionwebDatepicker","ionwebMonthpicker"],templateUrl:function(a,b){return b.templateUrl||"toolkit/datetimepicker/monthpickerOverride.tpl.html"},controller:e,link:function(a,b,c,d){var e=d[0],f=d[1];e.initController(f)}}}).directive("ionwebYearpicker",function(){return{restrict:"A",require:["^ionwebDatepicker","ionwebYearpicker"],templateUrl:function(a,b){return b.templateUrl||"toolkit/datetimepicker/yearpickerOverride.tpl.html"},controller:f,link:function(a,b,c,d){var e=d[0],f=d[1];e.initController(f)}}})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){angular.module("ionwebTk").constant("ionwebTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"toolkit/datetimepicker/timepickerOverride.tpl.html",showSeconds:!1}),angular.module("ionwebTk").controller("ionwebTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","ionwebTimepickerConfig","ionwebTk.toolkitConfigService","ionwebTk.environmentService",function(c,d,e,f,g,h,i,j,k){function l(){var a=+c.hours,b=c.showMeridian?a>0&&a<13:a>=0&&a<24;if(b&&""!==c.hours)return c.showMeridian&&(12===a&&(a=0),c.meridian===C[1]&&(a+=12)),a}function m(){var a=+c.minutes,b=a>=0&&a<60;if(b&&""!==c.minutes)return a}function n(){var a=+c.seconds,b=a>=0&&a<60;if(b&&""!==c.seconds)return a}function o(a,b){return null===a?"":angular.isDefined(a)&&a.toString().length<2&&!b?"0"+a:a.toString()}function p(a){q(),B.$setViewValue(new Date(z.getTime())),r(a)}function q(){
w&&w.$setValidity("hours",!0),x&&x.$setValidity("minutes",!0),y&&y.$setValidity("seconds",!0),B.$setValidity("time",!0),c.invalidHours=!1,c.invalidMinutes=!1,c.invalidSeconds=!1}function r(a){if(B.$modelValue){var b=z.getHours(),d=z.getMinutes(),e=z.getSeconds();c.showMeridian&&(b=0===b||12===b?12:b%12),c.hours="h"===a?b.toString():o(b,!D),"m"!==a&&(c.minutes=o(d)),"s"!==a&&(c.seconds=o(e)),c.meridian=z.getHours()<12?C[0]:C[1]}else c.hours=null,c.minutes=null,c.seconds=null,c.meridian=C[0]}function s(a){z=u(z,a),p()}function t(a,b){return u(a,60*b)}function u(a,b){var c=new Date(a.getTime()+1e3*b),d=new Date(a);return d.setHours(c.getHours(),c.getMinutes(),c.getSeconds()),d}function v(){return c.showSeconds?!(null!==c.hours&&""!==c.hours||null!==c.minutes&&""!==c.minutes||null!==c.seconds&&""!==c.seconds):!(null!==c.hours&&""!==c.hours||null!==c.minutes&&""!==c.minutes)}var w,x,y,z=new Date,A=[],B={$setViewValue:angular.noop},C=angular.isDefined(e.meridians)?c.$parent.$eval(e.meridians):i.meridians||h.DATETIME_FORMATS.AMPMS,D=!angular.isDefined(e.padHours)||c.$parent.$eval(e.padHours);c.tabindex=angular.isDefined(e.tabindex)?e.tabindex:0,c.useMobileLayout=!j.datePicker.disableMobileLayout&&(j.datePicker.enableMobileLayoutOnDesktop||k.isMobileDevice()),c.isDesktop=!k.isMobileDevice(),d.removeAttr("tabindex"),this.init=function(b,d){B=b,B.$render=this.render,B.$formatters.unshift(function(a){return a?new Date(a):null}),c.hoursValidationState=a.validation.ValidationState.Valid,c.minutesValidationState=a.validation.ValidationState.Valid,c.secondsValidationState=a.validation.ValidationState.Valid,c.hoursValidationMessage="",c.minutesValidationMessage="",c.secondsValidationMessage="";var f=d.eq(0),g=d.eq(1),h=d.eq(2);w=f.controller("ngModel"),x=g.controller("ngModel"),y=h.controller("ngModel"),c.mousewheel=angular.isDefined(c.mousewheel)?c.mousewheel:i.mousewheel,this.setupMousewheelEvents(f,g,h);var j=angular.isDefined(e.arrowkeys)?c.$parent.$eval(e.arrowkeys):i.arrowkeys;j&&this.setupArrowkeyEvents(f,g,h),c.readonlyInput=angular.isDefined(e.readonlyInput)?c.$parent.$eval(e.readonlyInput):i.readonlyInput,this.setupInputEvents(f,g,h)},A.push(c.$watch("hours",function(){c.invalidHours?(c.hoursValidationState=a.validation.ValidationState.Error,c.hoursValidationMessage=b.Strings.Err_dateTimepickerDecorator_Invalid_Hours):(c.hoursValidationState=a.validation.ValidationState.Valid,c.hoursValidationMessage="")})),A.push(c.$watch("minutes",function(){c.invalidMinutes?(c.minutesValidationState=a.validation.ValidationState.Error,c.minutesValidationMessage=b.Strings.Err_dateTimepickerDecorator_Invalid_Minutes):(c.minutesValidationState=a.validation.ValidationState.Valid,c.minutesValidationMessage="")})),A.push(c.$watch("seconds",function(){c.invalidSeconds?(c.secondsValidationState=a.validation.ValidationState.Error,c.secondsValidationMessage=b.Strings.Err_dateTimepickerDecorator_Invalid_Seconds):(c.secondsValidationState=a.validation.ValidationState.Valid,c.secondsValidationMessage="")}));var E=i.hourStep;e.hourStep&&A.push(c.$parent.$watch(f(e.hourStep),function(a){E=+a}));var F=i.minuteStep;e.minuteStep&&A.push(c.$parent.$watch(f(e.minuteStep),function(a){F=+a}));var G=i.secondStep;c.secondStep&&A.push(c.$watch("secondStep",function(a,b){a!=b&&(G=+a)}));var H;A.push(c.$parent.$watch(f(e.min),function(a){var b=new Date(a);H=isNaN(b.getTime())?void 0:b}));var I;A.push(c.$parent.$watch(f(e.max),function(a){var b=new Date(a);I=isNaN(b.getTime())?void 0:b}));var J=!1;e.ngDisabled&&A.push(c.$parent.$watch(f(e.ngDisabled),function(a){J=a})),c.noIncrementHours=function(){var a=t(z,60*E);return J||a>I||a<z&&a<H},c.noDecrementHours=function(){var a=t(z,60*-E);return J||a<H||a>z&&a>I},c.noIncrementMinutes=function(){var a=t(z,F);return J||a>I||a<z&&a<H},c.noDecrementMinutes=function(){var a=t(z,-F);return J||a<H||a>z&&a>I},c.shouldIncrementSeconds=function(){var a=u(z,G);return!J&&a<I&&a>z&&a>H},c.shouldDecrementSeconds=function(){var a=u(z,-G);return!J&&a>H&&a<z&&a<I},c.noToggleMeridian=function(){return z.getHours()<12?J||t(z,720)>I:J||t(z,-720)<H},c.showMeridian=angular.isDefined(c.showMeridian)?c.showMeridian:i.showMeridian,e.showMeridian&&A.push(c.$parent.$watch(f(e.showMeridian),function(a){if(c.showMeridian=!!a,B.$error.time){var b=l(),d=m(),e=n();angular.isDefined(b)&&angular.isDefined(d)&&angular.isDefined(e)&&(z.setHours(b),p())}else r()})),c.showSeconds=angular.isDefined(c.showSeconds)?c.showSeconds:i.showSeconds,c.$watch("showSeconds",function(a,b){if(a!=b)if(B.$error.time){var c=l(),d=m(),e=n();angular.isDefined(c)&&angular.isDefined(d)&&angular.isDefined(e)&&(z.setHours(c,d,e),p())}else r()}),this.setupMousewheelEvents=function(a,b,d){var e=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0},f=function(a){J||c.$apply(e(a)?c.incrementHours():c.decrementHours()),a.preventDefault()},g=function(a){J||c.$apply(e(a)?c.incrementMinutes():c.decrementMinutes()),a.preventDefault()},h=function(a){J||c.$apply(e(a)?c.incrementSeconds():c.decrementSeconds()),a.preventDefault()};A.push(c.$watch("mousewheel"),function(c,e){c!==e&&(c||(a.unbind("mousewheel wheel",f),b.unbind("mousewheel wheel",g),d.unbind("mousewheel wheel",h)))}),a.bind("focus",function(b){c.mousewheel&&a.bind("mousewheel wheel",f)}),b.bind("focus",function(a){c.mousewheel&&b.bind("mousewheel wheel",g)}),d.bind("focus",function(a){c.mousewheel&&d.bind("mousewheel wheel",h)}),a.bind("blur",function(b){a.unbind("mousewheel wheel",f)}),b.bind("blur",function(a){b.unbind("mousewheel wheel",g)}),d.bind("blur",function(a){d.unbind("mousewheel wheel",h)})},this.setupArrowkeyEvents=function(a,b,d){a.bind("keydown",function(a){J||(38===a.which?(a.preventDefault(),c.incrementHours(),c.$apply()):40===a.which&&(a.preventDefault(),c.decrementHours(),c.$apply()))}),b.bind("keydown",function(a){J||(38===a.which?(a.preventDefault(),c.incrementMinutes(),c.$apply()):40===a.which&&(a.preventDefault(),c.decrementMinutes(),c.$apply()))}),d.bind("keydown",function(a){J||(38===a.which?(a.preventDefault(),c.incrementSeconds(),c.$apply()):40===a.which&&(a.preventDefault(),c.decrementSeconds(),c.$apply()))})},this.setupInputEvents=function(a,b,d){if(c.readonlyInput)return c.updateHours=angular.noop,c.updateMinutes=angular.noop,void(c.updateSeconds=angular.noop);var e=function(a,b,d){B.$setViewValue(null),B.$setValidity("time",!1),angular.isDefined(a)&&(c.invalidHours=a,w&&w.$setValidity("hours",!1)),angular.isDefined(b)&&(c.invalidMinutes=b,x&&x.$setValidity("minutes",!1)),angular.isDefined(d)&&(c.invalidSeconds=d,y&&y.$setValidity("seconds",!1))};c.validateHours=function(){var a=+c.hours,b=c.showMeridian?12:23;a=a>b?b:a,c.hours=a.toString(),z.setHours(a),B.$setViewValue(new Date(z.getTime()))},c.updateHours=function(){var a=l(),b=m(),c=n();B.$setDirty(),angular.isDefined(a)&&angular.isDefined(b)&&angular.isDefined(c)?(z.setHours(a),z.setMinutes(b),z.setSeconds(c),z<H||z>I?e(!0):p("h")):e(!0)},a.bind("blur",function(a){B.$setTouched(),v()?q():null===c.hours||""===c.hours?e(!0):!c.invalidHours&&Number(c.hours)<10&&c.$apply(function(){c.hours=o(Number(c.hours),!D)})}),c.validateMinutes=function(){var a=+c.minutes;a=a>59?59:a,c.minutes=a.toString(),z.setMinutes(a),B.$setViewValue(new Date(z.getTime()))},c.updateMinutes=function(){var a=m(),b=l(),c=n();B.$setDirty(),angular.isDefined(a)&&angular.isDefined(b)&&angular.isDefined(c)?(z.setHours(b),z.setMinutes(a),z.setSeconds(c),z<H||z>I?e(void 0,!0):p("m")):e(void 0,!0)},b.bind("blur",function(a){B.$setTouched(),v()?q():null===c.minutes?e(void 0,!0):!c.invalidMinutes&&Number(c.minutes)<10&&c.$apply(function(){c.minutes=o(Number(c.minutes))})}),c.updateSeconds=function(){var a=n(),b=m(),c=l();B.$setDirty(),angular.isDefined(a)&&angular.isDefined(b)&&angular.isDefined(c)?(z.setSeconds(a),z.setHours(c),z.setMinutes(b),z<H||z>I?e(void 0,void 0,!0):p("s")):e(void 0,void 0,!0)},c.validateSeconds=function(){var a=+c.seconds;a=a>59?59:a,c.seconds=a.toString(),z.setSeconds(a),B.$setViewValue(new Date(z.getTime()))},d.bind("blur",function(a){B.$setTouched(),v()?q():null===c.seconds?e(void 0,void 0,!0):!c.invalidSeconds&&Number(c.seconds)<10&&c.$apply(function(){c.seconds=o(Number(c.seconds))})})},this.render=function(){var a=B.$viewValue;isNaN(a)?(B.$setValidity("time",!1),g.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(a&&(z=a),z<H||z>I?(B.$setValidity("time",!1),c.invalidHours=!0,c.invalidMinutes=!0,c.invalidSeconds=!0):q(),r())},c.showSpinners=angular.isDefined(e.showSpinners)?c.$parent.$eval(e.showSpinners):i.showSpinners,c.incrementHours=function(){c.noIncrementHours()||s(60*E*60)},c.decrementHours=function(){c.noDecrementHours()||s(60*-E*60)},c.incrementMinutes=function(){c.noIncrementMinutes()||s(60*F)},c.decrementMinutes=function(){c.noDecrementMinutes()||s(60*-F)},c.toggleMeridian=function(){var a=m(),b=l(),d=n();c.noToggleMeridian()||(angular.isDefined(a)&&angular.isDefined(b)&&angular.isDefined(d)?s(720*(z.getHours()<12?60:-60)):c.meridian=c.meridian===C[0]?C[1]:C[0])},c.incrementSeconds=function(){c.shouldIncrementSeconds&&s(G)},c.decrementSeconds=function(){c.shouldDecrementSeconds&&s(-G)},c.blur=function(){B.$setTouched()},c.$on("$destroy",function(){for(;A.length;)A.shift()()})}]),angular.module("ionwebTk").directive("ionwebTimepicker",["ionwebTimepickerConfig",function(a){var b=function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))};return{require:["ionwebTimepicker","?^ngModel"],restrict:"A",controller:"ionwebTimepickerController",controllerAs:"timepicker",scope:{hourStep:"=?",minuteStep:"=?",showMeridian:"=?",meridians:"=?",mousewheel:"=?",showSeconds:"=?",secondStep:"=?"},templateUrl:function(b,c){return c.templateUrl||a.templateUrl},link:b}}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){angular.module("ionwebTk").directive("ionwebDateTimeEntryBox",["ionwebTk.dateFormattingService","$timeout","ionweb.dateTimePickerHelperService","$q","ionwebTk.environmentService","ionwebTk.toolkitConfigService",function(c,d,e,f,g,h){function i(d,h,i){function j(){return d.timepickerOptions&&d.timepickerOptions.showSeconds}function k(){d.internalValidationState=a.validation.ValidationState.Valid,void 0!==d.validationState&&d.validationState!==a.validation.ValidationState.Valid&&(d.validationState=a.validation.ValidationState.Valid),d.internalValidationMessage=null}function l(b){d.internalValidationState=a.validation.ValidationState.Error,d.internalValidationMessage=b}function m(a){d.autoCompleteBoxData.formattedDateString!==a&&(q=!0),k(),d.autoCompleteBoxData.formattedDateString=a}function n(){if(d.hasDropDownTags=!1,d.dateTimeTags&&d.dateTimeTags.length>0)for(var a=0;a<d.dateTimeTags.length;a++){var c=d.dateTimeTags[a];if(c.visibility!==b.TagVisibility.TagPanel&&!d.isTagDisabled(c)){d.hasDropDownTags=!0;break}}}function o(f,g,h){f||(f=c.parseDate(g)||null),d.useDateTimeTags&&(f instanceof Date?f=e.dateTimeTagFromDate(d.dateTimeTags,f,d.mode,j()&&b.TimeComparisonLevel.Seconds)||f:f||(f=e.getTagWithName(g,d.dateTimeTags)));var i=!1;if(f&&(i=d.isDateDisabled(f instanceof Date?f:f.date)),k(),d.userInput&&d.userInput.length&&d.userInput===d.autoCompleteBoxData.formattedDateString&&(!f||i)){var n;i?(f=null,n=a.stringFormat(b.Strings.Err_Disabled_Date,{userInput:d.userInput})):n=a.stringFormat(b.Strings.Err_Unable_To_Parse_Date,{userInput:d.userInput}),l(n)}f!==d.date?d.date=f:f&&m(h)}d.userInput="";d.$watch(function(){return h.attr("tabindex")},function(a){a&&h.removeAttr("tabindex")});d.isOutOfRange=function(a){return!(!d.datepickerOptions||!a)&&(d.datepickerOptions.minDate&&e.compare(a,d.datepickerOptions.minDate,b.DateTimePickerMode.Date)<0||d.datepickerOptions.maxDate&&e.compare(a,d.datepickerOptions.maxDate,b.DateTimePickerMode.Date)>0)},d.isDateDisabled=function(a){return d.mode===b.DateTimePickerMode.Time?!a||void 0!=d.datepickerOptions&&void 0!=d.datepickerOptions.dateDisabled&&d.datepickerOptions.dateDisabled(a,"day"):!a||d.isOutOfRange(a)||void 0!=d.datepickerOptions&&void 0!=d.datepickerOptions.dateDisabled&&d.datepickerOptions.dateDisabled(a,"day")},d.isTagDisabled=function(a){var b=a&&a.date;return d.isDateDisabled(b)},d.showHidePopup=function(a){d.$evalAsync(function(){d.isOpen=!d.isOpen})},d.acbFocused=function(){d.$evalAsync(function(){d.isOpen=!1})},d.onDateTimePickerClose=function(){g.isMobileDevice()||h.find("ionweb-autocomplete input").focus()},d.acbDropdownStateChanged=function(a){d.useDateTimeTags&&d.hasDropDownTags||a.close(),a.isOpen&&d.$evalAsync(function(){d.isOpen=!1})};var p=function(){d.date&&d.$evalAsync(function(){var a=e.formattedDate(d.date,d.mode,j(),d.customFormatter),b=d.onDateUpdated&&d.onDateUpdated(d.date,a)||a;d.autoCompleteBoxData?d.autoCompleteBoxData.formattedDateString!==b&&(q=!0,d.autoCompleteBoxData.formattedDateString=b):(q=!0,d.autoCompleteBoxData={formattedDateString:b})})};c.preferenceChanged&&c.preferenceChanged.add(p);var q;d.getValidationMessage=function(){return d.internalValidationState===a.validation.ValidationState.Error?d.internalValidationMessage:d.validationMessage?d.validationMessage:d.internalValidationMessage},d.getValidationState=function(){return d.internalValidationState===a.validation.ValidationState.Error?(void 0!==d.validationState&&d.validationState!==a.validation.ValidationState.Error&&(d.validationState=a.validation.ValidationState.Error),a.validation.ValidationState.Error):void 0!==d.validationState?d.validationState:d.internalValidationState},!d.showTagInline||!d.date||d.date instanceof Date||(d.inlineTagInfo=e.tagToAutoCompleteInfo(d.date,d.styleForInlineTag&&d.styleForInlineTag(d.date)||d.date.style,d.mode)),d.$watch("showTagInline",function(a,b){(a||a!==b)&&(!d.showTagInline||!d.date||d.date instanceof Date?d.inlineTagInfo=void 0:d.inlineTagInfo=e.tagToAutoCompleteInfo(d.date,d.styleForInlineTag&&d.styleForInlineTag(d.date)||d.date.style,d.mode))}),d.$watch("date",function(a,b){if(a||b){d.showTagInline&&(!a||a instanceof Date?d.inlineTagInfo=void 0:d.inlineTagInfo=e.tagToAutoCompleteInfo(a,d.styleForInlineTag&&d.styleForInlineTag(a)||a.style,d.mode));var c=e.formattedDate(d.date,d.mode,j(),d.customFormatter)||d.userInput,f=d.onDateUpdated&&d.onDateUpdated(a,c)||c;q=!1,d.userInput&&d.userInput.length?f!==d.userInput&&d.userInput&&d.userInput.length&&a&&m(f):m(f)}}),d.$watch("dateTimeTags.length",function(a,b){n()}),d.$watch("mode",function(a,b){if(a!==b){var c=e.formattedDate(d.date,a,j(),d.customFormatter);d.autoCompleteBoxData={formattedDateString:d.onDateUpdated&&d.onDateUpdated(d.date,c)||c}}});var r;d.$watch("autoCompleteBoxData.formattedDateString",function(a,b){if(q===!0)return void(q=!1);if(a||b){(b===d.userInput&&""===a||a!==d.userInput)&&(d.userInput=""),r&&r.reject("");var c;d.onValueUpdate?(r=f.defer(),f.race([r.promise,f.when(d.onValueUpdate(a))]).then(function(e){e&&(c=e,!e||e instanceof Date||d.useDateTimeTags||(c=e.date)),o(c,a,b)})):o(c,a,b)}}),d.$watch("disabled",function(a,b){a!==b&&d.$evalAsync(function(){d.isOpen=!1})}),d.$on("$destroy",function(){c.preferenceChanged&&p&&c.preferenceChanged.remove(p)})}return{restrict:"EA",compile:function(){return{pre:function(a,c){a.popupAnchorPoint=function(){return c.find("ionweb-autocomplete .selectize-control")},a.showUserButton=h.getIconVisibilityType(!0,h.datePicker.showIconOnHover),a.getClearButtonVisibility=function(){var b;return b=void 0===a.showClearButton||a.showClearButton,h.getIconVisibilityType(b,h.datePicker.showIconOnHover)},a.getArrowButtonVisibility=function(){var c;return c=void 0===a.showArrowButton||a.showArrowButton,a.useDateTimeTags&&a.hasDropDownTags?h.getIconVisibilityType(c,h.datePicker.showIconOnHover):b.VisibilityType.Never},a.dropDownTagsProvider=function(c){if(a.dateTimeTags&&a.useDateTimeTags){var d=[],e=a.userInput&&a.userInput.toLowerCase()||"";return a.dateTimeTags.forEach(function(c){c.visibility!==b.TagVisibility.TagPanel&&!a.isTagDisabled(c)&&c.name.toLowerCase().indexOf(e)>=0&&d.push({value:c.name,label:c.name})}),{options:d,total:d.length}}return{options:[],total:0}},a.autoCompleteBoxData||(a.autoCompleteBoxData={formattedDateString:void 0}),a.textChanged=function(b){a.userInput=b}},post:i}},templateUrl:"toolkit/iondatetimeentrybox/ionDateTimeEntryBox.tpl.html",scope:{date:"=?ngModel",datepickerOptions:"=?",timepickerOptions:"=?",customFormatter:"<?",mode:"=?",isOpen:"=?",closeOnDateSelection:"=?",placeholder:"@?",onDateUpdated:"=?",onValueUpdate:"=?",dateTimeTags:"=?",userInput:"=?",numberOfTagColumns:"=?",useDateTimeTags:"=?",tagsHeaderText:"@?",disableFocusOnDatePicker:"=?",showTagInline:"=?",styleForInlineTag:"=?",refresh:"=?",validationMessage:"=?",validationState:"=?",onBind:"=?",disabled:"=ngDisabled",showClearButton:"=?",showArrowButton:"=?",editable:"=?",tabindex:"@?",compact:"=?",hideTagPanel:"=?",headerOptions:"=?"}}}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b,c=22,d=16;!function(a){a[a.None=0]="None",a[a.Date=1]="Date",a[a.Time=2]="Time",a[a.Tags=3]="Tags"}(b=a.SelectedDateTimeSummary||(a.SelectedDateTimeSummary={}));var e=function(){function a(){this.restrict="E",this.templateUrl="toolkit/datetimepicker/dateTimeSummary.tpl.html",this.controller=f,this.controllerAs="ctrl",this.bindToController=!0,this.scope={date:"@?",time:"@?",tagsHeader:"@?",mode:"=?",selectedSummary:"=?",showTags:"=?",headerOptions:"=?",onClear:"&?"},this.link=function(a,b,c){}}return a}(),f=function(){function a(a,b){this.$scope=a,this.$element=b}return a.prototype.getFontSizeForDate=function(a){var b=this.$element.find(".ion-datetimepicker-summary-label-date"),e=c;if(b&&b.length&&b[0].offsetWidth)for(var f=this.getMaxWidth(b[0],e+"px",[a]);f>b[0].offsetWidth&&e>d;)e-=2,f=this.getMaxWidth(b[0],e+"px",[a]);return e+"px"},a.prototype.getMaxWidth=function(a,b,c,d){if(!a)return 0;var e=document.createElement("canvas");e.width=100,e.height=100,document.body.appendChild(e);var f=e.getContext("2d"),g=this.getAdditionalSpace(a),h=window.getComputedStyle(a,null);f.font=h.fontStyle+" "+h.fontVariant+" "+h.fontWeight+" "+(b||h.fontSize)+"/"+h.lineHeight+" "+h.fontFamily;var i=f.measureText("W").width;return c.forEach(function(a,b){return i=Math.max(f.measureText(a).width+(d?d[b]:0),i)}),document.body.removeChild(e),i+g},a.prototype.getAdditionalSpace=function(a){for(var b=window.getComputedStyle(a,null),c=parseInt(b.getPropertyValue("padding-left")),d=parseInt(b.getPropertyValue("padding-right")),e=parseInt(b.getPropertyValue("margin-left")),f=parseInt(b.getPropertyValue("margin-right")),g=e+c+d+f,h=0;h<a.children.length;h++)g+=this.getAdditionalSpace(a.children[h]);return g>=0?g:0},a.prototype.tagsClicked=function(a){a.stopPropagation(),this.selectedSummary=b.Tags},a.prototype.dateClicked=function(a){a.stopPropagation(),this.selectedSummary=b.Date},a.prototype.timeClicked=function(a){a.stopPropagation(),this.selectedSummary=b.Time},a.prototype.clearClicked=function(){this.onClear&&this.onClear()},a.$inject=["$scope","$element"],a}();angular.module("ionwebTk").directive("ionwebDateTimeSummary",function(){return new e})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){var c=function(c){function d(a,d,e,f,g,h){var i=c.call(this,a,f,h)||this;return i.$scope=a,i.$element=d,i.dateFormattingService=e,i.dateTimePickerHelper=f,i.$compile=g,i.$templateCache=h,i._rangeTagStyleMap={},i.getSelectedRanges=function(){var a=i.$scope.fromDatePicker.$scope,b=i.$scope.toDatePicker.$scope,c={fromDate:a.date,toDate:b.date};return i.validateModelValue(c)},i.$scope.fromDateTimePickerOptions||(i.$scope.fromDateTimePickerOptions={}),i.$scope.toDateTimePickerOptions||(i.$scope.toDateTimePickerOptions={}),i.$scope.internalFromDate=i.$scope.range&&i.$scope.range.fromDate,i.$scope.internalToDate=i.$scope.range&&i.$scope.range.toDate,i.$scope.fromDateStyleMap={},i.$scope.toDateStyleMap={},i.initGetters(),i.initDateUIStateHandlingFunction(),i.initWatches(),i.initBindingFunctions(),i.$scope.subEditorMode=i.$scope.useRangeTags&&i.$scope.dateTimeRangeTags&&i.$scope.dateTimeRangeTags.length>0?b.RangePickerSubEditorMode.Tags:b.RangePickerSubEditorMode.FromDate,i.resetSummary(),i.$scope.onBind&&i.$scope.onBind(i),i.$scope.clearFromDate=function(){i.$scope.internalFromDate=null},i.$scope.clearToDate=function(){i.$scope.internalToDate=null},i.$scope.formattedFromDate=function(){return i.$scope.internalFromDate&&i.dateFormattingService.toShortDate(i.$scope.internalFromDate.date||i.$scope.internalFromDate)||""},i.$scope.formattedFromTime=function(){var a=i.$scope.internalFromDate&&(i.$scope.internalFromDate.date||i.$scope.internalFromDate);return a?i.showSecondsFromDate()?i.dateFormattingService.toLongTime(a):i.dateFormattingService.toShortTime(a):""},i.$scope.formattedToDate=function(){return i.$scope.internalToDate&&i.dateFormattingService.toShortDate(i.$scope.internalToDate.date||i.$scope.internalToDate)||""},i.$scope.formattedToTime=function(){var a=i.$scope.internalToDate&&(i.$scope.internalToDate.date||i.$scope.internalToDate);return a?i.showSecondsToDate()?i.dateFormattingService.toLongTime(a):i.dateFormattingService.toShortTime(a):""},i}return __extends(d,c),d.prototype.navigateToRange=function(a){this.$scope.fromDatePicker&&(this.$scope.fromDatePicker.navigateToDate(a&&a.fromDate),this.$scope.fromDatePickerRefresh()),this.$scope.toDatePicker&&(this.$scope.toDatePicker.navigateToDate(a&&a.toDate),this.$scope.toDatePickerRefresh())},Object.defineProperty(d.prototype,"tagStyleMap",{get:function(){return this._rangeTagStyleMap},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"panelTags",{get:function(){return this.$scope.rangeTagsForTagsPanel},enumerable:!0,configurable:!0}),d.prototype.initWatches=function(){var a=this;this.$scope.$watch("numberOfTagColumns",function(b,c){a.$scope.numberOfTagColumns=a.getUpdatedTagColumns(b)}),this.$scope.$watch("range",function(b,c){b!==c&&(b||!c||c.fromDate||c.toDate)&&(c||!b||b.fromDate||b.toDate)&&a.validateModelValue(b)},!0),this.$scope.$watch("internalFromDate",function(b,c){b!==c&&(b?(a.$scope.range||(a.$scope.range={}),a.$scope.range.fromDate=b):a.$scope.range&&(a.$scope.range.fromDate=b),a.$scope.toDatePickerRefresh())}),this.$scope.$watch("internalToDate",function(b,c){b!==c&&(b?(a.$scope.range||(a.$scope.range={}),a.$scope.range.toDate=b):a.$scope.range&&(a.$scope.range.toDate=b),a.$scope.fromDatePickerRefresh())}),this.$scope.$watch("dateTimeRangeTags",function(b,c){a.filterTagsAndCreateStyleCache(),a.$scope.refresh()},!0),this.$scope.$watch("useRangeTags",function(c,d){c!==d&&(a.filterTagsAndCreateStyleCache(),a.$scope.refresh(),c||a.$scope.subEditorMode!=b.RangePickerSubEditorMode.Tags||(a.$scope.subEditorMode=b.RangePickerSubEditorMode.FromDate,a.$scope.fromSelectedSummary=a.$scope.mode==b.DateTimePickerMode.Time?b.SelectedDateTimeSummary.Time:b.SelectedDateTimeSummary.Date,a.$scope.toSelectedSummary=b.SelectedDateTimeSummary.None))}),this.$scope.$watch("hideRangeTagPanel",function(c,d){c!=d&&c&&a.$scope.subEditorMode==b.RangePickerSubEditorMode.Tags&&(a.$scope.subEditorMode=b.RangePickerSubEditorMode.FromDate,a.$scope.fromSelectedSummary=a.$scope.mode==b.DateTimePickerMode.Time?b.SelectedDateTimeSummary.Time:b.SelectedDateTimeSummary.Date,a.$scope.toSelectedSummary=b.SelectedDateTimeSummary.None)}),this.$scope.$watch("mode",function(b,c){b!==c&&a.validateModelValue(a.$scope.range)}),this.$scope.$watch("fromSelectedSummary",function(c,d){c==d||d!=b.SelectedDateTimeSummary.None&&c==b.SelectedDateTimeSummary.None||(a.$scope.subEditorMode=b.RangePickerSubEditorMode.FromDate,a.$scope.toSelectedSummary=b.SelectedDateTimeSummary.None)}),this.$scope.$watch("toSelectedSummary",function(c,d){c==d||d!=b.SelectedDateTimeSummary.None&&c==b.SelectedDateTimeSummary.None||(a.$scope.subEditorMode=b.RangePickerSubEditorMode.ToDate,a.$scope.fromSelectedSummary=b.SelectedDateTimeSummary.None)})},d.prototype.showSecondsFromDate=function(){return this.$scope.fromDateTimePickerOptions&&this.$scope.fromDateTimePickerOptions.timepickerOptions&&this.$scope.fromDateTimePickerOptions.timepickerOptions.showSeconds},d.prototype.showSecondsToDate=function(){return this.$scope.toDateTimePickerOptions&&this.$scope.toDateTimePickerOptions.timepickerOptions&&this.$scope.toDateTimePickerOptions.timepickerOptions.showSeconds},d.prototype.initGetters=function(){var a=this;this.$scope.getSelectedFromDate=function(){var b=a.getSelectedRanges();return b&&a.dateTimePickerHelper.dateFromDateTimeTag(b.fromDate)},this.$scope.getSelectedToDate=function(){var b=a.getSelectedRanges();return b&&a.dateTimePickerHelper.dateFromDateTimeTag(b.toDate)}},d.prototype.initBindingFunctions=function(){var a=this;this.$scope.onFromDatePickerBind=function(b){a.$scope.fromDatePicker=b},this.$scope.onToDatePickerBind=function(b){a.$scope.toDatePicker=b},this.$scope.onTagsClicked=function(){a.$scope.subEditorMode=b.RangePickerSubEditorMode.Tags,a.resetSummary()}},d.prototype.resetSummary=function(){this.$scope.fromSelectedSummary=b.SelectedDateTimeSummary.None,this.$scope.toSelectedSummary=b.SelectedDateTimeSummary.None},d.prototype.initDateUIStateHandlingFunction=function(){var c=this;this.$scope.isOutOfRange=function(a,d){return!(!d||!a)&&(d.minDate&&c.dateTimePickerHelper.compare(a,d.minDate,b.DateTimePickerMode.Date)<0||d.maxDate&&c.dateTimePickerHelper.compare(a,d.maxDate,b.DateTimePickerMode.Date)>0)},this.$scope.isDateDisabled=function(a,d){return c.$scope.mode===b.DateTimePickerMode.Time?!a||void 0!=d&&void 0!=d.dateDisabled&&d.dateDisabled(a,"day"):!a||c.$scope.isOutOfRange(a,d)||void 0!=d&&void 0!=d.dateDisabled&&d.dateDisabled(a,"day")},this.$scope.isRangeTagDisabled=function(a){var b=!1,d=!1,e=c.dateTimePickerHelper.getDatesFromRangeTag(a);return!!e&&(a.fromDate&&(b=c.$scope.isDateDisabled(e.fromDate,c.$scope.fromDateTimePickerOptions.datepickerOptions)),!b&&a.toDate&&(d=c.$scope.isDateDisabled(e.toDate,c.$scope.toDateTimePickerOptions.datepickerOptions)),b||d)},this.$scope.onRangeTagChanged=function(b){c.$scope.range=a.extend({},[b])},this.$scope.refresh=function(){c.$scope.fromDatePickerRefresh&&c.$scope.fromDatePickerRefresh(),c.$scope.toDatePickerRefresh&&c.$scope.toDatePickerRefresh(),c.validateModelValue(c.$scope.range)}},d.prototype.isTagSelected=function(a){var c=!1,d=!1;if(!this.$scope.range||!a)return!1;if(this.$scope.isRangeTagDisabled(a))return!1;if(this.$scope.range.name&&this.$scope.range.name!==a.name)return!1;var e=this.dateTimePickerHelper.getDatesFromRangeTag(a),f=this.dateTimePickerHelper.dateFromDateTimeTag(this.$scope.range.fromDate),g=this.dateTimePickerHelper.dateFromDateTimeTag(this.$scope.range.toDate);return f||e.fromDate?f&&e.fromDate&&(c=0==this.dateTimePickerHelper.compare(f,e.fromDate,this.$scope.mode,this.showSecondsFromDate()&&b.TimeComparisonLevel.Seconds)):c=!0,!!c&&(g||e.toDate?g&&e.toDate&&(d=0==this.dateTimePickerHelper.compare(g,e.toDate,this.$scope.mode,this.showSecondsToDate()&&b.TimeComparisonLevel.Seconds)):d=!0,c&&d)},d.prototype.validateModelValue=function(c){function d(){e.$scope.internalFromDate=void 0,e.$scope.internalToDate=void 0,e.$scope.range=void 0}var e=this;if(!c||!c.fromDate&&!c.toDate)return void d();var f=this.dateTimePickerHelper.dateFromDateTimeTag(c.fromDate),g=this.dateTimePickerHelper.dateFromDateTimeTag(c.toDate);if(this.$scope.useRangeTags){var h=this.dateTimePickerHelper.rangeTagFromDates(this.$scope.dateTimeRangeTags,f,g,this.$scope.mode,this.showSecondsFromDate()&&b.TimeComparisonLevel.Seconds,this.showSecondsToDate()&&b.TimeComparisonLevel.Seconds);if(h)return this.$scope.isRangeTagDisabled(h)?d():(this.$scope.range=a.extend({},[h]),this.$scope.internalFromDate=h.fromDate,this.$scope.internalToDate=h.toDate),this.$scope.range}var i=void 0;if(c.fromDate){var j=this.dateTimePickerHelper.dateFromDateTimeTag(c.fromDate);if(this.$scope.isDateDisabled(j,this.$scope.fromDateTimePickerOptions.datepickerOptions))return void d();this.$scope.fromDateTimePickerOptions.useDateTimeTags&&!this.dateTimePickerHelper.isDateTimeTag(c.fromDate)&&(i=this.dateTimePickerHelper.dateTimeTagFromDate(this.$scope.fromDateTimePickerOptions.dateTimeTags,c.fromDate,this.$scope.mode,this.showSecondsFromDate()&&b.TimeComparisonLevel.Seconds)),i=i||c.fromDate}var k=void 0;if(c.toDate){var j=this.dateTimePickerHelper.dateFromDateTimeTag(c.toDate);if(this.$scope.isDateDisabled(j,this.$scope.toDateTimePickerOptions.datepickerOptions))return void d();this.$scope.toDateTimePickerOptions.useDateTimeTags&&!this.dateTimePickerHelper.isDateTimeTag(c.toDate)&&(k=this.dateTimePickerHelper.dateTimeTagFromDate(this.$scope.toDateTimePickerOptions.dateTimeTags,c.toDate,this.$scope.mode,this.showSecondsToDate()&&b.TimeComparisonLevel.Seconds)),k=k||c.toDate}return i||k?(this.$scope.range={fromDate:i,toDate:k},this.$scope.internalFromDate=c.fromDate,void(this.$scope.internalToDate=c.toDate)):void d()},d.prototype.getRangeTagFromDate=function(a,c){for(var d=void 0,e=0;e<this.$scope.dateTimeRangeTags.length;++e){var f,g=this.$scope.dateTimeRangeTags[e];if(f=0==c?this.dateTimePickerHelper.dateFromDateTimeTag(g.fromDate):this.dateTimePickerHelper.dateFromDateTimeTag(g.toDate),f&&0==this.dateTimePickerHelper.compare(a,f,b.DateTimePickerMode.Date)){g.visibility!==b.TagVisibility.Dropdown&&(d=g);break}}return d},d.prototype.getTag=function(a,b){var c;return 0==b?this.dateTimePickerHelper.isDateTimeTag(a.fromDate)&&(c=a.fromDate):this.dateTimePickerHelper.isDateTimeTag(a.toDate)&&(c=a.toDate),c},d.prototype.updateToDateStyleCache=function(a){var b=this.dateTimePickerHelper.dateFromDateTimeTag(a.toDate);if(b){b=new Date(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0,0);var c=this.$scope.toDateStyleMap[b.getTime()];!c&&a.style&&(c={},c.classes={},c.style=this.dateTimePickerHelper.getTagStyle(a),a.style.paletteColor&&a.style.paletteColor.length?c.classes["ionbtn-"+a.style.paletteColor]=!0:c.classes["ionbtn-auto"]=!0,this.$scope.toDateStyleMap[b.getTime()]=c)}},d.prototype.updateFromDateStyleCache=function(a){var b=this.dateTimePickerHelper.dateFromDateTimeTag(a.fromDate);if(b){b=new Date(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0,0);var c=this.$scope.fromDateStyleMap[b.getTime()];!c&&a.style&&(c={},c.classes={},c.style=this.dateTimePickerHelper.getTagStyle(a),a.style.paletteColor&&a.style.paletteColor.length?c.classes["ionbtn-"+a.style.paletteColor]=!0:c.classes["ionbtn-auto"]=!0,this.$scope.fromDateStyleMap[b.getTime()]=c)}},d.prototype.filterTagsAndCreateStyleCache=function(){if(this.$scope.fromDateStyleMap={},this.$scope.toDateStyleMap={},this._rangeTagStyleMap={},this.$scope.useRangeTags&&this.$scope.dateTimeRangeTags){for(var a=[],c={},d=0;d<this.$scope.dateTimeRangeTags.length;++d){var e=this.$scope.dateTimeRangeTags[d];if(c[e.name])throw new Error("Range-Tag with name '"+e.name+"' already exists.");c[e.name]=!0,e.visibility!==b.TagVisibility.Dropdown&&(a.push(e),this.updateTagStyleCache(e)),this.updateFromDateStyleCache(e),this.updateToDateStyleCache(e)}this.$scope.rangeTagsForTagsPanel=a}else this.$scope.rangeTagsForTagsPanel=null},d}(b.DatePanelManger);angular.module("ionwebTk").directive("ionwebDateTimeRangePicker",["ionwebTk.dateFormattingService","ionweb.dateTimePickerHelperService","$compile","$templateCache","ionwebTk.toolkitConfigService","ionwebTk.environmentService",function(a,b,d,e,f,g){var h=function(h,i){h.useMobileLayout=!f.datePicker.disableMobileLayout&&(f.datePicker.enableMobileLayoutOnDesktop||g.isMobileDevice()),h.usingMobileLayoutOnDesktop=h.useMobileLayout&&!g.isSmallScreen(),new c(h,i,a,b,d,e)};return{restrict:"EA",link:{pre:h},scope:{range:"=?ngModel",mode:"=?",compact:"=?",fromDateTimePickerOptions:"=?",toDateTimePickerOptions:"=?",refresh:"=?",onBind:"=?",dateTimeRangeTags:"=?",numberOfTagColumns:"=?numberOfRangeTagColumns",
useRangeTags:"=?",rangeTagsHeaderText:"@?",hideRangeTagPanel:"=?",headerOptions:"=?",isOpen:"=?"},templateUrl:f.datePicker.disableMobileLayout||!f.datePicker.enableMobileLayoutOnDesktop&&!g.isMobileDevice()?"toolkit/datetimerangepicker/ionwebDateTimeRangePicker.tpl.html":"toolkit/datetimerangepicker/ionwebDateTimeRangePickerMobile.tpl.html"}}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){angular.module("ionwebTk").directive("ionwebDateTimeRangePickerPopup",["$rootScope","$compile","ionweb.popupService","ionweb.dateTimePickerHelperService","ionwebTk.environmentService","ionwebTk.toolkitConfigService",function(c,d,e,f,g,h){var i=function(c,d,f){function i(){var a;c.showPopupFullScreen()&&(a={showFullScreen:!0}),e.createPopup("toolkit/datetimerangepicker/dateTimeRangepickerPopover.tpl.html",d,c,a).then(function(a){k=a,k.onClose.add(m),j(c.isOpen)})}function j(b){b&&"day"!==c.fromDateTimePickerOptions.datepickerOptions.datepickerMode&&(c.fromDateTimePickerOptions.datepickerOptions.datepickerMode="day"),b&&"day"!==c.toDateTimePickerOptions.datepickerOptions.datepickerMode&&(c.toDateTimePickerOptions.datepickerOptions.datepickerMode="day"),b&&c.dateTimeRangePicker&&(c.popupInternalRange=c.range&&a.extend({},[c.range])||void 0,c.dateTimeRangePicker.navigateToRange(c.popupInternalRange)),b&&k?(k.show(),setTimeout(function(){k.element&&k.element.find(".ion-datetime-rangepicker-popup").focus()})):k&&k.hide()}var k=void 0;c.fromDateTimePickerOptions=c.fromDateTimePickerOptions||{},c.fromDateTimePickerOptions.datepickerOptions=c.fromDateTimePickerOptions.datepickerOptions||{},c.fromDateTimePickerOptions.datepickerOptions.datepickerMode="day",c.toDateTimePickerOptions=c.toDateTimePickerOptions||{},c.toDateTimePickerOptions.datepickerOptions=c.toDateTimePickerOptions.datepickerOptions||{},c.toDateTimePickerOptions.datepickerOptions.datepickerMode="day",c.popupInternalRange=c.range&&a.extend({},[c.range])||void 0,void 0!==c.showPopupOnKeydown&&null!==c.showPopupOnKeydown||(c.showPopupOnKeydown=!0),void 0!==c.isOpen&&null!==c.isOpen||(c.isOpen=!1),c.isMobileLayout=function(){return!h.datePicker.disableMobileLayout&&(h.datePicker.enableMobileLayoutOnDesktop||g.isMobileDevice())},c.getWindowHeight=function(){return c.showPopupFullScreen()?window.innerHeight+"px":void 0},c.showPopupFullScreen=function(){return g.isMobileDevice()&&g.isSmallScreen()},c.isLandscapeMode=g.orientation==a.Orientation.Landscape&&c.showPopupFullScreen(),g.orientationChanged.add(function(b,d){c.isLandscapeMode=d==a.Orientation.Landscape&&c.showPopupFullScreen()}),c.$watch("range",function(b,d){b!==d&&(b?void 0===b.name?c.popupInternalRange=b&&a.extend({},[b])||void 0:c.popupInternalRange=a.extend({},[b]):c.popupInternalRange=void 0)},!0),c.$watch("popupInternalRange",function(b,d){b!==d&&(c.isOpen||(c.range=b&&a.extend({},[b])||void 0))},!0),c.onOkClicked=function(){if(void 0===c.popupInternalRange&&c.mode===b.DateTimePickerMode.Time){var d=new Date;d.setHours(0,0,0,0),c.range={fromDate:d,toDate:d}}else c.range=c.popupInternalRange&&a.extend({},[c.popupInternalRange])||void 0;c.close()};var l=function(b){c.showPopupOnKeydown&&(b.which===a.KeyCodes.ESC&&c.isOpen?(b.preventDefault(),b.stopPropagation(),c.$apply(function(){c.isOpen=!1}),d[0].focus()):40!==b.which||c.isOpen||(b.preventDefault(),b.stopPropagation(),c.$apply(function(){c.isOpen=!0})))};d.bind("keydown",l),c.keydown=function(b){b.which===a.KeyCodes.ESC&&c.close()},c.$watch("isOpen",function(a,b){a!==b&&(a&&!k?i():j(a))}),c.close=function(){c.isOpen=!1,d[0].focus(),c.onDateTimePickerClose&&c.onDateTimePickerClose()};var m=function(){c.isOpen&&c.$evalAsync(function(){c.isOpen=!1})};c.$on("$destroy",function(){k&&(k.onClose.remove(m),k.destroy(),k=null),c.isOpen===!0&&(c.isOpen=!1),d.unbind("keydown",l)}),c.onBindInternal=function(a){c.dateTimeRangePicker=a,c.onBind&&c.onBind(a)},i()};return{restrict:"EA",require:"ngModel",link:i,scope:{range:"=?ngModel",mode:"=?",fromDateTimePickerOptions:"=?",toDateTimePickerOptions:"=?",isOpen:"=?",refresh:"=?",onBind:"=?",compact:"=?",dateTimeRangeTags:"=?",numberOfRangeTagColumns:"=?",useRangeTags:"=?",rangeTagsHeaderText:"@?",hideRangeTagPanel:"=?",showPopupOnKeydown:"=?",headerOptions:"=?",onDateTimePickerClose:"&?"}}}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){angular.module("ionwebTk").directive("ionwebDateTimeRangeEntryBox",["ionwebTk.dateFormattingService","ionweb.dateTimePickerHelperService","ionwebTk.environmentService","ionwebTk.toolkitConfigService",function(c,d,e,f){function g(f,g,h){function i(){var b=c.dateRangeSeparator&&c.dateRangeSeparator()||a.localization.PredefinedRangeSeparator;return b}function j(b){f.internalValidationState=a.validation.ValidationState.Error,f.internalValidationMessage=b}function k(){f.internalValidationState=a.validation.ValidationState.Valid,void 0!==f.validationState&&f.validationState!==a.validation.ValidationState.Valid&&(f.validationState=a.validation.ValidationState.Valid),f.internalValidationMessage=null}function l(){function d(a){var b=!1;return m.toUpperCase().indexOf(a.toUpperCase())>-1&&(f.identifier=a,b=!0),b}function e(){var d=!1,e=m.trim(),g=c.parseDate(e);return g&&(f.isDateDisabled(g,f.fromDateTimePickerOptions.datepickerOptions)?j(a.stringFormat(b.Strings.Err_Disabled_Date,{userInput:e})):(f.userDates={fromDate:g,toDate:g},d=!0)),d}function g(d){var e=!1;if(m.toUpperCase().indexOf(d.toUpperCase())>0)return e;var g=m.slice(d.length).trim(),h=c.parseDate(g);return h?(d===q?f.isDateDisabled(h,f.fromDateTimePickerOptions.datepickerOptions)?j(a.stringFormat(b.Strings.Err_Disabled_Date,{userInput:g})):(f.userDates={fromDate:h,toDate:void 0},e=!0):f.isDateDisabled(h,f.toDateTimePickerOptions.datepickerOptions)?j(a.stringFormat(b.Strings.Err_Disabled_Date,{userInput:g})):(f.userDates={fromDate:void 0,toDate:h},e=!0),e):e}function h(){var d=m.toUpperCase().lastIndexOf(s.toUpperCase()),e=!1;if(d+s.length!==m.length)return e;var g=m.slice(0,d).trim(),h=c.parseDate(g);return h&&(f.isDateDisabled(h,f.fromDateTimePickerOptions.datepickerOptions)?j(a.stringFormat(b.Strings.Err_Disabled_Date,{userInput:g})):(f.userDates={fromDate:h,toDate:void 0},e=!0)),e}function k(){var d,e,g,h,k=m.split(i()),l=k.length;if(2!==l)return!1;if(d=k[0].trim(),e=k[1].trim(),!isNaN(d)){var n=e.indexOf(" ");n>-1&&(d+=e.slice(n))}return g=c.parseDate(d),h=c.parseDate(e),!(!g||!h)&&(f.isDateDisabled(g,f.fromDateTimePickerOptions.datepickerOptions)?(j(a.stringFormat(b.Strings.Err_Disabled_Date,{userInput:d})),g=void 0):f.isDateDisabled(h,f.toDateTimePickerOptions.datepickerOptions)&&(j(a.stringFormat(b.Strings.Err_Disabled_Date,{userInput:e})),h=void 0),!(!g||!h)&&(f.userDates={fromDate:g,toDate:h},!0))}if(!f.autoCompleteBoxData.formattedDateString)return!0;var l=!1,m=f.autoCompleteBoxData.formattedDateString.trim();if(j(a.stringFormat(b.Strings.Err_Unable_To_Parse_Date,{userInput:m})),f.userDates={},f.useRangeTags&&f.dateTimeRangeTags){var n=f.getRangeTag(m);if(n)return f.identifier="",f.isRangeTagDisabled(n)||(f.userDates=a.extend({},[n]),l=!0),l}return l=d(i())?k():d(r)?g(r):d(t)?g(t):d(q)?g(q):d(s)?h():e()}function m(){if(!f.range)return f.autoCompleteBoxData.formattedDateString||"";var a=d.dateFromDateTimeTag(f.range.fromDate),b=d.dateFromDateTimeTag(f.range.toDate),c=d.formattedDate(f.range.fromDate,f.mode,f.fromDateTimePickerOptions&&f.fromDateTimePickerOptions.timepickerOptions&&f.fromDateTimePickerOptions.timepickerOptions.showSeconds),e=d.formattedDate(f.range.toDate,f.mode,f.toDateTimePickerOptions&&f.toDateTimePickerOptions.timepickerOptions&&f.toDateTimePickerOptions.timepickerOptions.showSeconds),g="";return a&&b?g=c+" "+i()+" "+e:a?g=f.identifier===s?c+" "+s:q+" "+c:b&&(g=f.identifier===t?t+" "+e:r+" "+e),g}function n(){if(f.hasDropDownTags=!1,f.dateTimeRangeTags&&f.dateTimeRangeTags.length>0)for(var a=0;a<f.dateTimeRangeTags.length;a++){var c=f.dateTimeRangeTags[a];if(c.visibility!==b.TagVisibility.TagPanel&&!f.isRangeTagDisabled(c)){f.hasDropDownTags=!0;break}}}var o,p,q="After",r="Before",s="Onwards",t="Until";f.userInput="",f.$watch(function(){return g.attr("tabindex")},function(a){a&&g.removeAttr("tabindex")}),f.isOutOfRange=function(a,c){return!(!c||!a)&&(c.minDate&&d.compare(a,c.minDate,b.DateTimePickerMode.Date)<0||c.maxDate&&d.compare(a,c.maxDate,b.DateTimePickerMode.Date)>0)},f.isDateDisabled=function(a,c){return f.mode===b.DateTimePickerMode.Time?!a||void 0!=c&&void 0!=c.dateDisabled&&c.dateDisabled(a,"day"):!a||f.isOutOfRange(a,c)||void 0!=c&&void 0!=c.dateDisabled&&c.dateDisabled(a,"day")},f.isRangeTagDisabled=function(a){var b=!1,c=!1,d=f.getDatesFromRangeTag(a);return!!d&&(a.fromDate&&(b=f.isDateDisabled(d.fromDate,f.fromDateTimePickerOptions.datepickerOptions)),!b&&a.toDate&&(c=f.isDateDisabled(d.toDate,f.toDateTimePickerOptions.datepickerOptions)),b||c)},f.getRangeTag=function(a){if(a&&a.length)for(var b=0;b<f.dateTimeRangeTags.length;b++)if(f.dateTimeRangeTags[b].name===a)return f.dateTimeRangeTags[b]},f.getDatesFromRangeTag=function(a){var b,c;return a.fromDate&&(b=d.dateFromDateTimeTag(a.fromDate)),a.toDate&&(c=d.dateFromDateTimeTag(a.toDate)),{fromDate:b,toDate:c}},f.getValidationMessage=function(){return f.internalValidationState===a.validation.ValidationState.Error?f.internalValidationMessage:f.validationMessage?f.validationMessage:f.internalValidationMessage},f.getValidationState=function(){return f.internalValidationState===a.validation.ValidationState.Error?(void 0!==f.validationState&&f.validationState!==a.validation.ValidationState.Error&&(f.validationState=a.validation.ValidationState.Error),a.validation.ValidationState.Error):void 0!==f.validationState?f.validationState:f.internalValidationState},f.showHidePopup=function(){f.$evalAsync(function(){f.isOpen=!f.isOpen})},f.acbFocused=function(){f.$evalAsync(function(){f.isOpen=!1})},f.onDateTimePickerClose=function(){e.isMobileDevice()||g.find("ionweb-autocomplete input").focus()},f.acbDropdownStateChanged=function(a){f.useRangeTags&&f.hasDropDownTags||a.close(),a.isOpen&&f.$evalAsync(function(){f.isOpen=!1})};var u=function(){f.range&&f.$evalAsync(function(){var a=m(),b=f.onRangeUpdated&&f.onRangeUpdated(f.range,a)||a;f.autoCompleteBoxData?f.autoCompleteBoxData.formattedDateString!==b&&(o=!0,f.autoCompleteBoxData.formattedDateString=b):(o=!0,f.autoCompleteBoxData={formattedDateString:b})})};c.preferenceChanged&&c.preferenceChanged.add(u),f.$watch("dateTimeRangeTags.length",function(a,b){n()}),f.$watch("range",function(a,c){function e(){k(),f.userDates={},f.autoCompleteBoxData.formattedDateString=""}if(c||a){if(p===!0)return void(p=!1);if(a&&(a.fromDate||a.toDate)){if(a.fromDate){var g=d.dateFromDateTimeTag(a.fromDate);if(f.isDateDisabled(g,f.fromDateTimePickerOptions.datepickerOptions))return void e()}if(a.toDate){var h=d.dateFromDateTimeTag(a.toDate);if(f.isDateDisabled(h,f.toDateTimePickerOptions.datepickerOptions))return void e()}var i=m();if(g&&h&&g>h)return p=!0,o=!0,f.range=void 0,f.autoCompleteBoxData.formattedDateString=i,f.userDates={},void j(b.Strings.Err_Invalid_Range_selection);k();var l=f.onRangeUpdated&&f.onRangeUpdated(a,i)||i;l!==f.autoCompleteBoxData.formattedDateString&&(o=!0,f.userDates={},f.autoCompleteBoxData.formattedDateString=l)}else o=!1,f.userDates&&(f.userDates.fromDate||f.userDates.toDate)?e():f.autoCompleteBoxData.formattedDateString=f.userInput||""}},!0),f.$watch("autoCompleteBoxData.formattedDateString",function(b,c){if(b||c){if(o===!0)return void(o=!1);if((c===f.userInput&&""===b||b!==f.userInput)&&(f.userInput=""),!b)return f.range=void 0,f.userInput="",f.identifier="",f.userDates=void 0,void k();if(!l())return void(f.range=void 0);JSON.stringify(f.range)!==JSON.stringify(f.userDates)&&(p=!0,f.range=a.extend({},[f.userDates])),k();var d=m(),e=f.onRangeUpdated&&f.onRangeUpdated(f.range,d)||d;e!==f.autoCompleteBoxData.formattedDateString&&(o=!0,f.autoCompleteBoxData.formattedDateString=e)}}),f.$watch("mode",function(a,b){if(a!==b){var c=m();f.autoCompleteBoxData.formattedDateString=f.onRangeUpdated&&f.onRangeUpdated(f.range,c)||c}}),f.$watch("disabled",function(a,b){a!==b&&f.$evalAsync(function(){f.isOpen=!1})}),f.$on("$destroy",function(){c.preferenceChanged&&u&&c.preferenceChanged.remove(u)})}return{restrict:"EA",compile:function(){return{pre:function(a){a.dropDownTagsProvider=function(c){if(a.dateTimeRangeTags&&a.useRangeTags){var d=a.userInput&&a.userInput.toLowerCase()||"",e=[];return a.dateTimeRangeTags.forEach(function(c){c.visibility!==b.TagVisibility.TagPanel&&!a.isRangeTagDisabled(c)&&c.name.toLowerCase().indexOf(d)>=0&&e.push({value:c.name,label:c.name})}),{options:e,total:e.length}}return{options:[],total:0}},a.autoCompleteBoxData||(a.autoCompleteBoxData={formattedDateString:void 0}),a.showUserButton=f.getIconVisibilityType(!0,f.datePicker.showIconOnHover),a.getClearButtonVisibility=function(){var b;return b=void 0===a.showClearButton||a.showClearButton,f.getIconVisibilityType(b,f.datePicker.showIconOnHover)},a.getArrowButtonVisibility=function(){var c;return c=void 0===a.showArrowButton||a.showArrowButton,a.useRangeTags&&a.hasDropDownTags?f.getIconVisibilityType(c,f.datePicker.showIconOnHover):b.VisibilityType.Never},a.textChanged=function(b){a.userInput=b}},post:g}},templateUrl:"toolkit/iondatetimerangeentrybox/ionDateTimeRangeEntryBox.tpl.html",scope:{range:"=?ngModel",mode:"=?",fromDateTimePickerOptions:"=?",toDateTimePickerOptions:"=?",isOpen:"=?",placeholder:"@?",onRangeUpdated:"=?",refresh:"=?",validationMessage:"=?",validationState:"=?",errorAnimation:"=?",onBind:"=?",showClearButton:"=?",showArrowButton:"=?",disabled:"=ngDisabled",editable:"=?",tabindex:"@?",dateTimeRangeTags:"=?",compact:"=?",numberOfRangeTagColumns:"=?",useRangeTags:"=?",rangeTagsHeaderText:"@?",hideRangeTagPanel:"=?",headerOptions:"=?",userInput:"=?"}}}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){var c=function(){function a(){this.restrict="E",this.scope={model:"=ngModel",disabled:"=ngDisabled",showLabels:"=?",onLabel:"=?",offLabel:"=?",onColor:"=?",offColor:"=?",validationMessage:"=?",validationState:"=?",ngChange:"&?",ngFalseValue:"=?",ngTrueValue:"=?"},this.templateUrl="toolkit/toggle/toggle.tpl.html",this.controller=e,this.controllerAs="ctrl",this.bindToController=!0,this.compile=function(a,b){if(void 0==a.attr("ionweb-validation")){var c=a.find(".ionweb-toggle-container");c.attr("ionweb-validation","")}return{}}}return a}(),d={showLabels:!0,onLabel:"ON",offLabel:"OFF",onColor:"accent",offColor:"secondary"},e=function(){function b(a){this.$scope=a}return b.prototype.$onInit=function(){var a=this;angular.forEach(d,function(b,c){angular.isUndefined(a[c])&&(a[c]=b)});var b=function(b,c){a[b+"ColorBg"]="ion-theme-"+c+"-bg",a[b+"ColorFg"]="ion-theme-"+c+"-contrast-fg"};this.$scope.$watch("ctrl.onColor",function(a){return b("on",a)}),this.$scope.$watch("ctrl.offColor",function(a){return b("off",a)}),this.toInternalState(),this.$scope.$watch("ctrl.model",function(){return a.toInternalState()})},b.prototype.toggleValue=function(b){var c=this;this.disabled||"click"!==b.type&&(!b.keyCode||b.keyCode!=a.KeyCodes.SPACE&&b.keyCode!=a.KeyCodes.ENTER)||this.$scope.$evalAsync(function(){c._state=!c._state,c.fromInternalState(),c.ngChange&&c.ngChange({$value:c.model})})},b.prototype.toInternalState=function(){"undefined"!=typeof this.ngFalseValue&&this.model===this.ngFalseValue?this._state=!1:"undefined"!=typeof this.ngTrueValue&&this.model===this.ngTrueValue?this._state=!0:this._state=!!this.model},b.prototype.fromInternalState=function(){"undefined"==typeof this.ngFalseValue||this._state?"undefined"!=typeof this.ngTrueValue&&this._state?this.model=this.ngTrueValue:this.model=this._state:this.model=this.ngFalseValue},b.$inject=["$scope"],b.DARK_CONTRAST="text",b.LIGHT_CONTRAST="background",b}();angular.module("ionwebTk").directive("ionwebToggle",function(){return new c})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b=function(){function a(a,b){["checkbox","radio"].indexOf(b)<0&&(b="checkbox"),this.input=a.find("input[type="+b+"]"),0===this.input.length&&(this.input=a.prepend('<input type="'+b+'">'));var c=a.contents().filter(function(a,c){return!$(c).is("input[type="+b+"]")});$("<div />").append(c).insertAfter(this.input)}return a}(),c=function(){function a(){this.restrict="C",this.link=function(a,c){new b(c,"checkbox")}}return a}(),d=function(){function a(){this.restrict="C",this.link=function(a,c){new b(c,"radio")}}return a}();angular.module("ionwebTk").directive("ionInputCheckbox",function(){return new c}).directive("ionInputRadio",function(){return new d})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){var c;!function(a){a[a.Flat=0]="Flat",a[a.Grouped=1]="Grouped"}(c=b.SwapPanelMode||(b.SwapPanelMode={}));var d;!function(a){a[a.ByName=1]="ByName",a[a.ByCategory=2]="ByCategory"}(d=b.SwapPanelSorting||(b.SwapPanelSorting={}));var e=function(){function c(){this.selectedAvailableItemIds={},this.selectedChosenItemIds={},this._currentAvailableSelection=[],this._currentChosenSelection=[],this.chosenNodes=[],this.availableNodes=[],this.flatAvailableItems=[],this.flatChosenItems=[],this._onAction=new a.Event,this._onAvailableSelectionChanged=new a.Event,this._onChosenSelectionChanged=new a.Event,this.isExpanded={},this._onDisplayedItemChanged=new a.Event}return c.prototype.readNodes=function(a,c,d,e,f,g){var h=this,i={},j=function(a){(f||!h.filter||a.displayName&&a.displayName.toLowerCase().indexOf(h.filter.toLowerCase())>=0)&&c.push(a)},k=g||this.hierarchyMode===b.HierarchyMode.Grouped;return a.forEach(function(a){i[a.descriptor.id]=!0;var b=!k&&a.children&&a.children.length;b||j(a.descriptor),!a.children||!h.isExpanded[a.descriptor.id]&&k||a.children.forEach(function(a){i[a.id]=!0,j(a),e[a.id]=k});var c=!!(k&&a.children&&a.children.length);d[a.descriptor.id]=c}),i},c.prototype.refreshItems=function(){var a=this;this.flatAvailableItems=[],this.flatChosenItems=[],this.isAvailableGroup={},this.isChosenGroup={},this.isChildren={};var c=this.readNodes(this.availableNodes,this.flatAvailableItems,this.isAvailableGroup,this.isChildren,!1,!1);this.chosenNodes.forEach(function(b){"undefined"==typeof a.isExpanded[b.descriptor.id]&&(a.isExpanded[b.descriptor.id]=!0)});var e=this.readNodes(this.chosenNodes,this.flatChosenItems,this.isChosenGroup,this.isChildren,!0,!0);Object.keys(this.selectedAvailableItemIds).forEach(function(b){c[b]||delete a.selectedAvailableItemIds[b]}),Object.keys(this.selectedChosenItemIds).forEach(function(b){e[b]||delete a.selectedChosenItemIds[b]}),this.hierarchyMode===b.HierarchyMode.Flat&&(this.flatAvailableItems=this.flatAvailableItems.sort(function(b,c){if(a._currentAvailableSorting===d.ByCategory){var e=(b.category||"").localeCompare(c.category||"");return(e||b.displayName.localeCompare(c.displayName))*(a.isSortingDescending?-1:1)}return b.displayName.localeCompare(c.displayName)*(a.isSortingDescending?-1:1)})),Object.keys(this.isExpanded).forEach(function(b){e[b]||c[b]||delete a.isExpanded[b]}),this.updateCurrentChosenSelection(),this.updateCurrentAvailableSelection(),this._onDisplayedItemChanged.raise(this,null)},c.prototype.setState=function(a,c,d){this.hierarchyMode=d||b.HierarchyMode.Grouped,this.availableNodes=a.slice().sort(function(a,b){return a.descriptor.displayName.localeCompare(b.descriptor.displayName)}),this.availableNodes.forEach(function(a){a.children&&(a.children=a.children.slice().sort(function(a,b){return a.displayName.localeCompare(b.displayName)}))}),this.chosenNodes=c.slice(),this.refreshItems()},c.prototype.sortAvailableByName=function(){this._currentAvailableSorting===d.ByName&&(this._isSortingDescending=!this._isSortingDescending),this._currentAvailableSorting=d.ByName,this.refreshItems()},c.prototype.sortAvailableByCategory=function(){this._currentAvailableSorting===d.ByCategory&&(this._isSortingDescending=!this._isSortingDescending),this._currentAvailableSorting=d.ByCategory,this.refreshItems()},Object.defineProperty(c.prototype,"currentAvailableSorting",{get:function(){return this._currentAvailableSorting},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isSortingDescending",{get:function(){return this._isSortingDescending},enumerable:!0,configurable:!0}),c.prototype.toggleCollapseState=function(a){this.isExpanded[a]=!this.isExpanded[a],this.refreshItems()},c.prototype.setFilter=function(a){this.filter=a,this.refreshItems()},Object.defineProperty(c.prototype,"onDisplayedItemChanged",{get:function(){return this._onDisplayedItemChanged},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"onAction",{get:function(){return this._onAction},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"onAvailableSelectionChanged",{get:function(){return this._onAvailableSelectionChanged},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"onChosenSelectionChanged",{get:function(){return this._onChosenSelectionChanged},enumerable:!0,configurable:!0}),c.prototype.cleanAvailableSelection=function(){this.selectedAvailableItemIds={},this.updateCurrentAvailableSelection()},c.prototype.cleanChosenSelection=function(){this.selectedChosenItemIds={},this.updateCurrentChosenSelection()},c.prototype.selectAvailable=function(a){this.selectedAvailableItemIds[a]=!0,this.updateCurrentAvailableSelection()},c.prototype.selectChosen=function(a,b){b&&(this.selectedChosenItemIds={}),this.selectedChosenItemIds[a]=!0,this.updateCurrentChosenSelection()},c.prototype.isSelectedAvailable=function(a){return!!this.selectedAvailableItemIds[a]},c.prototype.isSelectedChosen=function(a){return!!this.selectedChosenItemIds[a]},c.prototype.toggleAvailableSelection=function(a){this.selectedAvailableItemIds[a]=!this.selectedAvailableItemIds[a],this.updateCurrentAvailableSelection()},c.prototype.toggleChosenSelection=function(a){this.selectedChosenItemIds[a]=!this.selectedChosenItemIds[a],this.updateCurrentChosenSelection()},Object.defineProperty(c.prototype,"currentAvailableSelection",{get:function(){return this._currentAvailableSelection},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"currentChosenSelection",{get:function(){return this._currentChosenSelection},enumerable:!0,configurable:!0}),c.prototype.moveItems=function(a,b,c,d){var e={items:a,targetItem:d,toLeft:b,fromLeft:c};this._onAction.raise(this,e)},c.prototype.moveCurrentSelection=function(a,b,c){this.moveItems(this._currentAvailableSelection,a,b,c)},c.prototype.updateCurrentAvailableSelection=function(){var a=this,b=this._currentAvailableSelection;this._currentAvailableSelection=this.flatAvailableItems.filter(function(b){return a.selectedAvailableItemIds[b.id]}),angular.equals(b,this._currentAvailableSelection)||this._onAvailableSelectionChanged.raise(this,this._currentAvailableSelection)},c.prototype.updateCurrentChosenSelection=function(){var a=this,b=this._currentChosenSelection;this._currentChosenSelection=this.flatChosenItems.filter(function(b){return a.selectedChosenItemIds[b.id]}),angular.equals(b,this._currentChosenSelection)||this._onChosenSelectionChanged.raise(this,this._currentChosenSelection)},c}();b.SwapPanel=e}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b;!function(a){a[a.None=1]="None",a[a.Move=2]="Move"}(b=a.SwapPanelAllowedOperation||(a.SwapPanelAllowedOperation={}));var c;!function(a){a[a.Grouped=1]="Grouped",a[a.Flat=2]="Flat"}(c=a.HierarchyMode||(a.HierarchyMode={}))}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){var c=function(){function a(a){var b=this;this.responsivenessService=a,this.restrict="E",this.scope={availableNodes:"=?",chosenNodes:"=?",onAction:"&?",allowedOperationOptions:"=?",isVerticalMode:"=?",chosenActionDescriptors:"=?"},this.templateUrl="toolkit/swapPanel/swapPanelDirective.tpl.html",this.link=function(a,c,e,f,g){new d(a,c,b.responsivenessService)}}return a}(),d=function(){function c(c,d,e){var f=this;this.restrict="E",this.templateUrl="toolkit/swapPanel/swapPanelDirective.tpl.html",this.firstChosenSelectedItem=function(){return f.swapPanel.currentChosenSelection.length?f.swapPanel.currentChosenSelection[0]:null},this.$scope=c,this.swapPanel=new b.SwapPanel,this.$scope=c,this.$scope.availablePanelId="availablePanelId",this.$scope.chosenPanelId="chosenPanelId",this.swapPanel.onDisplayedItemChanged.add(function(){f.fetchItems()}),this.$scope.swapPanel=this.swapPanel,this.$scope.isHierarchyViewMode=!1,this.updateButtonsState();var g=function(){var a=null,b=f.lastChosenSelectedItemIndex(),c=b+1;return c<f.$scope.flatChosen.length&&(a=f.$scope.flatChosen[c]),a};c.onToRightPressed=function(){f.swapPanel.moveItems(f.swapPanel.currentAvailableSelection,!1,!0,g())},c.onToLeftPressed=function(){f.swapPanel.moveItems(f.swapPanel.currentChosenSelection,!0,!1,null)},c.onAvailablePanelItemClick=function(a,b){f.handleAvailableSelectionEvent(a,b)},c.onChosenPanelItemClick=function(a,b){f.handleChosenSelectionEvent(a,b)},c.onAvailablePanelItemDblClick=function(a,b){f.isAllowedOperation([b],g(),!1,!0)&&f.swapPanel.moveItems([b],!1,!0,g())},c.onChosenPanelItemDblClick=function(a,b){f.isAllowedOperation([b],null,!0,!1)&&f.swapPanel.moveItems([b],!0,!1,null)},c.toggleExpand=function(a){f.swapPanel.toggleCollapseState(a)},c.$watch("filterInput",function(){f.swapPanel.setFilter(c.filterInput),f.fetchItems()}),c.$watch("isHierarchyViewMode",function(){f.onNodesChange()}),c.$watchCollection("availableNodes",function(a,b){f.onNodesChange()}),c.$watchCollection("chosenNodes",function(a,b){f.onNodesChange()});var h,i=function(){h&&(h(),h=null)},j=!1,k=function(a){c.$evalAsync(function(){a.width&&a.height&&(j=a.height>a.width,c.isVerticalLayout=j)})};c.$watch("isVerticalMode",function(){i(),c.isVerticalMode?c.isVerticalLayout=!0:(h=e.register(d[0],function(a){return k(a)},!0),c.isVerticalLayout=j)}),c.$on("$destroy",function(){i()}),c.isAvailableItemSelected=function(a){return f.swapPanel.isSelectedAvailable(a.id)},c.isChosenItemSelected=function(a){return f.swapPanel.isSelectedChosen(a.id)};var l=function(a,b,c){var d=!1,e=f.$scope.allowedOperationOptions&&f.$scope.allowedOperationOptions.onHasAllowedOperation;if(e){var g={items:c,fromLeft:b};e(g),g.noOperation&&(d=!0)}return d||a.setData("selected_items",c),!d};c.availableDndOptions={onDragStart:function(a){f.swapPanel.isSelectedAvailable(a.uid)||(f.swapPanel.cleanAvailableSelection(),f.swapPanel.selectAvailable(a.uid));var b=l(a.dataTransfer,!0,f.swapPanel.currentAvailableSelection);a.cancel=!b}},c.chosenDndOptions={onDragStart:function(a){f.swapPanel.isSelectedChosen(a.uid)||f.swapPanel.selectChosen(a.uid,!0);var b=l(a.dataTransfer,!0,f.swapPanel.currentChosenSelection);a.cancel=!b}},c.onAvailableDragEnter=function(b){b.setDropEffect(a.DnDDropEffect.Move),c.isDraggingOverAvailable=!0},c.onAvailableDragLeave=function(a){c.isDraggingOverAvailable=!1},c.onAvailableDragOver=function(c){var d,e=f.$scope.allowedOperationOptions&&f.$scope.allowedOperationOptions.onAllowedOperationRequest;if(e){var g=c.getData("selected_items"),h={action:{items:g,targetItem:null,toLeft:!0,fromLeft:!1}};e(h),d=h.allowedOperation&&h.allowedOperation!==b.SwapPanelAllowedOperation.Move}return d?a.DnDDropEffect.None:a.DnDDropEffect.Move},c.onAvailableDrop=function(a){c.isDraggingOverAvailable=!1;var b=a.getData("selected_items"),d={items:b,targetItem:null,toLeft:!0,fromLeft:!1};c.onAction&&c.onAction({$args:d})},c.onMoveTopPressed=function(){f.raiseReorder(f.$scope.flatChosen[0])},c.onMoveUpPressed=function(){var a=f.chosenItemBeforeFirstSelectedItemOrNull();f.raiseReorder(a)},c.onMoveDownPressed=function(){var a=f.chosenItemBeforeLastSelectedItemOrNull();f.raiseReorder(a)},c.onMoveBottomPressed=function(){f.raiseReorder(null)},c.selectHierarchyViewMode=function(){f.$scope.isHierarchyViewMode=!0},c.selectListViewMode=function(){f.$scope.isHierarchyViewMode=!1},c.sortByName=function(){f.swapPanel.sortAvailableByName()},c.sortByCategory=function(){f.swapPanel.sortAvailableByCategory()};var m=function(a){c.$evalAsync(function(){if(c.description="",c.lastSelectedId=null,a&&1===a.length){var b=a[0];c.description=b.description,c.lastSelectedId=b.id}f.updateButtonsState()})};this.swapPanel.onAvailableSelectionChanged.add(function(a,b){m(b)}),this.swapPanel.onChosenSelectionChanged.add(function(a,b){m(b)});var n=function(a){var b=f.$scope.flatChosen,c=-1;if(b.forEach(function(b,d){b.id===a.actionData.targetUid&&(c=d)}),c>=0)switch(a.action){case"DND_MOVE_BEFORE":case"DND_INSERT_BEFORE":break;case"DND_MOVE_AFTER":case"DND_INSERT_AFTER":c++}return c>=0?b[c]:null};c.handleDndAction=function(a,b){var d=n(a),e=b.getData("selected_items"),g=a.actionData.containerUid===c.availablePanelId;f.swapPanel.moveItems(e,!1,g,d)},c.onCanDrop=function(a,d){var e=n(a),g=d.getData("selected_items"),h=a.actionData.containerUid===c.availablePanelId,i={action:{items:g,targetItem:e,toLeft:!1,fromLeft:h}},j=f.$scope.allowedOperationOptions&&f.$scope.allowedOperationOptions.onAllowedOperationRequest;j&&j(i);var k=i.allowedOperation&&i.allowedOperation!==b.SwapPanelAllowedOperation.Move;return!k},this.swapPanel.onAction.add(function(a,b){c.onAction&&c.onAction({$args:b})})}return c.prototype.moveTopOperationRequestArgs=function(){return{action:{items:this.swapPanel.currentChosenSelection,targetItem:this.$scope.flatChosen[0],toLeft:!1,fromLeft:!1}}},c.prototype.hasAllowedOperation=function(a,b){var c=this.$scope.allowedOperationOptions&&this.$scope.allowedOperationOptions.onHasAllowedOperation;if(c){var d={items:a,fromLeft:b};if(c(d),d.noOperation)return!1}return!0},c.prototype.isAllowedOperation=function(a,c,d,e){var f=this.$scope.allowedOperationOptions&&this.$scope.allowedOperationOptions.onAllowedOperationRequest;if(f){var g={action:{items:a,targetItem:c,toLeft:d,fromLeft:e}};if(f(g),g.allowedOperation&&g.allowedOperation!==b.SwapPanelAllowedOperation.Move)return!1}return!0},c.prototype.updateButtonsState=function(){var a=this.swapPanel.currentAvailableSelection,b=this.swapPanel.currentChosenSelection,c=b&&b.length,d=a&&a.length,e=c&&this.hasAllowedOperation(b,!1);if(this.$scope.isToLeftDisabled=!c||!e||!this.isAllowedOperation(b,null,!0,!1),this.$scope.isToRightDisabled=!d||!this.hasAllowedOperation(a,!0)||!this.isAllowedOperation(a,null,!1,!0),this.$scope.isMoveTopDisabled=!c,this.$scope.isMoveUpDisabled=!c,this.$scope.isMoveDownDisabled=!c,this.$scope.isMoveBottomDisabled=!c,c){var f=this.$scope.flatChosen,g=b[0],h=b[b.length-1],i=this.isChosenSelectionContiguous(f,b);if(i&&f[0]===g&&(this.$scope.isMoveTopDisabled=!0),i&&f[f.length-1]===h&&(this.$scope.isMoveBottomDisabled=!0),i&&f[f.length-1]!==h||(this.$scope.isMoveDownDisabled=!0),i&&f[0]!==g||(this.$scope.isMoveUpDisabled=!0),this.$scope.isMoveTopDisabled||(this.$scope.isMoveTopDisabled=!e||!this.isAllowedOperation(b,f[0],!1,!1)),!this.$scope.isMoveUpDisabled){var j=f.indexOf(g);this.$scope.isMoveUpDisabled=!e||!this.isAllowedOperation(b,f[j-1],!1,!1)}this.$scope.isMoveDownDisabled||(this.$scope.isMoveDownDisabled=!e||!this.isAllowedOperation(b,this.chosenItemBeforeLastSelectedItemOrNull(),!1,!1)),this.$scope.isMoveBottomDisabled||(this.$scope.isMoveBottomDisabled=!e||!this.isAllowedOperation(b,null,!1,!1))}},c.prototype.fetchItems=function(){var a=this.swapPanel.currentAvailableSorting;this.$scope.isSortedByCategory=a===b.SwapPanelSorting.ByCategory,this.$scope.isSortedByName=a===b.SwapPanelSorting.ByName,this.$scope.isSortingDescending=this.swapPanel.isSortingDescending,this.$scope.flatChosen=this.swapPanel.flatChosenItems,this.$scope.flatAvailable=this.swapPanel.flatAvailableItems,this.updateButtonsState()},c.prototype.onNodesChange=function(){var a=this.$scope.isHierarchyViewMode?b.HierarchyMode.Grouped:b.HierarchyMode.Flat;this.swapPanel.setState(this.$scope.availableNodes||[],this.$scope.chosenNodes||[],a),
this.fetchItems()},c.prototype.performShiftSelection=function(a,b,c,d,e){var f=c.indexOf(a);if(f>=0){var g=void 0;b&&(g=c.indexOf(b)),g>=0||(g=f),d();for(var h=Math.min(f,g);h<=Math.max(f,g);h++)e(c[h].id)}},c.prototype.handleAvailableSelectionEvent=function(a,b){var c=this;a.shiftKey?this.performShiftSelection(b,this.lastAvailableSelected,this.$scope.flatAvailable,function(){return c.swapPanel.cleanAvailableSelection()},function(a){return c.swapPanel.selectAvailable(a)}):a.ctrlKey?this.swapPanel.toggleAvailableSelection(b.id):(this.swapPanel.cleanAvailableSelection(),this.swapPanel.selectAvailable(b.id)),this.swapPanel.isSelectedAvailable(b.id)&&!a.shiftKey&&(this.lastAvailableSelected=b)},c.prototype.handleChosenSelectionEvent=function(a,b){var c=this;a.shiftKey?this.performShiftSelection(b,this.lastChosenSelected,this.$scope.flatChosen,function(){return c.swapPanel.cleanChosenSelection()},function(a){return c.swapPanel.selectChosen(a)}):a.ctrlKey?this.swapPanel.toggleChosenSelection(b.id):this.swapPanel.selectChosen(b.id,!0),this.swapPanel.isSelectedChosen(b.id)&&!a.shiftKey&&(this.lastChosenSelected=b)},c.prototype.lastChosenSelectedItem=function(){return this.swapPanel.currentChosenSelection.length?this.swapPanel.currentChosenSelection[this.swapPanel.currentChosenSelection.length-1]:null},c.prototype.lastChosenSelectedItemIndex=function(){var a=this.lastChosenSelectedItem();return a?this.$scope.flatChosen.indexOf(a):-1},c.prototype.chosenItemBeforeLastSelectedItemOrNull=function(){var a=this.lastChosenSelectedItemIndex();return a<this.$scope.flatChosen.length-2?this.$scope.flatChosen[a+2]:null},c.prototype.firstChosenSelectedItemIndex=function(){var a=this.firstChosenSelectedItem();return a?this.$scope.flatChosen.indexOf(a):-1},c.prototype.chosenItemBeforeFirstSelectedItemOrNull=function(){var a=this.firstChosenSelectedItemIndex();return a>=0?this.$scope.flatChosen[a-1]:null},c.prototype.raiseReorder=function(a){var b={items:this.swapPanel.currentChosenSelection,targetItem:a,toLeft:!1,fromLeft:!1};this.$scope.onAction&&this.$scope.onAction({$args:b})},c.prototype.isChosenSelectionContiguous=function(a,b){if(b&&1===b.length)return!0;var c=!0,d={};b.forEach(function(a){return d[a.id]=!0});var e=-1;return a.forEach(function(a,b){var f=d[a.id];f&&e>=0&&e+1<b&&(c=!1),f&&(e=b)}),c},c}();angular.module("ionwebTk").directive("ionwebSwapPanel",["ionweb.responsivenessService",function(a){return new c(a)}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){var c;!function(a){a[a.Left=0]="Left",a[a.Center=1]="Center",a[a.Right=2]="Right"}(c=b.BannerTextAlignment||(b.BannerTextAlignment={}));var d;!function(a){a[a.Linear=0]="Linear",a[a.Arc=1]="Arc",a[a.Round=2]="Round"}(d=b.BannerProgressType||(b.BannerProgressType={}));var e=function(){function a(){}return a.prototype.cleanClasses=function(b){return b.map(function(b){return(a.CLASS_PREFIX+b).toLowerCase()})},a.prototype.flattenClasses=function(a){return this.cleanClasses(a).join(" ")},a.prototype.getDefaultModel=function(){return{backgroundColor:"transparent",header:{content:"Header Text",size:22,alignment:c.Left,color:"@ion-theme-accent",wrap:!1},primary:{content:"Primary Text",size:16,alignment:c.Left,color:"@ion-theme-accent",wrap:!0},secondary:{content:"Secondary Text",size:12,alignment:c.Left,color:"grey",wrap:!0},progress:{size:16,color:"#6d6dae"}}},a.prototype.getDefaultTextConfig=function(){return{show:!0,canEditContent:!0,canEditAlignment:!0,canEditColor:!0,canEditSize:!0,canEditWrap:!0}},a.prototype.getDefaultProgressConfig=function(){return{show:!0,value:75,maxValue:100,type:d.Linear,canEditColor:!0,canEditSize:!0}},a.prototype.getDefaultBannerItemSettings=function(){return{showIcon:!1,classes:[],isOpen:!1,isColorPickerOpen:!1}},a.prototype.getDefaultConfig=function(){return{editMode:!1,canEditBackgroundColor:!0,progressBeforeText:!0,textOnSingleLine:!1,header:f.getDefaultTextConfig(),primary:f.getDefaultTextConfig(),secondary:f.getDefaultTextConfig(),progress:f.getDefaultProgressConfig()}},a.CLASS_PREFIX="ionbanner-",a.PLACEHOLDER_TEXT="enter text",a}();b.BannerService=e,angular.module("ionwebTk").service("ionweb.bannerService",[e]);var f=function(){function b(){}return b.getDefaultModel=function(){return angular.element(a._rootDiv||document.body).injector().get("ionweb.bannerService").getDefaultModel()},b.getDefaultTextConfig=function(){return angular.element(a._rootDiv||document.body).injector().get("ionweb.bannerService").getDefaultTextConfig()},b.getDefaultProgressConfig=function(){return angular.element(a._rootDiv||document.body).injector().get("ionweb.bannerService").getDefaultProgressConfig()},b.getDefaultConfig=function(){return angular.element(a._rootDiv||document.body).injector().get("ionweb.bannerService").getDefaultConfig()},b}();b.Banner=f}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={})),function(a){}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){var c=function(){function a(){this.restrict="E",this.templateUrl="toolkit/banner/banner.tpl.html",this.controller="ionwebBannerController",this.controllerAs="ctrl",this.scope={model:"=",config:"=",actualBackgroundColor:"=?"}}return a}(),d=function(){function c(a,c,d){var e=this;this.$scope=a,this.bannerService=d,this.containerClasses="",this.containerStyle={},this.alignments=b.BannerTextAlignment,this.headerSettings=d.getDefaultBannerItemSettings(),this.primarySettings=d.getDefaultBannerItemSettings(),this.secondarySettings=d.getDefaultBannerItemSettings(),this.progressSettings=d.getDefaultBannerItemSettings(),a.model||(a.model=d.getDefaultModel()),a.config||(a.config=d.getDefaultConfig()),a.$watch("model.backgroundColor",function(){return e.updateContainerClassesAndStyle()}),a.$watch("config.backgroundColorOverride",function(){return e.updateContainerClassesAndStyle()}),a.$watch("config.editMode",function(){e.updateContainerClassesAndStyle(),e.updateSettingsClasses(e.headerSettings,a.model.header),e.updateSettingsClasses(e.primarySettings,a.model.primary),e.updateSettingsClasses(e.secondarySettings,a.model.secondary),e.updateSettingsClasses(e.progressSettings,a.model.progress)}),a.$watch("config.textOnSingleLine",function(){return e.updateContainerClassesAndStyle()}),a.$watch("ctrl.headerSettings.isOpen",function(){return e.updateSettingsClasses(e.headerSettings,a.model.header)}),a.$watch("ctrl.primarySettings.isOpen",function(){return e.updateSettingsClasses(e.primarySettings,a.model.primary)}),a.$watch("ctrl.secondarySettings.isOpen",function(){return e.updateSettingsClasses(e.secondarySettings,a.model.secondary)}),a.$watch("ctrl.progressSettings.isOpen",function(){return e.updateSettingsClasses(e.progressSettings,a.model.progress)}),a.$watch("config.progress.type",function(a){e.progressType=b.BannerProgressType[a],e.headerSettings.isOpen=!1,e.primarySettings.isOpen=!1,e.secondarySettings.isOpen=!1,e.progressSettings.isOpen=!1})}return c.prototype.updateContainerClassesAndStyle=function(){var a=[];this.$scope.config.editMode&&a.push("edit-mode"),this.$scope.config.textOnSingleLine&&a.push("single-line");var c=this.bannerService.flattenClasses(a);this.$scope.actualBackgroundColor=this.$scope.config.backgroundColorOverride||this.$scope.model.backgroundColor;var d=b.getThemeClassOrStyle(this.$scope.actualBackgroundColor,"bg");this.containerClasses=(d.classStr+" "+c).trim(),this.containerStyle=d.styleObj},c.prototype.updateSettingsClasses=function(c,d){var e=c.isOpen||this.$scope.config.editMode&&c.showIcon;if(!e){var f=d.alignment;angular.isDefined(f)||(f=b.BannerTextAlignment.Center),a.spliceAll(c.classes,function(a){return"center"===a||"left"===a||"right"===a}),c.classes.push((b.BannerTextAlignment[f]||"").toLowerCase())}e?c.classes.push("open"):a.spliceAll(c.classes,function(a){return"open"===a})},c.$inject=["$scope","$injector","ionweb.bannerService"],c}();angular.module("ionwebTk").directive("ionwebBanner",[function(){return new c}]).controller("ionwebBannerController",d)}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b=function(){function a(){this.scope={config:"=",model:"="},this.restrict="E",this.controller="ionwebBannerProgressController",this.controllerAs="ctrl",this.templateUrl="toolkit/banner/bannerProgress.tpl.html"}return a}(),c=function(){function b(b,c){var d=this;this.$scope=b,this.bannerService=c,b.$watch("model",function(){return d.buildClassesAndStyle()},!0),b.$watch("config",function(){d.isSemi=d.$scope.config&&d.$scope.config.type===a.BannerProgressType.Arc,d.isLinear=d.$scope.config&&d.$scope.config.type===a.BannerProgressType.Linear,d.buildClassesAndStyle()},!0)}return b.prototype.getProgressActualWidth=function(){return this.$scope.config.type!==a.BannerProgressType.Linear?this.getRoundProgressActualWidth():this.getProgressWidth()},b.prototype.getProgressActualHeight=function(){return this.getProgressHeight()},b.prototype.buildClassesAndStyle=function(){if(this.$scope.model){var b=["progress"];this.containerClasses=this.bannerService.flattenClasses(b);var c=(this.$scope.config.colorOverride||this.$scope.model.color).replace("@"+a.THEME_PREFIX+"-","@");if(this.isLinear){var d="",e="",f={},g={height:this.getProgressActualHeight(),width:this.getProgressActualWidth()},h=a.getThemeClass(c,"bg");h?(d+=h,e+=h):(f["background-color"]=c,g["background-color"]=c),this.linearTrackClasses=d,this.linearTrackStyle=f,this.linearBarClasses=e,this.linearBarStyle=g}else this.roundTrackClass=a.getThemeClass(c,"stroke"),this.roundBarClass=this.roundTrackClass}},b.prototype.getProgressWidth=function(){var a=this.$scope.config.value/this.$scope.config.maxValue;return 100*Math.min(1,Math.max(0,a))+"%"},b.prototype.getProgressHeight=function(){var b=this.$scope.model.size*a.DensityServicePixelToRemFactor;return b+"rem"},b.prototype.getRoundProgressActualWidth=function(){var b=Math.max(12,Math.min(28,this.$scope.model.size)),c=b*a.DensityServicePixelToRemFactor;return this.$scope.model.size=b,12*c+"rem"},b.$inject=["$scope","ionweb.bannerService"],b}();angular.module("ionwebTk").directive("ionwebBannerProgress",[function(){return new b}]).controller("ionwebBannerProgressController",c)}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b=function(){function a(){this.scope={model:"=",config:"=",editable:"=",placeholder:"=?"},this.restrict="E",this.controller="ionwebBannerTextController",this.controllerAs="ctrl",this.templateUrl="toolkit/banner/bannerText.tpl.html"}return a}(),c=function(){function b(a,b){var c=this;this.$scope=a,this.bannerService=b,a.$watch("model",function(){c.buildClassesAndStyle(),c.checkPlaceholder()},!0),a.$watch("config.colorOverride",function(){return c.buildClassesAndStyle()})}return b.prototype.checkPlaceholder=function(){var b=this.$scope.model;b&&(null==b.content||b.content.trim().length<1)&&(b.content=this.$scope.placeholder||a.BannerService.PLACEHOLDER_TEXT)},b.prototype.buildClassesAndStyle=function(){var b=this.$scope.model,c=this.$scope.config||{},d=this.$scope.placeholder||a.BannerService.PLACEHOLDER_TEXT;if(b){var e=["align-"+a.BannerTextAlignment[b.alignment]];b.wrap&&e.push("wrap"),b.content===d&&e.push("placeholder"),e=this.bannerService.cleanClasses(e);var f=b.size*a.DensityServicePixelToRemFactor,g={"font-size":f+"rem"},h=(c.colorOverride||b.color||"").replace("@"+a.THEME_PREFIX+"-","@"),i=a.getThemeClass(h,"fg");i?e.push(i):g.color=h,b.classes&&(e=e.concat(b.classes)),this.contentClasses=e,this.contentStyle=g}},b.$inject=["$scope","ionweb.bannerService"],b}();angular.module("ionwebTk").directive("ionwebBannerText",[function(){return new b}]).controller("ionwebBannerTextController",c)}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){angular.module("ionwebTk").directive("contenteditable",function(){return{restrict:"A",require:"ngModel",replace:!0,link:function(a,b,c,d){function e(){var a=b.html().replace(/\u00A0/g," ");d.$setViewValue(a)}d.$render=function(){b.html(d.$viewValue||"")},b.bind("paste",function(a){function b(a){var b,c;if(window.getSelection)b=window.getSelection(),b.getRangeAt&&b.rangeCount&&(c=b.getRangeAt(0),c.deleteContents(),c.insertNode(document.createTextNode(a)));else{var d=document;d.selection&&d.selection.createRange&&(d.selection.createRange().text=a)}}var c=a.originalEvent;if(c.preventDefault(),c.clipboardData&&c.clipboardData.getData){var d=c.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,d)}else{var e=window;if(e.clipboardData&&e.clipboardData.getData){var d=e.clipboardData.getData("Text");b(d)}}}),b.bind("blur change",function(){a.$evalAsync(e)})}}})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={})),angular.module("ionwebTk").constant("roundProgressConfig",{max:50,semi:!1,rounded:!1,responsive:!1,clockwise:!0,radius:100,color:"#45ccce",fgClass:"",bgcolor:"#eaeaea",bgClass:"",stroke:15,duration:800,animation:"easeOutCubic",animationDelay:0,offset:0}),angular.module("ionwebTk").service("roundProgressService",["$window",function(a){function b(a,b,c,d){var e=(d-90)*Math.PI/180,f=a+c*Math.cos(e),g=b+c*Math.sin(e);return f+" "+g}var c={},d=angular.isNumber,e=document.head.querySelector("base");return c.isSupported=!(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),c.resolveColor=e&&e.href?function(a){var b=a.indexOf("#");return b>-1&&a.indexOf("url")>-1?a.slice(0,b)+window.location.href+a.slice(b):a}:function(a){return a},c.toNumber=function(a){return d(a)?a:parseFloat((a+"").replace(",","."))},c.getOffset=function(a,b){var c=+b.offset||0;if("inherit"===b.offset)for(var d=a.$parent;d;){if(d.hasOwnProperty("$$getRoundProgressOptions")){var e=d.$$getRoundProgressOptions();c+=(+e.offset||0)+(+e.stroke||0)}d=d.$parent}return c},c.getTimestamp=a.performance&&a.performance.now&&angular.isNumber(a.performance.now())?function(){return a.performance.now()}:function(){return(new a.Date).getTime()},c.updateState=function(a,c,d,e,f,g){if(!f)return e;var h=a>0?Math.min(a,c):0,i=g?180:359.9999,j=0===c?0:h/c*i,k=b(f,f,d,j),l=b(f,f,d,0),m=j<=180?0:1,n="M "+k+" A "+d+" "+d+" 0 "+m+" 0 "+l;return e.attr("d",n)},c.animations={linearEase:function(a,b,c,d){return c*a/d+b},easeInQuad:function(a,b,c,d){return c*(a/=d)*a+b},easeOutQuad:function(a,b,c,d){return-c*(a/=d)*(a-2)+b},easeInOutQuad:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},easeInCubic:function(a,b,c,d){return c*(a/=d)*a*a+b},easeOutCubic:function(a,b,c,d){return c*((a=a/d-1)*a*a+1)+b},easeInOutCubic:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b},easeInQuart:function(a,b,c,d){return c*(a/=d)*a*a*a+b},easeOutQuart:function(a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b},easeInOutQuart:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b},easeInQuint:function(a,b,c,d){return c*(a/=d)*a*a*a*a+b},easeOutQuint:function(a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b},easeInOutQuint:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b},easeInSine:function(a,b,c,d){return-c*Math.cos(a/d*(Math.PI/2))+c+b},easeOutSine:function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b},easeInOutSine:function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b},easeInExpo:function(a,b,c,d){return 0==a?b:c*Math.pow(2,10*(a/d-1))+b},easeOutExpo:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},easeInOutExpo:function(a,b,c,d){return 0==a?b:a==d?b+c:(a/=d/2)<1?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b},easeInCirc:function(a,b,c,d){return-c*(Math.sqrt(1-(a/=d)*a)-1)+b},easeOutCirc:function(a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b},easeInOutCirc:function(a,b,c,d){return(a/=d/2)<1?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b},easeInElastic:function(a,b,c,d){var e=1.70158,f=0,g=c;return 0==a?b:1==(a/=d)?b+c:(f||(f=.3*d),g<Math.abs(c)?(g=c,e=f/4):e=f/(2*Math.PI)*Math.asin(c/g),-(g*Math.pow(2,10*(a-=1))*Math.sin((a*d-e)*(2*Math.PI)/f))+b)},easeOutElastic:function(a,b,c,d){var e=1.70158,f=0,g=c;return 0==a?b:1==(a/=d)?b+c:(f||(f=.3*d),g<Math.abs(c)?(g=c,e=f/4):e=f/(2*Math.PI)*Math.asin(c/g),g*Math.pow(2,-10*a)*Math.sin((a*d-e)*(2*Math.PI)/f)+c+b)},easeInOutElastic:function(a,b,c,d){var e=1.70158,f=0,g=c;return 0==a?b:2==(a/=d/2)?b+c:(f||(f=d*(.3*1.5)),g<Math.abs(c)?(g=c,e=f/4):e=f/(2*Math.PI)*Math.asin(c/g),a<1?-.5*(g*Math.pow(2,10*(a-=1))*Math.sin((a*d-e)*(2*Math.PI)/f))+b:g*Math.pow(2,-10*(a-=1))*Math.sin((a*d-e)*(2*Math.PI)/f)*.5+c+b)},easeInBack:function(a,b,c,d,e){return void 0==e&&(e=1.70158),c*(a/=d)*a*((e+1)*a-e)+b},easeOutBack:function(a,b,c,d,e){return void 0==e&&(e=1.70158),c*((a=a/d-1)*a*((e+1)*a+e)+1)+b},easeInOutBack:function(a,b,c,d,e){return void 0==e&&(e=1.70158),(a/=d/2)<1?c/2*(a*a*(((e*=1.525)+1)*a-e))+b:c/2*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)+b},easeInBounce:function(a,b,d,e){return d-c.animations.easeOutBounce(e-a,0,d,e)+b},easeOutBounce:function(a,b,c,d){return(a/=d)<1/2.75?c*(7.5625*a*a)+b:a<2/2.75?c*(7.5625*(a-=1.5/2.75)*a+.75)+b:a<2.5/2.75?c*(7.5625*(a-=2.25/2.75)*a+.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+.984375)+b},easeInOutBounce:function(a,b,d,e){return a<e/2?.5*c.animations.easeInBounce(2*a,0,d,e)+b:.5*c.animations.easeOutBounce(2*a-e,0,d,e)+.5*d+b}},c}]),angular.module("ionwebTk").directive("roundProgress",["$window","roundProgressService","roundProgressConfig",function(a,b,c){var d={restrict:"EA",replace:!0,transclude:!0,scope:{current:"=",max:"=",semi:"=",rounded:"=",clockwise:"=",responsive:"=",onRender:"=",radius:"@",color:"@",fgClass:"@",bgcolor:"@",bgClass:"@",stroke:"@",duration:"@",animation:"@",offset:"@",animationDelay:"@"}};return b.isSupported?angular.extend(d,{link:function(e,f,g){function h(a){return g.hasOwnProperty(a)}var i,j,k=!f.hasClass("round-progress-wrapper"),l=k?f:f.find("svg").eq(0),m=l.find("path").eq(0),n=l.find("circle").eq(0),o=angular.copy(c),p=0;e.$$getRoundProgressOptions=function(){return o};var q=function(){var a=o.semi,c=o.responsive,d=+o.radius||0,g=+o.stroke,h=2*d,i=d-g/2-b.getOffset(e,o);l.css({top:0,left:0,position:c?"absolute":"static",width:c?"100%":h+"px",height:c?"100%":(a?d:h)+"px",overflow:"hidden"}),k||l[0].setAttribute("viewBox","0 0 "+h+" "+(a?d:h)),f.css({width:c?"100%":"auto",position:"relative",paddingBottom:c?a?"50%":"100%":0}),m.attr({class:o.fgClass||""}).css({stroke:o.fgClass?"":b.resolveColor(o.color),strokeWidth:g,strokeLinecap:o.rounded?"round":"butt"}),a?m.attr("transform",o.clockwise?"translate(0, "+h+") rotate(-90)":"translate("+h+", "+h+") rotate(90) scale(-1, 1)"):m.attr("transform",o.clockwise?"":"scale(-1, 1) translate("+-h+" 0)"),n.attr({class:o.bgClass||"",cx:d,cy:d,r:i>=0?i:0}).css({strokeWidth:g,stroke:o.bgClass?"":b.resolveColor(o.bgcolor)})},r=function(c,d,g){var h=b.toNumber(o.max||0),j=c>0?a.Math.min(c,h):0,k=d===j||d<0?0:d||0,n=j-k,q=b.animations[o.animation],r=+o.duration||0,s=g||c>h&&d>h||c<0&&d<0||r<25,t=b.toNumber(o.radius),u=t-o.stroke/2-b.getOffset(e,o),v=o.semi;l.attr({"aria-valuemax":h,"aria-valuenow":j});var w=function(){if(s)b.updateState(j,h,u,m,t,v),o.onRender&&o.onRender(j,o,f);else{var c=b.getTimestamp(),d=++p;a.requestAnimationFrame(function e(){var g=a.Math.min(b.getTimestamp()-c,r),i=q(g,k,n,r);b.updateState(i,h,u,m,t,v),o.onRender&&o.onRender(i,o,f),d===p&&g<r&&a.requestAnimationFrame(e)})}};o.animationDelay>0?(a.clearTimeout(i),a.setTimeout(w,o.animationDelay)):w()},s=Object.keys(d.scope).filter(function(a){return h(a)&&"current"!==a});e.$watchGroup(s,function(a){for(var b=0;b<a.length;b++)"undefined"!=typeof a[b]&&(o[s[b]]=a[b]);q(),e.$broadcast("$parentOffsetChanged"),"inherit"!==o.offset||j?"inherit"!==o.offset&&j&&j():j=e.$on("$parentOffsetChanged",function(){r(e.current,e.current,!0),q()})}),e.$watchGroup(["current","max","radius","stroke","semi","offset"].filter(h),function(a,c){r(b.toNumber(a[0]),b.toNumber(c[0]))})},template:function(a){for(var b=a.parent(),c="round-progress",d=['<svg class="'+c+'" xmlns="http://www.w3.org/2000/svg" role="progressbar" aria-valuemin="0">','<circle fill="none"/>','<path fill="none"/>',"<g ng-transclude></g>","</svg>"];b.length&&b[0].nodeName.toLowerCase()!==c&&"undefined"==typeof b.attr(c);)b=b.parent();return b&&b.length||(d.unshift('<div class="round-progress-wrapper">'),d.push("</div>")),d.join("\n")}}):angular.extend(d,{template:'<div class="round-progress" ng-transclude></div>'})}]);var ionweb;!function(a){var b;!function(a){var b=function(b,c,d,e){b.onAction=function(a){d.dispatchAction({uid:b.uid,action:a})};var f=function(){return{dragStart:function(a,c,e){var f=d.getDndSourceId();if(f){var g={uid:b.uid,containerUid:f},h=!0;if(b.dndOptions&&"function"==typeof b.dndOptions.onDragStart){var i={uid:b.uid,dataTransfer:c,cancel:!1};b.dndOptions.onDragStart(i),h=!i.cancel}h&&c.setData("INTERACTIVE_LIST_ITEM_DND_TYPE",g)}}}},g=new a.DnDDragWrapper(c,f,e);b.$on("$destroy",function(){g.dispose()})};angular.module("ionwebTk").directive("actionableItem",["ionwebTk.loggerFactory",function(a){return{scope:{uid:"@",actions:"=?",dndOptions:"=?"},transclude:!0,require:"^?interactiveList",templateUrl:"toolkit/actionableItem/actionableItem.tpl.html",link:function(c,d,e,f){return b(c,d,f,a)}}}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){angular.module("ionwebTk").directive("ionwebCustomContent",["$templateCache","$compile",function(a,b){return{link:function(c,d){var e=c.templateUrl&&a.get(c.templateUrl)||c.template;if(e){var f=c.templateScope;f||(f=c.$new(),c.$on("$destroy",function(){f.$destroy()}));var g=b(e)(f);d.append(g)}},restrict:"EA",replace:!0,scope:{templateUrl:"@?",template:"=?",templateScope:"=?"}}}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b=function(a,b){return void 0===b&&(b="vertical"),"horizontal"===a||"horizontal-inverse"===a||"vertical"===a||"vertical-inverse"===a?a:b},c=function(){function a(){this._orientation="vertical",this._isCollapsed=!1,this.title="Panel",this.updateClasses()}return Object.defineProperty(a.prototype,"orientation",{get:function(){return this._orientation},set:function(a){this._orientation!=a&&(this._orientation=a,this.updateClasses())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"collapsedOrientation",{get:function(){return this._collapsedOrientation},set:function(a){this._collapsedOrientation!=a&&(this._collapsedOrientation=a,this.updateClasses())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isCollapsed",{get:function(){return this._isCollapsed},set:function(a){this._isCollapsed!=a&&(this._isCollapsed=a,this.updateClasses())},enumerable:!0,configurable:!0}),a.prototype.updateClasses=function(){this.containerClasses=this.getContainerClasses(),this.headingGlyphClasses=this.getHeadingGlyphClasses()},a.prototype.getActualOrientation=function(){var a=b(this.orientation);return this.isCollapsed?b(this.collapsedOrientation,a):a},a.prototype.getContainerClasses=function(){var a=[];return this.isCollapsed&&a.push("collapsed"),a.push(this.getActualOrientation()),a},a.prototype.getHeadingGlyphClasses=function(){var a=["glyphicon"],c=b(this.orientation),d=b(this.collapsedOrientation,c),e="glyphicon-chevron-";return e+=this.isCollapsed?"vertical"===d?"down":"vertical-inverse"===d?"up":"horizontal-inverse"===d?"left":"right":"vertical"===c?"up":"vertical-inverse"===c?"down":"horizontal-inverse"===c?"right":"left",a.push(e),a},a}();angular.module("ionwebTk").directive("collapsiblePane",[function(){return{scope:{},bindToController:{title:"@?",titleTemplate:"=?",titleTemplateUrl:"@?",titleTemplateScope:"=?",isCollapsed:"=?",orientation:"@?",collapsedOrientation:"@?",paneSettings:"=?"},controller:function(){return new c},controllerAs:"ctrl",templateUrl:"toolkit/collapsiblePane/collapsiblePane.tpl.html",transclude:!0,replace:!0}}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){angular.module("ionwebTk").directive("interactiveList",[function(){return{controller:["$scope","$attrs","$element",c],controllerAs:"ctrl"}}]);var c=function(){function c(a,b,c,d){var e=this;this.$scope=a,this.$attrs=b,this.$element=c,this.loggerFactory=d,this.belowDecorator="dnd-insert-below-decorator",this.aboveDecorator="dnd-insert-above-decorator",b.$observe("onDndAction",function(a){e.destroyDnd(),e._dndDispatchHandler=a,e.createDnd()}),b.$observe("dndSourceId",function(a){e._dndSourceId=a}),a.$on("$destroy",function(){e.destroyDnd()})}return c.prototype.createDnd=function(){var a=this;if(this._dndDispatchHandler){var c=function(){return{dragEnter:function(b,c,d){return a.onDragEnter(b,c,d)},dragOver:function(b,c,d){return a.onDragOver(b,c,d)},dragLeave:function(b,c){return a.onDragLeave(b,c)},drop:function(b,c,d){return a.drop(b,c,d)}}};this._dndWrapper=new b.DnDDropWrapper(this.$element,c,this.loggerFactory)}},c.prototype.destroyDnd=function(){this._dndDispatchHandler=null,this._dndWrapper&&this._dndWrapper.dispose()},c.prototype.dispatchAction=function(a){var b=this.$attrs.onAction;b&&(this.$scope.$action=a,this.$scope.$eval(b))},c.prototype.dispatchDndAction=function(a,b){this._dndDispatchHandler&&(this.$scope.$dndAction=a,this.$scope.$dataTransfer=b,this.$scope.$eval(this._dndDispatchHandler))},c.prototype.appWantDenyDropping=function(a,b){var c=this.$attrs.onCanDrop;return!!c&&(this.$scope.$dndAction=a,this.$scope.$dataTransfer=b,!this.$scope.$eval(c))},c.prototype.createAction=function(a,b,c){var d=b.getData("INTERACTIVE_LIST_ITEM_DND_TYPE");if(d){var e=d.containerUid,f=this.getHoveredActionableItem(a,c),g=f&&f.getAttribute("uid"),h=f&&this.isEventOnTopHalf(f,c)?"BEFORE":"AFTER",i=(this._dndSourceId===e?"DND_MOVE_":"DND_INSERT_")+h;return{uid:d.uid,action:i,actionData:{targetUid:g,containerUid:e}}}return null},c.prototype.canDrop=function(a,b,c){if(this.isDndActive()){var d=b.getData("INTERACTIVE_LIST_ITEM_DND_TYPE"),e=!!d;if(e){var f=this.createAction(a,b,c);if(f&&this.appWantDenyDropping(f,b))return!1}return e}return!1},c.prototype.onDragEnter=function(a,b,c){return this.canDrop(a,b,c)},c.prototype.onDragOver=function(b,c,d){if(this.canDrop(b,c,d)){this.cleanClasses();var e=this.getHoveredActionableItem(b,d);if(e)$(e).addClass(this.isEventOnTopHalf(e,d)?this.aboveDecorator:this.belowDecorator);else{var f=this.$element.find(".actionable-item").last();f&&$(f.parent()).addClass(this.belowDecorator)}return a.DnDDropEffect.Move}return a.DnDDropEffect.None},c.prototype.onDragLeave=function(a,b){this.isDndActive()&&this.cleanClasses()},c.prototype.drop=function(a,b,c){if(this.isDndActive()){this.cleanClasses();var d=this.createAction(a,b,c);d&&this.dispatchDndAction(d,b)}},c.prototype.isDndActive=function(){return!!this._dndDispatchHandler},c.prototype.getDndSourceId=function(){return this._dndSourceId},c.prototype.getHoveredActionableItem=function(a,b){var c=b.clientX,d=b.clientY,e=document.elementFromPoint(c,d),f=$(e).closest(".actionable-item");return f&&f.length?f.parent()[0]:null},c.prototype.isEventOnTopHalf=function(a,b){var c=a.getBoundingClientRect(),d=b.clientY-c.top;return d<c.height/2},c.prototype.cleanClasses=function(){var a=this;this.$element.children().each(function(b,c){$(c).removeClass(a.belowDecorator),$(c).removeClass(a.aboveDecorator)})},c}();b.InteractiveListController=c}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b=0,c=100,d=function(){function a(a){var b=this;this.$document=a,this.restrict="E",this.scope={type:"@?",position:"=?",minPosition:"=?",maxPosition:"=?"},this.transclude=!0,this.templateUrl="toolkit/splitPane/ionwebSplitPane.tpl.html",this.link=function(a,c,d,f,g){new e(a,c,b.$document,g)}}return a}(),e=function(){function a(a,b,c,d){var e=this;this.$scope=a,this.$element=b,this.$document=c,this.onMouseMove=function(a){var b,c,d=a.originalEvent;"vertical"===e.$scope.type?(b=a.clientX||d.touches&&d.touches[0].clientX||0,c=e.$element.width()):(b=a.clientY||d.touches&&d.touches[0].clientY||0,c=e.$element.height());var f=(b-e.containerOffset)/c*100;e.updatePosition(f)},this.onMouseDown=function(a){var b=a.target&&$(a.target).parent(".prevent-split-drag");b&&b.length||(a.preventDefault(),e.containerOffset="vertical"===e.$scope.type?e.$element.offset().left:e.$element.offset().top,e.$document.on("mousemove touchmove",e.onMouseMove),e.$document.on("touchend mouseup",e.onMouseUp))},this.onMouseUp=function(){e.$document.off("touchmove mousemove",e.onMouseMove),e.$document.off("touchend mouseup",e.onMouseUp),e.$scope.$evalAsync(function(){e.$scope.position=e.splitterPosition})},angular.isUndefined(a.type)&&(this.$scope.type="horizontal"),this.$scope.showSplitter=!0,this.firstContainer=b.find(".ionweb-split-pane-content").first(),this.secondContainer=b.find(".ionweb-split-pane-content").eq(1),this.splitter=b.find(".ionweb-split-pane-splitter"),d(a.$parent,function(a){var b=".ionweb-split-pane-custom-splitter",c=":not(:text):not("+b+")",d=a.filter(c).first();e.firstContainer.append(d),setTimeout(function(){var d=a.filter(c).eq(1);if(e.secondContainer.append(d),d.length<=0||"none"==d.css("display"))return void(e.$scope.showSplitter=!1);var f=a.filter(b).first();f&&e.splitter.append(f),angular.isDefined(e.$scope.position)&&e.updatePosition(e.$scope.position)})}),this.$scope.$watchGroup(["type","position","minPosition","maxPosition"],function(a,b){angular.equals(a,b)||e.updatePosition(e.$scope.position)}),this.splitter.on("mousedown touchstart",this.onMouseDown),a.$on("$destroy",function(){e.splitter.off("mousedown touchstart",e.onMouseDown)})}return a.prototype.updatePosition=function(a){this.splitterPosition=Math.min(Math.max(a,this.$scope.minPosition||b),this.$scope.maxPosition||c);var d=this.splitterPosition+"%",e="vertical"===this.$scope.type?{width:d,minWidth:d,maxWidth:d,height:"",minHeight:"",maxHeight:""}:{width:"",minWidth:"",maxWidth:"",height:d,minHeight:d,maxHeight:d};this.firstContainer.css(e)},a}();angular.module("ionwebTk").directive("ionwebSplitPane",["$document",function(a){return new d(a)}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var filesaver;!function(a){if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var b=window,c=b.document,d=function(){return b.URL||b.webkitURL||b},e=c.createElementNS("http://www.w3.org/1999/xhtml","a"),f="download"in e,g=function(a){var b=new MouseEvent("click");a.dispatchEvent(b)},h=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),i=b.webkitRequestFileSystem,j=b.requestFileSystem||i||b.mozRequestFileSystem,k=function(a){(b.setImmediate||b.setTimeout)(function(){throw a},0)},l="application/octet-stream",m=0,n=500,o=function(a){var c=function(){"string"==typeof a?d().revokeObjectURL(a):a.remove()};b.chrome?c():setTimeout(c,n)},p=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(a){k(a)}}},q=function(a){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\ufeff",a],{type:a.type}):a},r=function(a,c,k){k||(a=q(a));var n,r,s,t=this,u=a.type,v=!1,w=function(){p(t,"writestart progress write writeend".split(" "))},x=function(){if(r&&h&&"undefined"!=typeof FileReader){var c=new FileReader;return c.onloadend=function(){var a=c.result;r.location.href="data:attachment/file"+a.slice(a.search(/[,;]/)),t.readyState=t.DONE,w()},c.readAsDataURL(a),void(t.readyState=t.INIT)}if(!v&&n||(n=d().createObjectURL(a)),r)r.location.href=n;else{var e=b.open(n,"_blank");void 0==e&&h&&(b.location.href=n)}t.readyState=t.DONE,w(),o(n)},y=function(a){return function(){if(t.readyState!==t.DONE)return a.apply(this,arguments)}},z={create:!0,exclusive:!1};return t.readyState=t.INIT,c||(c="download"),f?(n=d().createObjectURL(a),e.href=n,e.download=c,void setTimeout(function(){g(e),w(),o(n),t.readyState=t.DONE})):(b.chrome&&u&&u!==l&&(s=a.slice||a.webkitSlice,a=s.call(a,0,a.size,l),v=!0),i&&"download"!==c&&(c+=".download"),
(u===l||i)&&(r=b),j?(m+=a.size,void j(b.TEMPORARY,m,y(function(b){b.root.getDirectory("saved",z,y(function(b){var d=function(){b.getFile(c,z,y(function(b){b.createWriter(y(function(c){c.onwriteend=function(a){r.location.href=b.toURL(),t.readyState=t.DONE,p(t,"writeend",a),o(b)},c.onerror=function(){var a=c.error;a.code!==a.ABORT_ERR&&x()},"writestart progress write abort".split(" ").forEach(function(a){c["on"+a]=t["on"+a]}),c.write(a),t.abort=function(){c.abort(),t.readyState=t.DONE},t.readyState=t.WRITING}),x)}),x)};b.getFile(c,{create:!1},y(function(a){a.remove(),d()}),y(function(a){a.code===a.NOT_FOUND_ERR?d():x()}))}),x)}),x)):void x())},s=r.prototype;a.saveAs=function(a,b,c){return new r(a,b,c)},"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&(a.saveAs=function(a,b,c){return c||(a=q(a)),navigator.msSaveOrOpenBlob(a,b||"download")}),s.abort=function(){var a=this;a.readyState=a.DONE,p(a,"abort")},s.readyState=s.INIT=0,s.WRITING=1,s.DONE=2,s.error=s.onwritestart=s.onprogress=s.onwrite=s.onabort=s.onerror=s.onwriteend=null}}(filesaver||(filesaver={}));var ionweb;!function(a){var b=function(){function b(a){this.notification=a}return b.prototype.exportFile=function(b,c,d){if(this.hook)this.hook.exportFile(b,c,d);else try{var e=null;if(d)try{var f=File;e=new f([b],d,{type:c})}catch(a){}e||(e=new Blob([b],{type:c})),filesaver.saveAs(e,d)}catch(b){this.notification.showError(a.toolkit.Strings.Err_FileExpService_ThisBrowser_NotSupport_ExportingFiles)}},b.prototype.installHook=function(a){this.hook=a},b}();a.FileExportService=b,angular.module("ionwebTk").service("ionweb.fileExportService",["ionwebTk.notificationService",function(a){return new b(a)}])}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b;!function(a){a[a.Square=0]="Square",a[a.Rectangle1=1]="Rectangle1",a[a.Rectangle2=2]="Rectangle2"}(b=a.TileType||(a.TileType={}));var c;!function(a){a[a.Error=0]="Error",a[a.Warning=1]="Warning",a[a.Info=2]="Info",a[a.Custom=3]="Custom"}(c=a.TileFeedbackStatus||(a.TileFeedbackStatus={}));var d;!function(a){a[a.Normal=0]="Normal",a[a.Selected=1]="Selected",a[a.Disabled=2]="Disabled"}(d=a.TileState||(a.TileState={}));var e;!function(a){a[a.Left=0]="Left",a[a.Right=1]="Right",a[a.Top=2]="Top",a[a.Bottom=3]="Bottom",a[a.Center=4]="Center"}(e=a.IconPosition||(a.IconPosition={}))}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){function b(){return d.slice()}function c(a){return!!a&&d.indexOf(a)>=0}var d=["blue","blue-medium","blue-light","heavy-blue","bright-blue","blue-background","orange","orange-medium","orange-light","orange-background","bright-orange","red","red-medium","red-light","bright-red","heavy-red","red-background","green","green-medium","green-light","bright-green","heavy-green","green-background","violet","violet-medium","violet-light","violet-background","turquoise","turquoise-medium","turquoise-light","turquoise-background","bright-purple","heavy-purple","light-brown","heavy-brown","light-grey","heavy-grey","light-peach","light-yellow","light-sand","light-stone","bright-jade"];a.SDK_COLOR_PALETTE=["@ion-branding-blue-medium","@ion-branding-orange","@ion-branding-green-medium","@ion-branding-bright-red","@ion-branding-bright-purple","@ion-branding-light-brown","@ion-branding-red-light","@ion-branding-light-grey","@ion-branding-light-sand","@ion-branding-bright-blue"],a.getAllPaletteColor=b,a.isValidIonPaletteColor=c}(ionweb||(ionweb={}));var spectrum;!function(a){function b(b,c,d,e){for(var f=[],g=0;g<b.length;g++){var h=b[g];if(h){var i=a.tinycolor(h),j=i.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";j+=a.tinycolor.equals(c,h)?" sp-thumb-active":"";var k=i.toString(e.preferredFormat||"rgb"),l=X?"background-color:"+i.toRgbString():"filter:"+i.toFilter();f.push('<span title="'+k+'" data-color="'+i.toRgbString()+'" class="'+j+'"><span class="sp-thumb-inner" style="'+l+';" /></span>')}else{var m="sp-clear-display";f.push(T("<div />").append(T('<span data-color="" style="background-color:transparent;" class="'+m+'"></span>').attr("title",e.noColorSelectedText)).html())}}return"<div class='sp-cf "+d+"'>"+f.join("")+"</div>"}function c(){for(var a=0;a<V.length;a++)V[a]&&V[a].hide()}function d(a,b){var c=T.extend({},U,a);return c.callbacks={move:i(c.move,b),change:i(c.change,b),tagChange:i(c.tagChange,b),show:i(c.show,b),hide:i(c.hide,b),beforeShow:i(c.beforeShow,b)},c}function e(e,g){function i(){function a(a){return a.data&&a.data.ignore?(Wa=null,H(T(a.target).closest(".sp-thumb-el").data("color")),K()):(Wa=null,H(T(a.target).closest(".sp-thumb-el").data("color")),K(),pa.hideAfterPaletteSelect?(N(!0),D()):N()),!1}function b(a){var b=T(a.target).closest(".sp-tag-row"),c=b.data("tag-name");return F(c),!1}if(!$){if($=T(Z,Ta).addClass(ta),_=$.find(".sp-picker-container"),aa=$.find(".sp-color"),ba=$.find(".sp-dragger"),ca=$.find(".sp-hue"),da=$.find(".sp-slider"),ea=$.find(".sp-alpha-inner"),fa=$.find(".sp-alpha"),ga=$.find(".sp-alpha-handle"),ha=$.find(".sp-input"),ia=$.find(".sp-palette"),ja=$.find(".sp-tags"),ka=$.find(".sp-initial"),la=$.find(".sp-cancel"),ma=$.find(".sp-clear"),na=$.find(".sp-choose"),oa=$.find(".sp-palette-toggle"),W&&$.find("*:not(input)").attr("unselectable","on"),m(),gb||ma.hide(),qa)Ua.after($).hide();else{var c="parent"===pa.appendTo?Ua.parent():T(pa.appendTo);1!==c.length&&(c=T("body")),c.append($)}o(),$.click(h),ha.change(y),ha.on("paste",function(){setTimeout(y,1)}),ha.keydown(function(a){13==a.keyCode&&y()}),la.text(pa.cancelText),la.on("click.spectrum",function(a){a.stopPropagation(),a.preventDefault(),E(),D()}),ma.attr("title",pa.clearText),ma.on("click.spectrum",function(a){a.stopPropagation(),a.preventDefault(),fb=!0,K(),qa&&N(!0)}),na.text(pa.chooseText),na.on("click.spectrum",function(a){a.stopPropagation(),a.preventDefault(),W&&ha.is(":focus")&&ha.trigger("change"),J()&&(N(!0),D())}),oa.text(pa.showPaletteOnly?pa.togglePaletteMoreText:pa.togglePaletteLessText),oa.on("click.spectrum",function(a){a.stopPropagation(),a.preventDefault(),pa.showPaletteOnly=!pa.showPaletteOnly,pa.showPaletteOnly||qa||$.css("left","-="+(_.outerWidth(!0)+5)),m()}),j(fa,function(a,b,c){Ja=a/Da,fb=!1,c.shiftKey&&(Ja=Math.round(10*Ja)/10),K()},w,x),j(ca,function(a,b){Ga=parseFloat(b/Ba),fb=!1,pa.showAlpha||(Ja=1),K()},w,x),j(aa,function(a,b,c){if(c.shiftKey){if(!Sa){var d=Ha*ya,e=za-Ia*za,f=Math.abs(a-d)>Math.abs(b-e);Sa=f?"x":"y"}}else Sa=null;var g=!Sa||"x"===Sa,h=!Sa||"y"===Sa;g&&(Ha=parseFloat(a/ya)),h&&(Ia=parseFloat((za-b)/za)),fb=!1,pa.showAlpha||(Ja=1),K()},w,x),qa&&A();var d=W?"mousedown.spectrum":"click.spectrum touchstart.spectrum";ia.on(d,".sp-thumb-el",a),ka.on(d,".sp-thumb-el:nth-child(1)",{ignore:!0},a),ja.on(d,".sp-tag-row",b)}}function m(){if(pa.showPaletteOnly&&(pa.showPalette=!0),pa.palette){Ka=pa.palette.slice(0),Ma=T.isArray(Ka[0])?Ka:[Ka],Oa={};for(var b=0;b<Ma.length;b++)for(var c=0;c<Ma[b].length;c++){var d=a.tinycolor(Ma[b][c]).toRgbString();Oa[d]=!0}}pa.tags&&(La=pa.tags.slice(0),Na=La),$&&(oa.text(pa.showPaletteOnly?pa.togglePaletteMoreText:pa.togglePaletteLessText),$.toggleClass("sp-flat",qa),$.toggleClass("sp-input-disabled",!pa.showInput),$.toggleClass("sp-alpha-enabled",pa.showAlpha),$.toggleClass("sp-clear-enabled",gb),$.toggleClass("sp-buttons-disabled",!pa.showButtons),$.toggleClass("sp-palette-buttons-disabled",!pa.togglePaletteOnly),$.toggleClass("sp-palette-disabled",!pa.showPalette),$.toggleClass("sp-tags-disabled",!pa.showTags),$.toggleClass("sp-palette-only",pa.showPaletteOnly),$.toggleClass("sp-initial-disabled",!pa.showInitial),$.addClass(pa.className).addClass(pa.containerClassName),O())}function n(){_a.on("click.spectrum touchstart.spectrum",function(a){Va||z(),a.stopPropagation(),T(a.target).is("input")||a.preventDefault()}),Za&&Ua.after($a).hide(),(Ua.is(":disabled")||pa.disabled===!0)&&S(),o(),m(),bb?(H(bb),L(),db=pa.preferredFormat||a.tinycolor(bb).format,p(bb)):L()}function o(){if(sa&&window.localStorage){try{var a=window.localStorage[sa].split(",#");a.length>1&&(delete window.localStorage[sa],T.each(a,function(a,b){p(b)}))}catch(a){}try{Pa=window.localStorage[sa].split(";")}catch(a){}}}function p(b){if(ra){var c=a.tinycolor(b).toRgbString();if(!Oa[c]&&T.inArray(c,Pa)===-1)for(Pa.push(c);Pa.length>Qa;)Pa.shift();if(sa&&window.localStorage)try{window.localStorage[sa]=Pa.join(";")}catch(a){}}}function q(){var b=[];if(pa.showPalette)for(var c=0;c<Pa.length;c++){var d=a.tinycolor(Pa[c]).toRgbString();Oa[d]||b.push(Pa[c])}return b.reverse().slice(0,pa.maxSelectionSize)}function r(){var a=I(),c=T.map(Ma,function(c,d){return b(c,a,"sp-palette-row sp-palette-row-"+d,pa)});o(),Pa&&c.push(b(q(),a,"sp-palette-row sp-palette-row-selection",pa)),ia.html(c.join(""))}function s(a){for(var b=0;b<Na.length;b++)if(Na[b].name===a)return Na[b];return null}function t(){var a=T.map(Na,function(a,b){return u(a,"sp-tag-row sp-tag-row-"+b,pa)});ja.html(a.join(""))}function u(b,c,d){var e=[],f=c?c.split(" "):[];f.push("sp-cf");var g=[b.cssClass];g.push("sp-thumb-el"),Wa===b&&g.push("sp-thumb-active");var h=T("."+b.cssClass).css("background-color");if(h){var i=a.tinycolor(h);g.push(i.toHsl().l<.5?"sp-thumb-dark":"sp-thumb-light")}var j=["sp-tag-label"];return e.push("<span class='"+g.join(" ")+"' title='"+b.displayName+"'><span class='sp-thumb-inner' /></span>"),e.push("<span class='"+j.join(" ")+"'>"+b.displayName+"</span>"),"<div data-tag-name='"+b.name+"' class='"+f.join(" ")+"'>"+e.join("")+"</div>"}function v(){if(pa.showInitial){var a=cb,c=I();ka.html(b([a,c],c,"sp-palette-row-initial",pa))}}function w(){(za<=0||ya<=0||Ba<=0)&&O(),xa=!0,$.addClass(Ra),Sa=null,Ua.trigger("dragstart.spectrum",[I()])}function x(){xa=!1,$.removeClass(Ra),Ua.trigger("dragstop.spectrum",[I()])}function y(){var b=ha.val();if(null!==b&&""!==b||!gb){var c=a.tinycolor(b);c.isValid()?(H(c),K(),N()):ha.addClass("sp-validation-error")}else H(null),K(),N()}function z(){wa?D():A()}function A(){if(wa)return void O();i();var a=T.Event("beforeShow.spectrum");Ua.trigger(a,[I()]),ua.beforeShow(I())===!1||a.isDefaultPrevented()||(c(),wa=!0,T(Ta).on("keydown.spectrum",B),T(Ta).on("click.spectrum",C),T(window).on("resize.spectrum",va),$a.addClass("sp-active"),$.removeClass("sp-hidden"),L(),O(),cb=I(),v(),ua.show(cb),Ua.trigger("show.spectrum",[cb]))}function B(a){a.keyCode===ionweb.KeyCodes.ESC&&D()}function C(a){2!=a.button&&(xa||(eb?N(!0):E(),D()))}function D(){wa&&!qa&&(wa=!1,T(Ta).off("keydown.spectrum",B),T(Ta).off("click.spectrum",C),T(window).off("resize.spectrum",va),$a.removeClass("sp-active"),$.addClass("sp-hidden"),ua.hide(I()),Ua.trigger("hide.spectrum",[I()]))}function E(){H(cb,!0),N(!0)}function F(b){var c=Wa;if(Wa=s(b)){var d=T("."+Wa.cssClass).css("background-color");if(d){var e=a.tinycolor(d);0===e.getAlpha()?window.setTimeout(function(){var a=T("."+Wa.cssClass).css("background-color");H(a)},1e3):H(d)}else L()}Wa!==c&&ua.tagChange&&ua.tagChange(b)}function G(){return Wa?Wa.name:null}function H(b,c){if(a.tinycolor.equals(b,I()))return void L();var d,e;!b&&gb?fb=!0:(b||(b="transparent"),fb=!1,d=a.tinycolor(b),e=d.toHsv(),Ga=e.h%360/360,Ha=e.s,Ia=e.v,Ja=e.a),L(),d&&d.isValid()&&!c&&(db=pa.preferredFormat||d.getFormat())}function I(b){return b=b||{},gb&&fb?null:a.tinycolor.fromRatio({h:Ga,s:Ha,v:Ia,a:Math.round(1e3*Ja)/1e3},{format:b.format||db})}function J(){return!ha.hasClass("sp-validation-error")}function K(){L(),ua.move(I()),Ua.trigger("move.spectrum",[I()])}function L(){if(ha&&ha.removeClass("sp-validation-error"),$){M();var b=a.tinycolor.fromRatio({h:Ga,s:1,v:1});aa&&aa.css("background-color",b.toHexString())}var c=db;Ja<1&&(0!==Ja||"name"!==c)&&("hex"!==c&&"hex3"!==c&&"hex6"!==c&&"name"!==c||(c="rgb"));var d=I({format:c}),e="";if(ab.removeClass("sp-clear-display"),ab.css("background-color","transparent"),!d&&gb)ab.addClass("sp-clear-display");else{var f=d.toHexString(),g=d.toRgbString();if(X||1===d.alpha?ab.css("background-color",g):(ab.css("background-color","transparent"),ab.css("filter",d.toFilter())),pa.showAlpha&&$){var h=d.toRgb();h.a=0;var i=a.tinycolor(h).toRgbString(),j="linear-gradient(left, "+i+", "+f+")";W?ea.css("filter",a.tinycolor(i).toFilter({gradientType:1},f)):(ea.css("background","-webkit-"+j),ea.css("background","-moz-"+j),ea.css("background","-ms-"+j),ea.css("background","linear-gradient(to right, "+i+", "+f+")"))}e=d.toString(c)}$&&(pa.showInput&&ha.val(e),pa.showPalette&&r(),pa.showTags&&t(),v())}function M(){if($){var a=Ha,b=Ia;if(gb&&fb)ga.hide(),da.hide(),ba.hide();else{ga.show(),da.show(),ba.show();var c=a*ya,d=za-b*za;c=Math.max(-Aa,Math.min(ya-Aa,c-Aa)),d=Math.max(-Aa,Math.min(za-Aa,d-Aa)),ba.css({top:d+"px",left:c+"px"});var e=Ja*Da;ga.css({left:e-Ea/2+"px"});var f=Ga*Ba;da.css({top:f-Fa+"px"})}}}function N(b){var c=I(),d="",e=!a.tinycolor.equals(c,cb);c&&(d=c.toString(db),p(c)),Xa&&Ua.val(d),b&&e&&(ua.change(c),Ua.trigger("change",[c]))}function O(){wa&&(ya=aa.width(),za=aa.height(),Aa=ba.height(),Ca=ca.width(),Ba=ca.height(),Fa=da.height(),Da=fa.width(),Ea=ga.width(),qa||($.css("position","absolute"),pa.offset?$.offset(pa.offset):$.offset(f($,_a))),M(),pa.showPalette&&r(),pa.showTags&&t(),Ua.trigger("reflow.spectrum"))}function P(){Ua.show(),_a.off("click.spectrum touchstart.spectrum"),$&&$.remove(),$a.remove(),V[hb.id]=null}function Q(a,b){return void 0===a?T.extend({},pa):void 0===b?pa[a]:(pa[a]=b,"preferredFormat"===a&&(db=pa.preferredFormat),void m())}function R(){Va=!1,Ua.attr("disabled",!1),_a.removeClass("sp-disabled")}function S(){D(),Va=!0,Ua.attr("disabled",!0),_a.addClass("sp-disabled")}function U(a){pa.offset=a,O()}var $,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa=d(g,e),qa=pa.flat,ra=pa.showSelectionPalette,sa=pa.localStorageKey,ta=pa.theme,ua=pa.callbacks,va=k(O,10),wa=!1,xa=!1,ya=0,za=0,Aa=0,Ba=0,Ca=0,Da=0,Ea=0,Fa=0,Ga=0,Ha=0,Ia=0,Ja=1,Ka=[],La=[],Ma=[],Na=[],Oa={},Pa=pa.selectionPalette.slice(0),Qa=pa.maxSelectionSize,Ra="sp-dragging",Sa=null,Ta=e.ownerDocument,Ua=(Ta.body,T(e)),Va=!1,Wa=null,Xa=Ua.is("input"),Ya=Xa&&"color"===Ua.attr("type")&&l(),Za=Xa&&!qa,$a=Za?T(Y).addClass(ta).addClass(pa.className).addClass(pa.replacerClassName):T([]),_a=Za?$a:Ua,ab=$a.find(".sp-preview-inner"),bb=pa.color||Xa&&Ua.val(),cb=!1,db=pa.preferredFormat,eb=!pa.showButtons||pa.clickoutFiresChange,fb=!bb,gb=pa.allowEmpty&&!Ya;n();var hb={show:A,hide:D,toggle:z,reflow:O,option:Q,enable:R,disable:S,offset:U,set:function(a){H(a),N()},setTag:F,getTag:G,get:I,destroy:P,container:$};return hb.id=V.push(hb)-1,hb}function f(a,b){var c=0,d=a.outerWidth(),e=a.outerHeight(),f=b.outerHeight(),g=a[0].ownerDocument,h=g.documentElement,i=h.clientWidth+T(g).scrollLeft(),j=h.clientHeight+T(g).scrollTop(),k=b.offset(),l=k.left,m=k.top;return m+=f,l-=Math.min(l,l+d>i&&i>d?Math.abs(l+d-i):0),m-=Math.min(m,m+e>j&&j>e?Math.abs(e+f-c):c),{top:m,bottom:k.bottom,left:l,right:k.right,width:k.width,height:k.height}}function g(){}function h(a){a.stopPropagation()}function i(a,b){var c=Array.prototype.slice,d=c.call(arguments,2);return function(){return a.apply(b,d.concat(c.call(arguments)))}}function j(a,b,c,d){function e(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.returnValue=!1}function f(c){if(j){if(W&&i.documentMode<9&&!c.button)return h();var d=c.originalEvent&&c.originalEvent.touches&&c.originalEvent.touches[0],f=d&&d.pageX||c.pageX,g=d&&d.pageY||c.pageY,o=Math.max(0,Math.min(f-k.left,m)),p=Math.max(0,Math.min(g-k.top,l));n&&e(c),b.apply(a,[o,p,c])}}function g(b){var d=b.which?3==b.which:2==b.button;d||j||c.apply(a,arguments)!==!1&&(j=!0,l=T(a).height(),m=T(a).width(),k=T(a).offset(),T(i).on(o),T(i.body).addClass("sp-dragging"),f(b),e(b))}function h(){j&&(T(i).off(o),T(i.body).removeClass("sp-dragging"),setTimeout(function(){d.apply(a,arguments)},0)),j=!1}b=b||function(){},c=c||function(){},d=d||function(){};var i=document,j=!1,k={},l=0,m=0,n="ontouchstart"in window,o={};o.selectstart=e,o.dragstart=e,o["touchmove mousemove"]=f,o["touchend mouseup"]=h,T(a).on("touchstart mousedown",g)}function k(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,a.apply(e,f)};c&&clearTimeout(d),!c&&d||(d=setTimeout(g,b))}}function l(){return T.prototype.spectrum.inputTypeColorSupport()}function m(a){var b={r:0,g:0,b:0},c=1,d=!1,e=!1;return"string"==typeof a&&(a=S(a)),"object"==typeof a&&(a.hasOwnProperty("r")&&a.hasOwnProperty("g")&&a.hasOwnProperty("b")?(b=n(a.r,a.g,a.b),d=!0,e="%"===String(a.r).substr(-1)?"prgb":"rgb"):a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("v")?(a.s=P(a.s),a.v=P(a.v),b=r(a.h,a.s,a.v),d=!0,e="hsv"):a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("l")&&(a.s=P(a.s),a.l=P(a.l),b=p(a.h,a.s,a.l),d=!0,e="hsl"),a.hasOwnProperty("a")&&(c=a.a)),c=I(c),{ok:d,format:a.format||e,r:ea(255,fa(b.r,0)),g:ea(255,fa(b.g,0)),b:ea(255,fa(b.b,0)),a:c}}function n(a,b,c){return{r:255*J(a,255),g:255*J(b,255),b:255*J(c,255)}}function o(a,b,c){a=J(a,255),b=J(b,255),c=J(c,255);var d,e,f=fa(a,b,c),g=ea(a,b,c),h=(f+g)/2;if(f==g)d=e=0;else{var i=f-g;switch(e=h>.5?i/(2-f-g):i/(f+g),f){case a:d=(b-c)/i+(b<c?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,l:h}}function p(a,b,c){function d(a,b,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?a+6*(b-a)*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a}var e,f,g;if(a=J(a,360),b=J(b,100),c=J(c,100),0===b)e=f=g=c;else{var h=c<.5?c*(1+b):c+b-c*b,i=2*c-h;e=d(i,h,a+1/3),f=d(i,h,a),g=d(i,h,a-1/3)}return{r:255*e,g:255*f,b:255*g}}function q(a,b,c){a=J(a,255),b=J(b,255),c=J(c,255);var d,e,f=fa(a,b,c),g=ea(a,b,c),h=f,i=f-g;if(e=0===f?0:i/f,f==g)d=0;else{switch(f){case a:d=(b-c)/i+(b<c?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,v:h}}function r(a,b,c){a=6*J(a,360),b=J(b,100),c=J(c,100);var d=ca.floor(a),e=a-d,f=c*(1-b),g=c*(1-e*b),h=c*(1-(1-e)*b),i=d%6,j=[c,g,f,f,h,c][i],k=[h,c,c,g,f,f][i],l=[f,f,h,c,c,g][i];return{r:255*j,g:255*k,b:255*l}}function s(a,b,c,d){var e=[O(da(a).toString(16)),O(da(b).toString(16)),O(da(c).toString(16))];return d&&e[0].charAt(0)==e[0].charAt(1)&&e[1].charAt(0)==e[1].charAt(1)&&e[2].charAt(0)==e[2].charAt(1)?e[0].charAt(0)+e[1].charAt(0)+e[2].charAt(0):e.join("")}function t(a,b,c,d){var e=[O(Q(d)),O(da(a).toString(16)),O(da(b).toString(16)),O(da(c).toString(16))];return e.join("")}function u(b,c){c=0===c?0:c||10;var d=a.tinycolor(b).toHsl();return d.s-=c/100,d.s=K(d.s),a.tinycolor(d)}function v(b,c){c=0===c?0:c||10;var d=a.tinycolor(b).toHsl();return d.s+=c/100,d.s=K(d.s),a.tinycolor(d)}function w(b){return a.tinycolor(b).desaturate(100)}function x(b,c){c=0===c?0:c||10;var d=a.tinycolor(b).toHsl();return d.l+=c/100,d.l=K(d.l),a.tinycolor(d)}function y(b,c){c=0===c?0:c||10;var d=a.tinycolor(b).toRgb();return d.r=fa(0,ea(255,d.r-da(255*-(c/100)))),d.g=fa(0,ea(255,d.g-da(255*-(c/100)))),d.b=fa(0,ea(255,d.b-da(255*-(c/100)))),a.tinycolor(d)}function z(b,c){c=0===c?0:c||10;var d=a.tinycolor(b).toHsl();return d.l-=c/100,d.l=K(d.l),a.tinycolor(d)}function A(b,c){var d=a.tinycolor(b).toHsl(),e=(da(d.h)+c)%360;return d.h=e<0?360+e:e,a.tinycolor(d)}function B(b){var c=a.tinycolor(b).toHsl();return c.h=(c.h+180)%360,a.tinycolor(c)}function C(b){var c=a.tinycolor(b).toHsl(),d=c.h;return[a.tinycolor(b),a.tinycolor({h:(d+120)%360,s:c.s,l:c.l}),a.tinycolor({h:(d+240)%360,s:c.s,l:c.l})]}function D(b){var c=a.tinycolor(b).toHsl(),d=c.h;return[a.tinycolor(b),a.tinycolor({h:(d+90)%360,s:c.s,l:c.l}),a.tinycolor({h:(d+180)%360,s:c.s,l:c.l}),a.tinycolor({h:(d+270)%360,s:c.s,l:c.l})]}function E(b){var c=a.tinycolor(b).toHsl(),d=c.h;return[a.tinycolor(b),a.tinycolor({h:(d+72)%360,s:c.s,l:c.l}),a.tinycolor({h:(d+216)%360,s:c.s,l:c.l})]}function F(b,c,d){c=c||6,d=d||30;var e=a.tinycolor(b).toHsl(),f=360/d,g=[a.tinycolor(b)];for(e.h=(e.h-(f*c>>1)+720)%360;--c;)e.h=(e.h+f)%360,g.push(a.tinycolor(e));return g}function G(b,c){c=c||6;for(var d=a.tinycolor(b).toHsv(),e=d.h,f=d.s,g=d.v,h=[],i=1/c;c--;)h.push(a.tinycolor({h:e,s:f,v:g})),g=(g+i)%1;return h}function H(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}function I(a){return a=parseFloat(a),(isNaN(a)||a<0||a>1)&&(a=1),a}function J(a,b){M(a)&&(a="100%");var c=N(a);return a=ea(b,fa(0,parseFloat(a))),c&&(a=parseInt(a*b,10)/100),ca.abs(a-b)<1e-6?1:a%b/parseFloat(b)}function K(a){return ea(1,fa(0,a))}function L(a){return parseInt(a,16)}function M(a){return"string"==typeof a&&a.indexOf(".")!=-1&&1===parseFloat(a)}function N(a){return"string"==typeof a&&a.indexOf("%")!=-1}function O(a){return 1==a.length?"0"+a:""+a}function P(a){return a<=1&&(a=100*a+"%"),a}function Q(a){return Math.round(255*parseFloat(a)).toString(16)}function R(a){return L(a)/255}function S(a){a=a.replace(_,"").replace(aa,"").toLowerCase();var b=!1;if(ha[a])a=ha[a],b=!0;else if("transparent"==a)return{r:0,g:0,b:0,a:0,format:"name"};var c;return(c=ja.rgb.exec(a))?{r:c[1],g:c[2],b:c[3]}:(c=ja.rgba.exec(a))?{r:c[1],g:c[2],b:c[3],a:c[4]}:(c=ja.hsl.exec(a))?{h:c[1],s:c[2],l:c[3]}:(c=ja.hsla.exec(a))?{h:c[1],s:c[2],l:c[3],a:c[4]}:(c=ja.hsv.exec(a))?{h:c[1],s:c[2],v:c[3]}:(c=ja.hsva.exec(a))?{h:c[1],s:c[2],v:c[3],a:c[4]}:(c=ja.hex8.exec(a))?{a:R(c[1]),r:L(c[2]),g:L(c[3]),b:L(c[4]),format:b?"name":"hex8"}:(c=ja.hex6.exec(a))?{r:L(c[1]),g:L(c[2]),b:L(c[3]),format:b?"name":"hex"}:!!(c=ja.hex3.exec(a))&&{r:L(c[1]+""+c[1]),g:L(c[2]+""+c[2]),b:L(c[3]+""+c[3]),format:b?"name":"hex"}}var T=angular.element,U={beforeShow:g,move:g,change:g,show:g,hide:g,tagChange:g,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showTags:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],tags:[],selectionPalette:[],disabled:!1,offset:null},V=[],W=!!/msie/i.exec(window.navigator.userAgent),X=function(){function a(a,b){return!!~(""+a).indexOf(b)}var b=document.createElement("div"),c=b.style;return c.cssText="background-color:rgba(0,0,0,.5)",a(c.backgroundColor,"rgba")||a(c.backgroundColor,"hsla")}(),Y=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),Z=function(){var a="";if(W)for(var b=1;b<=6;b++)a+="<div class='sp-"+b+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-tags-container'>","<div class='sp-tags sp-thumb sp-cf'></div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",a,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),$="spectrum.id";T.prototype.spectrum=function(a,b){if("string"==typeof a){var c=this,d=Array.prototype.slice.call(arguments,1);return this.each(function(){var b=V[T(this).data($)];if(b){var e=b[a];if(!e)throw new Error("Spectrum: no such method: '"+a+"'");"get"==a?c=b.get():"getTag"==a?c=b.getTag():"container"==a?c=b.container:"option"==a?c=b.option.apply(b,d):"destroy"==a?(b.destroy(),T(this).removeData($)):e.apply(b,d)}}),c}return this.spectrum("destroy").each(function(){var b=T.extend({},T(this).data(),a),c=e(this,b);T(this).data($,c.id)})},T.prototype.spectrum.load=!0,T.prototype.spectrum.loadOpts={},T.prototype.spectrum.draggable=j,T.prototype.spectrum.defaults=U,T.prototype.spectrum.inputTypeColorSupport=function a(){if("undefined"==typeof a._cachedResult){var b=T("<input type='color'/>")[0];a._cachedResult="color"===b.type&&""!==b.value}return a._cachedResult},T.spectrum={},T.spectrum.localization={},T.spectrum.palettes={},T.prototype.spectrum.processNativeColorInputs=function(){var a=T("input[type=color]");a.length&&!l()&&a.spectrum({preferredFormat:"hex6"})};var _=/^[\s,#]+/,aa=/\s+$/,ba=0,ca=Math,da=ca.round,ea=ca.min,fa=ca.max,ga=ca.random;a.tinycolor=function(b,c){if(b=b?b:"",c=c||{},b instanceof a.tinycolor)return b;if(!(this instanceof a.tinycolor))return new a.tinycolor(b,c);var d=m(b);this._originalInput=b,this._r=d.r,this._g=d.g,this._b=d.b,this._a=d.a,this._roundA=da(1e3*this._a)/1e3,this._format=c.format||d.format,this._gradientType=c.gradientType,this._r<1&&(this._r=da(this._r)),this._g<1&&(this._g=da(this._g)),this._b<1&&(this._b=da(this._b)),this._ok=d.ok,this._tc_id=ba++},a.tinycolor.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var a=this.toRgb();return(299*a.r+587*a.g+114*a.b)/1e3},luma:function(){var a=this._r/255,b=this._g/255,c=this._b/255;return a=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4),b=b<=.03928?b/12.92:Math.pow((b+.055)/1.055,2.4),c=c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4),.2126*a+.7152*b+.0722*c},getContrastColor:function(b,c,d){if(c instanceof a.tinycolor||(c=new a.tinycolor({r:255,g:255,b:255})),b instanceof a.tinycolor||(b=new a.tinycolor({r:0,g:0,b:0})),b.luma()>c.luma()){var e=c;c=b,b=e}return d="undefined"==typeof d?.43:Number(d),this.luma()<d?c:b},setAlpha:function(a){return this._a=I(a),this._roundA=da(1e3*this._a)/1e3,this},toHsv:function(){var a=q(this._r,this._g,this._b);return{h:360*a.h,s:a.s,v:a.v,a:this._a}},toHsvString:function(){var a=q(this._r,this._g,this._b),b=da(360*a.h),c=da(100*a.s),d=da(100*a.v);return 1==this._a?"hsv("+b+", "+c+"%, "+d+"%)":"hsva("+b+", "+c+"%, "+d+"%, "+this._roundA+")"},toHsl:function(){var a=o(this._r,this._g,this._b);return{h:360*a.h,s:a.s,l:a.l,a:this._a}},toHslString:function(){var a=o(this._r,this._g,this._b),b=da(360*a.h),c=da(100*a.s),d=da(100*a.l);return 1==this._a?"hsl("+b+", "+c+"%, "+d+"%)":"hsla("+b+", "+c+"%, "+d+"%, "+this._roundA+")"},toHex:function(a){return s(this._r,this._g,this._b,a)},toHexString:function(a){return"#"+this.toHex(a)},toHex8:function(){return t(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:da(this._r),g:da(this._g),b:da(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+da(this._r)+", "+da(this._g)+", "+da(this._b)+")":"rgba("+da(this._r)+", "+da(this._g)+", "+da(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:da(100*J(this._r,255))+"%",g:da(100*J(this._g,255))+"%",b:da(100*J(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+da(100*J(this._r,255))+"%, "+da(100*J(this._g,255))+"%, "+da(100*J(this._b,255))+"%)":"rgba("+da(100*J(this._r,255))+"%, "+da(100*J(this._g,255))+"%, "+da(100*J(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(ia[s(this._r,this._g,this._b,!0)]||!1)},toFilter:function(b){var c="#"+t(this._r,this._g,this._b,this._a),d=c,e=this._gradientType?"GradientType = 1, ":"";if(b){var f=a.tinycolor(b);d=f.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+e+"startColorstr="+c+",endColorstr="+d+")"},toString:function(a){var b=!!a;a=a||this._format;var c=!1,d=this._a<1&&this._a>=0,e=!b&&d&&("hex"===a||"hex6"===a||"hex3"===a||"name"===a);return e?"name"===a&&0===this._a?this.toName():this.toRgbString():("rgb"===a&&(c=this.toRgbString()),"prgb"===a&&(c=this.toPercentageRgbString()),"hex"!==a&&"hex6"!==a||(c=this.toHexString()),"hex3"===a&&(c=this.toHexString(!0)),"hex8"===a&&(c=this.toHex8String()),"name"===a&&(c=this.toName()),"hsl"===a&&(c=this.toHslString()),"hsv"===a&&(c=this.toHsvString()),c||this.toHexString())},_applyModification:function(a,b){var c=a.apply(null,[this].concat([].slice.call(b)));return this._r=c._r,this._g=c._g,this._b=c._b,this.setAlpha(c._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(z,arguments)},desaturate:function(){return this._applyModification(u,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(A,arguments)},_applyCombination:function(a,b){return a.apply(null,[this].concat([].slice.call(b)))},analogous:function(){return this._applyCombination(F,arguments)},complement:function(){return this._applyCombination(B,arguments)},monochromatic:function(){return this._applyCombination(G,arguments)},splitcomplement:function(){return this._applyCombination(E,arguments)},triad:function(){return this._applyCombination(C,arguments)},tetrad:function(){return this._applyCombination(D,arguments)}},a.tinycolor.fromRatio=function(b,c){if("object"==typeof b){var d={};for(var e in b)b.hasOwnProperty(e)&&("a"===e?d[e]=b[e]:d[e]=P(b[e]));b=d}return a.tinycolor(b,c)},a.tinycolor.equals=function(b,c){return!(!b||!c)&&a.tinycolor(b).toRgbString()==a.tinycolor(c).toRgbString()},a.tinycolor.random=function(){return a.tinycolor.fromRatio({r:ga(),g:ga(),b:ga()})},a.tinycolor.mix=function(b,c,d){d=0===d?0:d||50;var e,f=a.tinycolor(b).toRgb(),g=a.tinycolor(c).toRgb(),h=d/100,i=2*h-1,j=g.a-f.a;e=i*j==-1?i:(i+j)/(1+i*j),e=(e+1)/2;var k=1-e,l={r:g.r*e+f.r*k,g:g.g*e+f.g*k,b:g.b*e+f.b*k,a:g.a*h+f.a*(1-h)};return a.tinycolor(l)},a.tinycolor.readability=function(b,c){var d=a.tinycolor(b),e=a.tinycolor(c),f=d.toRgb(),g=e.toRgb(),h=d.getBrightness(),i=e.getBrightness(),j=Math.max(f.r,g.r)-Math.min(f.r,g.r)+Math.max(f.g,g.g)-Math.min(f.g,g.g)+Math.max(f.b,g.b)-Math.min(f.b,g.b);return{brightness:Math.abs(h-i),color:j}},a.tinycolor.isReadable=function(b,c){var d=a.tinycolor.readability(b,c);return d.brightness>125&&d.color>500},a.tinycolor.mostReadable=function(b,c){for(var d=null,e=0,f=!1,g=0;g<c.length;g++){var h=a.tinycolor.readability(b,c[g]),i=h.brightness>125&&h.color>500,j=3*(h.brightness/125)+h.color/500;(i&&!f||i&&f&&j>e||!i&&!f&&j>e)&&(f=i,e=j,d=a.tinycolor(c[g]))}return d};var ha=a.tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",
fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ia=a.tinycolor.hexNames=H(ha),ja=function(){var a="[-\\+]?\\d+%?",b="[-\\+]?\\d*\\.\\d+%?",c="(?:"+b+")|(?:"+a+")",d="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?",e="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?";return{rgb:new RegExp("rgb"+d),rgba:new RegExp("rgba"+e),hsl:new RegExp("hsl"+d),hsla:new RegExp("hsla"+e),hsv:new RegExp("hsv"+d),hsva:new RegExp("hsva"+e),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();T(function(){T.prototype.spectrum.load&&T.prototype.spectrum.processNativeColorInputs()})}(spectrum||(spectrum={}));var ionweb;!function(a){var b;!function(b){var c=function(){function c(a){this.$scope=a}return c.setColor=function(b,d,e,f,g){b&&e&&(e.removeClass(b),b="");var h=c.DefaultBackgroundClassSuffix;(a.isValidIonPaletteColor(d)||g||"theme-default"===d)&&(h=d);var i=f+h;return e&&e.addClass(i),i},c.updateHighlightAndSelectionColor=function(a,d){if(a&&d!==b.TileState.Disabled){var e=a.css("background-color"),f=new spectrum.tinycolor(e).isDark(),g=new spectrum.tinycolor(e).setAlpha(c.transparencyFactor).darken(c.lightenDarkenColorFactor).toRgbString(),h=new spectrum.tinycolor(e).setAlpha(c.transparencyFactor).lighten(c.lightenDarkenColorFactor).toRgbString(),i=f?h:g,j=f?g:h;a.css("border-color",i),a.find(".ion-tile-selection-feedback-background").css("border-top-color",i),a.find(".ion-tile-selection-feedback-icon").css("color",j)}},c.onStateChanged=function(a,c){a&&(c!==b.TileState.Selected||a.hasClass("ion-tile-selected")?c!==b.TileState.Selected&&a.removeClass("ion-tile-selected"):a.addClass("ion-tile-selected"))},c.prototype.flash=function(){var a=this;this.$scope.flashTile=!0,setTimeout(function(){a.$scope.$evalAsync(function(){return a.$scope.flashTile=!1})},300)},c.BackgoundClassPrefix="ion-tile-background-",c.TextBackgroundClassPrefix="ion-tile-text-background-",c.ForegroundClassPrefix="ion-tile-foreground-",c.DefaultBackgroundClassSuffix="default",c.DefaultTileColor="turquoise",c.SquareTileDefaultSize=100,c.RectangleTileDefaultSize=200,c.DefaultIconSizeWithLabels=26,c.DefaultIconSizeWithOneLabel=46,c.DefaultIconSizeWithoutLabels=70,c.MarginBottom="auto auto 5px",c.MarginTop="5px auto auto",c.MarginLeft="auto auto auto 5px",c.MarginRight="auto 5px auto auto",c.TextMarginTopZero="0 auto auto",c.TextMarginBottomZero="auto auto 0",c.MarginAuto="auto",c.Margin="5x",c.TilePadding=6,c.lightenDarkenColorFactor=30,c.transparencyFactor=.65,c}(),d=function(){function a(a,d,e,f,g,h,i,j){var k=this;this.$compile=a,this.$q=d,this.contextMenuService=e,this.toolkitConfigService=f,this.$templateCache=g,this.$templateRequest=h,this.iconService=i,this.environmentService=j,this.restrict="E",this.scope={primaryTextOptions:"=?",secondaryTextOptions:"=?",tileOptions:"=?",iconOptions:"=?",tileEvents:"=?",customContent:"=?",onBound:"<?"},this.replace=!1,this.templateUrl="toolkit/tile/ionwebTile.tpl.html",this.link=function(a,d,e){var f=new c(a),g=d.children(":first"),h=function(){c.updateHighlightAndSelectionColor(g,a.tileOptions.state)};k.toolkitConfigService.currentThemeChanged.add(h),d.css("display","inline-block"),d.css("min-height","36px"),d.css("min-width","36px"),d.css("outline","none"),e.$observe("tabindex",function(b){a.tabindex=b}),k.contextMenuService.attachElement(d,null,function(c){a.tileOptions.state!=b.TileState.Disabled&&a.tileEvents&&a.tileEvents.onRightClick&&a.tileEvents.onRightClick()});var i=1;k.toolkitConfigService.tile.rounding>=0&&k.toolkitConfigService.tile.rounding<=3&&(i=k.toolkitConfigService.tile.rounding),a.roundingClass="ion-tile-border-radius-option-"+i,a.primaryTextOptions=a.primaryTextOptions||{text:""},a.secondaryTextOptions=a.secondaryTextOptions||{text:""},a.tileOptions=a.tileOptions||{},a.iconOptions=a.iconOptions||{icon:""},a.onBound&&a.onBound(f),"undefined"==typeof a.tileOptions.state&&(a.tileOptions.state=b.TileState.Normal),a.tileOptions.height||(a.tileOptions.height=a.tileOptions.type===b.TileType.Rectangle2?c.RectangleTileDefaultSize+"px":c.SquareTileDefaultSize+"px"),a.tileOptions.width||(a.tileOptions.width=a.tileOptions.type===b.TileType.Rectangle1?c.RectangleTileDefaultSize+"px":c.SquareTileDefaultSize+"px"),"undefined"==typeof a.iconOptions.position&&k.switchDefaultIconPosition(a),k.addCustomContent(a,d),k.updateDisabledState(a,d),k.updateIconPosition(a),a.onLeftClick=function(){a.tileOptions.state!=b.TileState.Disabled&&a.tileEvents&&a.tileEvents.onLeftClick&&a.tileEvents.onLeftClick()},a.$watch("tileOptions.state",function(b,e){b!=e&&(c.onStateChanged(g,b),k.updateDisabledState(a,d))}),a.$watch("customContent",function(b,c){b!=c&&k.addCustomContent(a,d)}),a.$watch("tileOptions.type",function(d,e){if(d!==e){switch(a.tileOptions.type){case b.TileType.Rectangle1:a.tileOptions.height=c.SquareTileDefaultSize+"px",a.tileOptions.width=c.RectangleTileDefaultSize+"px";break;case b.TileType.Rectangle2:a.tileOptions.height=c.RectangleTileDefaultSize+"px",a.tileOptions.width=c.SquareTileDefaultSize+"px";break;default:a.tileOptions.height=c.SquareTileDefaultSize+"px",a.tileOptions.width=c.SquareTileDefaultSize+"px"}k.switchDefaultIconPosition(a),a.updateIconSize()}}),a.$watch("iconOptions.position",function(b,c){b!=c&&(k.updateIconPosition(a),a.updateIconSize())}),a.$watchGroup(["tileOptions.height","tileOptions.width"],function(b,c){d.css("height",a.tileOptions.height),d.css("width",a.tileOptions.width),a.updateIconSize()}),a.$watchGroup(["primaryTextOptions.text","secondaryTextOptions.text"],function(b,c){a.updateIconSize(),a.tileOptions.enableFlashingOnTextChange&&f.flash()}),a.$watch("tileOptions.backgroundColor",function(b,d){if(d!==b){var e=b;e&&e.length||(e=c.DefaultTileColor),a.tileBgColor=c.setColor(a.tileBgColor,e,g,c.BackgoundClassPrefix),c.updateHighlightAndSelectionColor(g,a.tileOptions.state),c.onStateChanged(g,a.tileOptions.state)}});var j=a.tileOptions&&a.tileOptions.backgroundColor;j&&j.length||(j=c.DefaultTileColor),a.tileBgColor=c.setColor(a.tileBgColor,j,g,c.BackgoundClassPrefix),c.updateHighlightAndSelectionColor(g,a.tileOptions.state),c.onStateChanged(g,a.tileOptions.state),a.$watch("primaryTextOptions.backgroundColor",function(b,d){d!==b&&(a.primaryTextBgColor=c.setColor(a.primaryTextBgColor,a.primaryTextOptions.backgroundColor,null,c.TextBackgroundClassPrefix))}),a.primaryTextBgColor=c.setColor(a.primaryTextBgColor,a.primaryTextOptions.backgroundColor,null,c.TextBackgroundClassPrefix),a.$watch("secondaryTextOptions.backgroundColor",function(b,d){d!==b&&(a.secondaryTextBgColor=c.setColor(a.secondaryTextBgColor,a.secondaryTextOptions.backgroundColor,null,c.TextBackgroundClassPrefix))}),a.secondaryTextBgColor=c.setColor(a.secondaryTextBgColor,a.secondaryTextOptions.backgroundColor,null,c.TextBackgroundClassPrefix),a.$watch("primaryTextOptions.foregroundColor",function(b,d){d!==b&&(a.primaryTextFgColor=c.setColor(a.primaryTextFgColor,a.primaryTextOptions.foregroundColor,null,c.ForegroundClassPrefix))}),a.primaryTextFgColor=c.setColor(a.primaryTextFgColor,a.primaryTextOptions.backgroundColor,null,c.ForegroundClassPrefix),a.$watch("secondaryTextOptions.foregroundColor",function(b,d){d!==b&&(a.secondaryTextFgColor=c.setColor(a.secondaryTextFgColor,a.secondaryTextOptions.foregroundColor,null,c.ForegroundClassPrefix))}),a.secondaryTextFgColor=c.setColor(a.secondaryTextFgColor,a.secondaryTextOptions.backgroundColor,null,c.ForegroundClassPrefix),a.$watchGroup(["tileOptions.feedbackStatus","tileOptions.customFeedbackStatusColor"],function(b,c){c!==b&&k.updateFeedbackStatusColor(a)}),k.updateFeedbackStatusColor(a),a.shouldShowIcon=function(){return a.iconOptions&&a.iconOptions.icon&&"undefined"!=typeof k.iconService.getDefaultSet().icons[a.iconOptions.icon]},a.shouldShowPrimaryText=function(){return!!(a.primaryTextOptions&&a.primaryTextOptions.text&&a.primaryTextOptions.text.length)},a.shouldShowSecondaryText=function(){return!!(a.secondaryTextOptions&&a.secondaryTextOptions.text&&a.secondaryTextOptions.text.length)},a.updateIconSize=function(){var e=document.createElement("div");e.style.height=a.tileOptions.height,e.style.width=a.tileOptions.width,e.style.visibility="hidden",e.style.top="0",document.body.appendChild(e);var f=$(e).outerHeight(),g=$(e).outerWidth();e.parentElement.removeChild(e);var h=k.getTileTypeBasedOnDimensions(d,f,g),i=c.DefaultIconSizeWithLabels;switch(h){case b.TileType.Rectangle1:i=c.DefaultIconSizeWithoutLabels,a.iconOptions.position!==b.IconPosition.Left&&a.iconOptions.position!==b.IconPosition.Right&&(i=k.getIconSizeDependingOnTexts(a));break;case b.TileType.Rectangle2:i=c.DefaultIconSizeWithoutLabels,a.iconOptions.position!=b.IconPosition.Left&&a.iconOptions.position!=b.IconPosition.Right||(i=c.DefaultIconSizeWithLabels,a.shouldShowPrimaryText()||a.shouldShowSecondaryText()||(i=c.DefaultIconSizeWithoutLabels));break;default:i=c.DefaultIconSizeWithLabels,a.iconOptions.position==b.IconPosition.Left||a.iconOptions.position==b.IconPosition.Right?a.shouldShowPrimaryText()||a.shouldShowSecondaryText()||(i=c.DefaultIconSizeWithoutLabels):i=k.getIconSizeDependingOnTexts(a)}var j=Math.min(f,g),l=i*(j/c.SquareTileDefaultSize),m=j*(i/100);i=Math.min(m,l),j<c.DefaultIconSizeWithoutLabels&&(i=Math.min(i,Math.min(f-2*c.TilePadding,g-2*c.TilePadding))),a.$evalAsync(function(){a.iconFontSize=i+"px"})},a.textContainerPosition=function(){var d=c.MarginAuto;if(a.shouldShowIcon())switch(a.iconOptions.position){case b.IconPosition.Top:d=c.TextMarginBottomZero;break;case b.IconPosition.Bottom:d=c.TextMarginTopZero}return d},a.primaryTextPositionInCenterIconMode=function(){var d=c.MarginTop;if(a.shouldShowIcon())switch(a.iconOptions.position){case b.IconPosition.Top:d=c.MarginBottom;break;case b.IconPosition.Left:case b.IconPosition.Right:d=a.shouldShowSecondaryText()?c.MarginBottom:c.MarginAuto}else d=c.MarginBottom,a.shouldShowSecondaryText()||(d=c.MarginAuto);return d},a.secondaryTextPositionInCenterIconMode=function(){var d=c.MarginBottom;if(a.shouldShowIcon())switch(a.iconOptions.position){case b.IconPosition.Bottom:d=c.MarginTop;break;case b.IconPosition.Left:case b.IconPosition.Right:d=c.TextMarginTopZero}else d=c.TextMarginTopZero,a.shouldShowPrimaryText()||(d=c.MarginAuto);return d},a.getIconPosition=function(){var e=c.Margin;if(!a.shouldShowPrimaryText()&&!a.shouldShowSecondaryText()){switch(a.iconOptions.position){case b.IconPosition.Left:e=c.MarginLeft;break;case b.IconPosition.Right:e=c.MarginRight;break;case b.IconPosition.Top:e=c.MarginTop;break;case b.IconPosition.Bottom:e=c.MarginBottom}k.getTileTypeBasedOnDimensions(d)==b.TileType.Square&&(e=c.MarginAuto)}return e},a.updateIconSize(),a.$on("$destroy",function(){k.contextMenuService.detachElement(d),k.toolkitConfigService.currentThemeChanged.remove(h)})}}return a.prototype.updateIconPosition=function(a){switch(a.iconOptions.position){case b.IconPosition.Left:a.textOrderClass="ion-tile-text-items-order-2",a.iconOrderClass="ion-tile-icon-items-order-1",a.iconPositionClass="ion-tile-icon-left";break;case b.IconPosition.Right:a.textOrderClass="ion-tile-text-items-order-1",a.iconOrderClass="ion-tile-icon-items-order-2",a.iconPositionClass="ion-tile-icon-right";break;case b.IconPosition.Top:a.textOrderClass="ion-tile-text-items-order-2",a.iconOrderClass="ion-tile-icon-items-order-1",a.iconPositionClass="ion-tile-icon-top";break;case b.IconPosition.Bottom:a.textOrderClass="ion-tile-text-items-order-1",a.iconOrderClass="ion-tile-icon-items-order-2",a.iconPositionClass="ion-tile-icon-bottom";break;case b.IconPosition.Center:a.textOrderClass="ion-tile-text-items-order-1",a.iconOrderClass="ion-tile-icon-items-order-2",a.secondaryTextOrderClass="ion-tile-secondary-text-items-order-3",a.iconPositionClass="ion-tile-icon-center"}},a.prototype.updateDisabledState=function(a,c){a.tileOptions.state==b.TileState.Disabled?c.find("*").attr("disabled","disabled"):c.find("*").removeAttr("disabled"),a.tileOptions.state==b.TileState.Disabled?c.attr("tabindex","-1"):c.attr("tabindex",a.tabindex)},a.prototype.addCustomContent=function(a,b){var c=this;if(a.customContent&&(a.customContent.template||a.customContent.templateUrl)){var d;if(a.customContent.template)d=this.$q.when(a.customContent.template);else if(a.customContent.templateUrl){var e=this.$templateCache.get(a.customContent.templateUrl);d=e?this.$q.when(e):this.$templateRequest(a.customContent.templateUrl)}d.then(function(d){var e=b.find("div.tile-custom-content");e.html(""),e.append(c.$compile(d)(a.customContent.scope?a.customContent.scope:a)),c.updateDisabledState(a,b)})}else b.find("div.tile-custom-content").html("")},a.prototype.switchDefaultIconPosition=function(a){var c=2;a.tileOptions.type==b.TileType.Rectangle1&&(c=0),a.iconOptions&&"undefined"!=typeof a.iconOptions.position&&b.IconPosition[a.iconOptions.position]&&(c=a.iconOptions.position),a.iconOptions.position=c},a.prototype.updateFeedbackStatusColor=function(a){var d="none";switch(a.tileOptions.feedbackStatus){case b.TileFeedbackStatus.Error:d="error";break;case b.TileFeedbackStatus.Warning:d="warning";break;case b.TileFeedbackStatus.Info:d="info";break;case b.TileFeedbackStatus.Custom:d=a.tileOptions.customFeedbackStatusColor}a.feedbackStatusColor=c.setColor(a.feedbackStatusColor,d,null,c.TextBackgroundClassPrefix,!0)},a.prototype.getIconSizeDependingOnTexts=function(a){var b=c.DefaultIconSizeWithLabels;return a.shouldShowPrimaryText()||a.shouldShowSecondaryText()?a.shouldShowPrimaryText()&&a.shouldShowSecondaryText()||(b=c.DefaultIconSizeWithOneLabel):b=c.DefaultIconSizeWithoutLabels,b},a.prototype.getTileTypeBasedOnDimensions=function(a,c,d){if("undefined"==typeof c||"undefined"==typeof d){var e=a.find(".ion-tile");c=e.outerHeight(),d=e.outerWidth()}var f=b.TileType.Square;return d>=2*c?f=b.TileType.Rectangle1:c>=2*d&&(f=b.TileType.Rectangle2),f},a}();angular.module("ionwebTk").directive("ionwebTile",["$compile","$q","ionweb.contextMenuService","ionwebTk.toolkitConfigService","$templateCache","$templateRequest","ionweb.iconService","ionwebTk.environmentService",function(a,b,c,e,f,g,h,i){return new d(a,b,c,e,f,g,h,i)}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b=function(){function a(){}return a.Btn_Done="Done",a.Btn_Close="Close",a.Btn_Accept="Accept",a.Btn_Apply="Apply",a.Btn_New="New",a.Btn_Edit="Edit",a.Btn_Delete="Delete",a.Btn_Clear="Clear",a.Btn_Save="Save",a.Btn_Save_As="Save as",a.Err_dateTimepickerDecorator_Invalid_Hours="Invalid hours",a.Err_dateTimepickerDecorator_Invalid_Minutes="Invalid minutes",a.Err_dateTimepickerDecorator_Invalid_Seconds="Invalid seconds",a.Err_DragAndDrop_DataTransfer_Writable_Denied="DataTransfer writable denied",a.Err_dropDirective_IsNot_Valid_DropEffect=" is not a valid drop effect",a.Err_Unable_To_Parse_Date="Unable to parse '${userInput}'",a.Err_Disabled_Date="Date '${userInput}' is disabled",a.Err_Invalid_Range_selection="Invalid range selected",a.Meridian_AM="AM",a.Meridian_PM="PM",a.Date_PlaceHolder="--/--/----",a.Time_PlaceHolder="00:00",a.Err_FileExpService_ThisBrowser_NotSupport_ExportingFiles="This browser does not support exporting files",a.Text_Caption_Size_Smallest="Smallest",a.Text_Caption_Size_Small="Small",a.Text_Caption_Size_Medium="Medium",a.Text_Caption_Size_Large="Large",a.Text_Caption_Size_Larger="Larger",a.Text_Caption_Size_Largest="Largest",a.Text_Caption_Size_Custom="Custom",a.Text_Caption_Size_Increase_Current="Increase size (current: ${currentSize})",a.Text_Caption_Size_Decrease_Current="Decrease size (current: ${currentSize})",a.Text_Caption_Size_Maximum_Reached="Maximum size reached (${currentSize})",a.Text_Caption_Size_Minimum_Reached="Minimum size reached (${currentSize})",a.Err_NumericUpDownDirective_IsInvalid=" is invalid.",a.Text_Dashboard_Tooltip_Caption_Style="Caption style",a.Text_Caption_Size_Increase="Increase size",a.Text_Caption_Size_Decrease="Decrease size",a.Text_Caption_Background_Color="Background color",a.Text_Caption_Foreground_Color="Foreground color",a.Text_Caption_Wrap_Text="Wrap text",a.Text_Caption_Text_Alignment="Text alignment",a.Err_Icon_Set_Name_Missing="Unable to register icon-set, name not provided, found '${name}'.",a.Err_Invalid_Icon_Set="Invalid icon set details provided, found '${value}'.",a.Err_Duplicate_Icon_Set="Icon-set '${name}' already registered.",a.Err_PopUp_Bad_PopupPosition_ForAnchorPointPositionProvided="Popup position not provided but popup but anchor point says position is provided.",a.Title_Error="Error",a.Title_Warning="Warning",a.Title_Info="Info",a.Title_Message="Message",a.Err_DefineTemplate_Or_TemplateUrl_CreateDialog="Define template, templateUrl or textContent to create a dialog",a.Btn_Ok="Ok",a.Btn_Cancel="Cancel",a.Msg_DoNot_AskAgain="Don't ask again",a.Search="Search",a.No_Item_Selected="No item selected",a}();a.Strings=b}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(b){var c=12,d=function(){function a(){this.templateUrl=function(a,b){return"vertical"===b.layout?"toolkit/styleEditor/styleEditorVertical.tpl.html":"toolkit/styleEditor/styleEditor.tpl.html"},this.restrict="E",this.controller="ionwebStyleEditorController",this.controllerAs="ctrl",this.bindToController=!0,this.scope={bgColor:"=",fgColor:"=",wrap:"=",alignment:"=",size:"=",editBgColor:"=?",editFgColor:"=?",editWrap:"=?",editAlignment:"=?",editSize:"=?",compactMode:"=?",colorPickerOpen:"=?"}}return a}(),e=function(){function d(a){var b=this;d.SIZES||(d.SIZES=Object.keys(d.SIZES_MAP).map(function(a){return parseInt(a)}).sort()),this.fixAlignment(),this.setAlignmentIcon(),a.$watchGroup(["ctrl.bgPickerOpen","ctrl.fgPickerOpen"],function(){b.colorPickerOpen=b.editBgColor&&b.bgPickerOpen||b.editFgColor&&b.fgPickerOpen}),this.isCompacted=this.compactMode}return d.prototype.fixAlignment=function(){Array.isArray(this.editAlignment)&&(0===this.editAlignment.length?this.editAlignment=!1:(this._allowAligmnent=this.editAlignment.map(function(a){return"string"==typeof a?b.BannerTextAlignment[a]:a}),this.checkValidAlignment()))},d.prototype.checkValidAlignment=function(){for(;"number"!=typeof this._allowAligmnent[this.alignment];)this.alignment=this.nextAlignment(this.alignment)},d.prototype.nextAlignment=function(a){switch(a){case b.BannerTextAlignment.Left:return b.BannerTextAlignment.Center;case b.BannerTextAlignment.Center:return b.BannerTextAlignment.Right;case b.BannerTextAlignment.Right:return null;default:return b.BannerTextAlignment.Left}},d.prototype.changeAlignment=function(){this.alignment=this.nextAlignment(this.alignment),this._allowAligmnent&&this.checkValidAlignment(),this.setAlignmentIcon()},d.prototype.setAlignmentIcon=function(){switch(this.alignment){case b.BannerTextAlignment.Left:this.alignmentIcon="glyphicon glyphicon-align-left";break;case b.BannerTextAlignment.Center:this.alignmentIcon="glyphicon glyphicon-align-center";break;case b.BannerTextAlignment.Right:this.alignmentIcon="glyphicon glyphicon-align-right";break;default:this.alignmentIcon="glyphicon glyphicon-align-justify"}},Object.defineProperty(d.prototype,"increaseTitle",{get:function(){return a.stringFormat(this.canIncreaseSize?b.Strings.Text_Caption_Size_Increase_Current:b.Strings.Text_Caption_Size_Maximum_Reached,{currentSize:this.getCurrentSizeLabel()})},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"decreaseTitle",{get:function(){return a.stringFormat(this.canDecreaseSize?b.Strings.Text_Caption_Size_Decrease_Current:b.Strings.Text_Caption_Size_Minimum_Reached,{currentSize:this.getCurrentSizeLabel()})},enumerable:!0,configurable:!0}),d.prototype.getCurrentSizeLabel=function(){return d.SIZES_MAP[this.size||c]||b.Strings.Text_Caption_Size_Custom},Object.defineProperty(d.prototype,"canIncreaseSize",{get:function(){return(this.size||c)<d.SIZES[d.SIZES.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"canDecreaseSize",{get:function(){return(this.size||c)>d.SIZES[0]},enumerable:!0,configurable:!0}),d.prototype.increaseSize=function(){for(var a=d.SIZES,b=0;b<a.length;b++)if(a[b]>(this.size||c)){this.size=a[b];break}},d.prototype.decrementSize=function(){for(var a=d.SIZES,b=a.length-1;b>=0;b--)if(a[b]<(this.size||c)){this.size=a[b];break}},d.prototype.stopEvent=function(a){a.stopPropagation(),a.preventDefault()},d.SIZES=null,d.SIZES_MAP={12:b.Strings.Text_Caption_Size_Smallest,16:b.Strings.Text_Caption_Size_Small,22:b.Strings.Text_Caption_Size_Medium,32:b.Strings.Text_Caption_Size_Large,40:b.Strings.Text_Caption_Size_Larger,48:b.Strings.Text_Caption_Size_Largest},d.$inject=["$scope"],d}();angular.module("ionwebTk").directive("ionwebStyleEditor",[function(){return new d}]).controller("ionwebStyleEditorController",e)}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b=[["#000","#666","#999","#ccc","#eee","#fff"],["rgb(215, 70, 65)","rgb(245, 140, 70)","rgb(150, 200, 105)","rgb(0, 175, 150)","rgb(0, 165, 230)","rgb(110, 110, 175)"],["rgb(255, 200, 110)","rgb(234, 218, 172)","rgb(160, 130, 120)","rgb(175, 175, 180)","rgb(250, 175, 145)","rgb(240, 232, 225)"],["rgb(0, 20, 55)","rgb(0, 40, 30)","rgb(40, 10, 55)","rgb(65, 10, 35)","rgb(35, 40, 50)","rgb(55, 40, 40)"]];angular.module("ionwebTk").directive("ionwebColorPicker",["ionwebTk.toolkitConfigService",function(c){return{link:function(d,e,f){function g(a){return a&&"@"===a.charAt(0)}function h(a){return!a||a.getAlpha&&a.getAlpha()<.01}var i=c.getThemeVariables().sort(),j=c.currentThemeChanged.add(function(){d.$applyAsync(function(){var a=e.spectrum("getTag");a&&e.spectrum("setTag",a)})});d.$on("$destroy",function(){j&&j(),e.spectrum("destroy")});var k=i.map(function(b){return{name:b,displayName:b.substr(1),cssClass:a.getThemeClass(b,"bg")}}),l=function(){e.data("spectrum.id")&&e.spectrum("destroy");var a=b;d.supportTransparent&&(a=a.slice(),a.push(["transparent"])),d.showTags=d.showTags!==!1,e.spectrum({theme:"sp-ion",showInput:!0,allowEmpty:!1,palette:a,showButtons:!1,showPalette:!0,showTags:d.showTags,tags:k,showSelectionPalette:!1,preferredFormat:"rgb",color:d.ngValue,move:function(a){var b;b=d.supportTransparent&&d.transparentIsNull&&h(a)?null:a.toRgbString(),d.$applyAsync(function(){d.ngValue=b,d.valueExt=b})},show:function(a){d.$applyAsync(function(){d.shown=!0})},hide:function(a){d.$applyAsync(function(){d.shown=!1})},tagChange:function(a){d.$applyAsync(function(){return d.valueExt=a})}})};l(),d.$watch("supportTransparent",function(a){l()}),d.$watch("ngValue",function(a,b){a!==b&&e.spectrum("set",a)}),d.$watch("valueExt",function(a,b){if(g(a)){var c=e.spectrum("getTag");c!=a&&e.spectrum("setTag",a)}else e.spectrum("set",a)})},restrict:"A",scope:{supportTransparent:"=?",shown:"=?",transparentIsNull:"=?",ngValue:"=?ngModel",valueExt:"=?",showTags:"=?"}}}])}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b=function(){function a(){this.restrict="E",this.scope=!0,this.controller=c,this.controllerAs="ctrl",this.bindToController=!0,this.transclude=!0,this.template='\n\t\t\t<div class="ionweb-scrollable-indicator left"></div>\n\t\t\t<div class="ionweb-scrollable-content" ng-transclude></div>\n\t\t\t<div class="ionweb-scrollable-indicator right"></div>\n\t\t\t<responsive-content\n\t\t\t\tresponsive-template-resolver="ctrl.checkContentWidth(); null"\n\t\t\t\tresponsive-template-resolver-design-size-driven="false">\n\t\t\t</responsive-content>'}return a}(),c=function(){function a(b,c,d){var e=this;this.$element=b,this.$document=c,this.$scope=d,this.checkContentWidth=function(){var a=e.getMaxScroll();e.maximumScroll!==a&&(e.maximumScroll=e.getMaxScroll(),e.toggleScrollIndicators(e.$content.scrollLeft()))},this.onMouseDown=function(b){e.maximumScroll=e.getMaxScroll(),Math.abs(e.maximumScroll)<=a.TOLLERANCE||(e.initialOffset=e.$content.scrollLeft(),e.initialPosition=e.getMousePosition(b),e.$document.on("mousemove touchmove",e.onMouseMove),e.$document.on("mouseup touchend",e.onMouseUp),e.$document[0].removeEventListener("click",e.onClick,!0),e.$document[0].addEventListener("click",e.onClick,!0))},this.onMouseMove=function(a){e.$element.addClass("grabbing");var b=e.getMousePosition(a);e.setScroll(e.initialOffset+e.initialPosition-b)},this.onMouseUp=function(a){e.$element.hasClass("grabbing")&&(a.stopPropagation(),a.preventDefault(),e.$element.removeClass("grabbing")),e.$document.off("mousemove touchmove",e.onMouseMove),e.$document.off("mouseup touchend",e.onMouseUp),e.$scope.$evalAsync(function(){e.$scope.scrolled=!1,e.$document[0].removeEventListener("click",e.onClick,!0)})},this.onClick=function(a){e.$scope.scrolled&&(e.$scope.scrolled=!1,a.stopPropagation()),e.$document[0].removeEventListener("click",e.onClick,!0)},this.$content=b.find(".ionweb-scrollable-content"),this.$element.on("mousedown touchstart",this.onMouseDown),d.$on("$destroy",function(){e.$element.off("mousedown touchstart",e.onMouseDown),e.observer.disconnect()})}return a.prototype.$onInit=function(){var a=this;this.$scope.$evalAsync(function(){return setTimeout(a.checkContentWidth)}),this.observer=new MutationObserver(this.checkContentWidth),this.observer.observe(this.$content[0],{attributes:!0,childList:!0,subtree:!0})},a.prototype.getMaxScroll=function(){return this.$content[0].scrollWidth-this.$content.outerWidth()},a.prototype.toggleScrollIndicators=function(b){b>a.TOLLERANCE?this.$element.addClass("show-left-indicator"):this.$element.removeClass("show-left-indicator"),b<this.maximumScroll-a.TOLLERANCE?this.$element.addClass("show-right-indicator"):this.$element.removeClass("show-right-indicator")},a.prototype.setScroll=function(a){this.initialOffset!==a&&(this.$scope.scrolled=!0),this.toggleScrollIndicators(a),this.$content.scrollLeft(a),a<0&&(this.initialPosition-=a),a>this.maximumScroll&&(this.initialPosition+=this.maximumScroll-a)},a.prototype.getMousePosition=function(a){var b=a.originalEvent,c=a.clientX||b.touches&&b.touches[0].clientX||0;return c},a.TOLLERANCE=1,a.$inject=["$element","$document","$scope"],a}();angular.module("ionwebTk").directive("ionwebScrollable",function(){return new b})}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var ionweb;!function(a){var b;!function(a){var b;!function(a){a[a.Never=0]="Never",a[a.Always=1]="Always",a[a.OnHover=2]="OnHover"}(b=a.VisibilityType||(a.VisibilityType={}))}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={}));var jqueryUiTouchPunch;!function(a){function b(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if($.support.touch="ontouchend"in document,$.support.touch){var c,d=$.ui.mouse.prototype,e=d._mouseInit,f=d._mouseDestroy;d._touchStart=function(a){var d=this;!c&&d._mouseCapture(a.originalEvent.changedTouches[0])&&(c=!0,d._touchMoved=!1,d._touchInitPos=iosDragDrop.toPoint(a.originalEvent),b(a,"mouseover"),b(a,"mousemove"),b(a,"mousedown"))},d._touchMove=function(a){if(c){if(!this._touchMoved&&this._touchInitPos){var d=iosDragDrop.toPoint(a.originalEvent),e=iosDragDrop.toRadius(a.originalEvent);if(iosDragDrop.dist(d,this._touchInitPos)<e*iosDragDrop.MOVE_THRESHOLD_RADIUSES)return}this._touchMoved=!0,b(a,"mousemove")}},d._touchEnd=function(a){c&&(b(a,"mouseup"),b(a,"mouseout"),this._touchMoved||b(a,"click"),c=!1)},d._mouseInit=function(){var a=this;a.element.bind({touchstart:$.proxy(a,"_touchStart"),touchmove:$.proxy(a,"_touchMove"),touchend:$.proxy(a,"_touchEnd")}),e.call(a)},d._mouseDestroy=function(){var a=this;a.element.unbind({touchstart:$.proxy(a,"_touchStart"),touchmove:$.proxy(a,"_touchMove"),touchend:$.proxy(a,"_touchEnd")}),f.call(a)}}}(jqueryUiTouchPunch||(jqueryUiTouchPunch={}));var ionweb;!function(a){var b;!function(a){a.ZINDEX_POPUP_BASE=1040,a.ZINDEX_ACB_DROPDOWN=1200}(b=a.toolkit||(a.toolkit={}))}(ionweb||(ionweb={})),angular.module("ionwebTk").run(["$templateCache",function(a){"use strict";a.put("toolkit/actionableItem/actionableItem.tpl.html",'<div uid={{uid}} class=actionable-item><div ng-transclude style="flex-grow: 1; overflow: hidden"></div><div><div ng-repeat="a in actions" style="cursor: pointer; margin:3px" ng-click="onAction(a.action); $event.stopPropagation()" class={{a.iconClass}}></div></div></div>'),a.put("toolkit/banner/banner.tpl.html",'<div class=ionbanner-container ng-class=ctrl.containerClasses ng-style=ctrl.containerStyle ng-mouseenter="ctrl.editable = config.editMode" ng-mouseleave="ctrl.editable = false"><div class=ionbanner-content ng-if="ctrl.progressType === \'Linear\' || !config.progress.show"><div class=ionbanner-content-item ng-if=config.header.show ionweb-popup-container ng-mouseenter="ctrl.headerSettings.showIcon = true" ng-mouseleave="ctrl.headerSettings.showIcon = false"><div class="ionbanner-settings ionicon ionicon-settings" ng-if="ctrl.headerSettings.isOpen || (config.editMode && ctrl.headerSettings.showIcon)" ng-class=ctrl.headerSettings.classes ng-click="ctrl.headerSettings.isOpen = !ctrl.headerSettings.isOpen" ionweb-popup-anchor></div><ionweb-banner-text model=model.header config=config.header editable=ctrl.editable></ionweb-banner-text><ionweb-popup visible=ctrl.headerSettings.isOpen automatically-update-position=false automatically-close=!ctrl.headerSettings.isColorPickerOpen anchor-point="\'BottomLeft\'"><ionweb-style-editor layout=vertical color-picker-open=ctrl.headerSettings.isColorPickerOpen edit-bg-color=config.canEditBackgroundColor edit-fg-color=config.header.canEditColor edit-wrap=config.header.canEditWrap edit-alignment=config.header.canEditAlignment edit-size=config.header.canEditSize bg-color=model.backgroundColor fg-color=model.header.color wrap=model.header.wrap alignment=model.header.alignment size=model.header.size></ionweb-style-editor></ionweb-popup></div><div class=ionbanner-content-item ng-if="config.progress.show && config.progressBeforeText" ionweb-popup-container ng-mouseenter="ctrl.progressSettings.showIcon = true" ng-mouseleave="ctrl.progressSettings.showIcon = false"><div class="ionbanner-settings ionicon ionicon-settings" ng-if="ctrl.progressSettings.isOpen || (config.editMode && ctrl.progressSettings.showIcon)" ng-class=ctrl.progressSettings.classes ng-click="ctrl.progressSettings.isOpen = !ctrl.progressSettings.isOpen" ionweb-popup-anchor></div><ionweb-banner-progress config=config.progress model=model.progress></ionweb-banner-progress><ionweb-popup visible=ctrl.progressSettings.isOpen automatically-update-position=false automatically-close=!ctrl.progressSettings.isColorPickerOpen anchor-point="\'BottomLeft\'"><ionweb-style-editor layout=vertical color-picker-open=ctrl.progressSettings.isColorPickerOpen edit-bg-color=config.canEditBackgroundColor edit-fg-color=config.progress.canEditColor edit-wrap=config.progress.canEditWrap edit-alignment=config.progress.canEditAlignment edit-size=config.progress.canEditSize bg-color=model.backgroundColor fg-color=model.progress.color wrap=model.progress.wrap alignment=model.progress.alignment size=model.progress.size></ionweb-style-editor></ionweb-popup></div><div class=ionbanner-multiple-text-container ng-class="{\'ionbanner-single-line\': config.textOnSingleLine}"><div class=ionbanner-content-item ng-if=config.primary.show ionweb-popup-container ng-mouseenter="ctrl.primarySettings.showIcon = true" ng-mouseleave="ctrl.primarySettings.showIcon = false"><div class="ionbanner-settings ionicon ionicon-settings" ng-if="ctrl.primarySettings.isOpen || (config.editMode && ctrl.primarySettings.showIcon)" ng-class="config.textOnSingleLine ? \'left\' : ctrl.primarySettings.classes" ng-click="ctrl.primarySettings.isOpen = !ctrl.primarySettings.isOpen" ionweb-popup-anchor></div><ionweb-banner-text model=model.primary config=config.primary editable=ctrl.editable></ionweb-banner-text><ionweb-popup visible=ctrl.primarySettings.isOpen automatically-update-position=false automatically-close=!ctrl.primarySettings.isColorPickerOpen anchor-point="\'BottomLeft\'"><ionweb-style-editor layout=vertical color-picker-open=ctrl.primarySettings.isColorPickerOpen edit-bg-color=config.canEditBackgroundColor edit-fg-color=config.primary.canEditColor edit-wrap=config.primary.canEditWrap edit-alignment="config.primary.canEditAlignment && !config.textOnSingleLine" edit-size=config.primary.canEditSize bg-color=model.backgroundColor fg-color=model.primary.color wrap=model.primary.wrap alignment=model.primary.alignment size=model.primary.size></ionweb-style-editor></ionweb-popup></div><div class=ionbanner-content-item ng-if=config.secondary.show ionweb-popup-container ng-mouseenter="ctrl.secondarySettings.showIcon = true" ng-mouseleave="ctrl.secondarySettings.showIcon = false"><div class="ionbanner-settings ionicon ionicon-settings" ng-if="ctrl.secondarySettings.isOpen || (config.editMode && ctrl.secondarySettings.showIcon)" ng-class="config.textOnSingleLine ? \'right\' : ctrl.secondarySettings.classes" ng-click="ctrl.secondarySettings.isOpen = !ctrl.secondarySettings.isOpen" ionweb-popup-anchor></div><ionweb-banner-text model=model.secondary config=config.secondary editable=ctrl.editable></ionweb-banner-text><ionweb-popup visible=ctrl.secondarySettings.isOpen automatically-update-position=false automatically-close=!ctrl.secondarySettings.isColorPickerOpen anchor-point="\'BottomLeft\'"><ionweb-style-editor layout=vertical color-picker-open=ctrl.secondarySettings.isColorPickerOpen edit-bg-color=config.canEditBackgroundColor edit-fg-color=config.secondary.canEditColor edit-wrap=config.secondary.canEditWrap edit-alignment="config.secondary.canEditAlignment && !config.textOnSingleLine" edit-size=config.secondary.canEditSize bg-color=model.backgroundColor fg-color=model.secondary.color wrap=model.secondary.wrap alignment=model.secondary.alignment size=model.secondary.size></ionweb-style-editor></ionweb-popup></div></div><div class=ionbanner-content-item ng-if="config.progress.show && !config.progressBeforeText" ionweb-popup-container ng-mouseenter="ctrl.progressSettings.showIcon = true" ng-mouseleave="ctrl.progressSettings.showIcon = false"><div class="ionbanner-settings ionicon ionicon-settings" ng-if="ctrl.progressSettings.isOpen || (config.editMode && ctrl.progressSettings.showIcon)" ng-class=ctrl.progressSettings.classes ng-click="ctrl.progressSettings.isOpen = !ctrl.progressSettings.isOpen" ionweb-popup-anchor></div><ionweb-banner-progress config=config.progress model=model.progress></ionweb-banner-progress><ionweb-popup visible=ctrl.progressSettings.isOpen automatically-update-position=false automatically-close=!ctrl.progressSettings.isColorPickerOpen anchor-point="\'BottomLeft\'"><ionweb-style-editor layout=vertical color-picker-open=ctrl.progressSettings.isColorPickerOpen edit-bg-color=config.canEditBackgroundColor edit-fg-color=config.progress.canEditColor edit-wrap=config.progress.canEditWrap edit-alignment=config.progress.canEditAlignment edit-size=config.progress.canEditSize bg-color=model.backgroundColor fg-color=model.progress.color wrap=model.progress.wrap alignment=model.progress.alignment size=model.progress.size></ionweb-style-editor></ionweb-popup></div></div><div class="ionbanner-content ionbanner-alt-layout" ng-if="ctrl.progressType !== \'Linear\' && config.progress.show" ng-class="{\'ionbanner-alt-layout-arc\': ctrl.progressType === \'Arc\'}"><div class=ionbanner-content-item ng-if="config.header.show && !config.progressBeforeText" ionweb-popup-container ng-mouseenter="ctrl.headerSettings.showIcon = true" ng-mouseleave="ctrl.headerSettings.showIcon = false"><div class="ionbanner-settings ionicon ionicon-settings" ng-if="ctrl.headerSettings.isOpen || (config.editMode && ctrl.headerSettings.showIcon)" ng-class=ctrl.headerSettings.classes ng-click="ctrl.headerSettings.isOpen = !ctrl.headerSettings.isOpen" ionweb-popup-anchor></div><ionweb-banner-text model=model.header config=config.header editable=ctrl.editable></ionweb-banner-text><ionweb-popup visible=ctrl.headerSettings.isOpen automatically-update-position=false automatically-close=!ctrl.headerSettings.isColorPickerOpen anchor-point="\'BottomLeft\'"><ionweb-style-editor layout=vertical color-picker-open=ctrl.headerSettings.isColorPickerOpen edit-bg-color=config.canEditBackgroundColor edit-fg-color=config.header.canEditColor edit-wrap=config.header.canEditWrap edit-alignment=config.header.canEditAlignment edit-size=config.header.canEditSize bg-color=model.backgroundColor fg-color=model.header.color wrap=model.header.wrap alignment=model.header.alignment size=model.header.size></ionweb-style-editor></ionweb-popup></div><div class=ionbanner-progress-alt-wrapper><div class=ionbanner-progress-alt-wrapper-inner><div class=ionbanner-content-item ng-if=config.progress.show ionweb-popup-container ng-mouseenter="ctrl.progressSettings.showIcon = true" ng-mouseleave="ctrl.progressSettings.showIcon = false"><div class="ionbanner-settings ionicon ionicon-settings right" ng-if="ctrl.progressSettings.isOpen || (config.editMode && ctrl.progressSettings.showIcon)" ng-click="ctrl.progressSettings.isOpen = !ctrl.progressSettings.isOpen" ionweb-popup-anchor></div><ionweb-banner-progress config=config.progress model=model.progress></ionweb-banner-progress><ionweb-popup visible=ctrl.progressSettings.isOpen automatically-update-position=false automatically-close=!ctrl.progressSettings.isColorPickerOpen anchor-point="\'BottomLeft\'"><ionweb-style-editor layout=vertical color-picker-open=ctrl.progressSettings.isColorPickerOpen edit-bg-color=config.canEditBackgroundColor edit-fg-color=config.progress.canEditColor edit-wrap=config.progress.canEditWrap edit-alignment=config.progress.canEditAlignment edit-size=config.progress.canEditSize bg-color=model.backgroundColor fg-color=model.progress.color wrap=model.progress.wrap alignment=model.progress.alignment size=model.progress.size></ionweb-style-editor></ionweb-popup></div><div class=ionbanner-progress-alt-wrapper-inner-text><div class=ionbanner-content-item ng-if=config.primary.show ionweb-popup-container ng-mouseenter="ctrl.primarySettings.showIcon = true" ng-mouseleave="ctrl.primarySettings.showIcon = false"><div class="ionbanner-settings ionicon ionicon-settings" ng-if="ctrl.primarySettings.isOpen || (config.editMode && ctrl.primarySettings.showIcon)" ng-class=ctrl.primarySettings.classes ng-click="ctrl.primarySettings.isOpen = !ctrl.primarySettings.isOpen" ionweb-popup-anchor></div><ionweb-banner-text model=model.primary config=config.primary editable=ctrl.editable></ionweb-banner-text><ionweb-popup visible=ctrl.primarySettings.isOpen automatically-update-position=false automatically-close=!ctrl.primarySettings.isColorPickerOpen anchor-point="\'BottomLeft\'"><ionweb-style-editor layout=vertical color-picker-open=ctrl.primarySettings.isColorPickerOpen edit-bg-color=config.canEditBackgroundColor edit-fg-color=config.primary.canEditColor edit-wrap=config.primary.canEditWrap edit-alignment="config.primary.canEditAlignment && !config.textOnSingleLine" edit-size=config.primary.canEditSize bg-color=model.backgroundColor fg-color=model.primary.color wrap=model.primary.wrap alignment=model.primary.alignment size=model.primary.size></ionweb-style-editor></ionweb-popup></div><div class=ionbanner-content-item ng-if="config.secondary.show && ctrl.progressType === \'Round\'" ionweb-popup-container ng-mouseenter="ctrl.secondarySettings.showIcon = true" ng-mouseleave="ctrl.secondarySettings.showIcon = false"><div class="ionbanner-settings ionicon ionicon-settings" ng-if="ctrl.secondarySettings.isOpen || (config.editMode && ctrl.secondarySettings.showIcon)" ng-class=ctrl.secondarySettings.classes ng-click="ctrl.secondarySettings.isOpen = !ctrl.secondarySettings.isOpen" ionweb-popup-anchor></div><ionweb-banner-text model=model.secondary config=config.secondary editable=ctrl.editable></ionweb-banner-text><ionweb-popup visible=ctrl.secondarySettings.isOpen automatically-update-position=false automatically-close=!ctrl.secondarySettings.isColorPickerOpen anchor-point="\'BottomLeft\'"><ionweb-style-editor layout=vertical color-picker-open=ctrl.secondarySettings.isColorPickerOpen edit-bg-color=config.canEditBackgroundColor edit-fg-color=config.secondary.canEditColor edit-wrap=config.secondary.canEditWrap edit-alignment="config.secondary.canEditAlignment && !config.textOnSingleLine" edit-size=config.secondary.canEditSize bg-color=model.backgroundColor fg-color=model.secondary.color wrap=model.secondary.wrap alignment=model.secondary.alignment size=model.secondary.size></ionweb-style-editor></ionweb-popup></div></div></div><div class=ionbanner-content-item ng-if="config.secondary.show && ctrl.progressType === \'Arc\'" ionweb-popup-container ng-mouseenter="ctrl.secondarySettings.showIcon = true" ng-mouseleave="ctrl.secondarySettings.showIcon = false"><div class="ionbanner-settings ionicon ionicon-settings" ng-if="ctrl.secondarySettings.isOpen || (config.editMode && ctrl.secondarySettings.showIcon)" ng-class=ctrl.secondarySettings.classes ng-click="ctrl.secondarySettings.isOpen = !ctrl.secondarySettings.isOpen" ionweb-popup-anchor></div><ionweb-banner-text model=model.secondary config=config.secondary editable=ctrl.editable></ionweb-banner-text><ionweb-popup visible=ctrl.secondarySettings.isOpen automatically-update-position=false automatically-close=!ctrl.secondarySettings.isColorPickerOpen anchor-point="\'BottomLeft\'"><ionweb-style-editor layout=vertical color-picker-open=ctrl.secondarySettings.isColorPickerOpen edit-bg-color=config.canEditBackgroundColor edit-fg-color=config.secondary.canEditColor edit-wrap=config.secondary.canEditWrap edit-alignment="config.secondary.canEditAlignment && !config.textOnSingleLine" edit-size=config.secondary.canEditSize bg-color=model.backgroundColor fg-color=model.secondary.color wrap=model.secondary.wrap alignment=model.secondary.alignment size=model.secondary.size></ionweb-style-editor></ionweb-popup></div></div><div class=ionbanner-header-text-container ng-if="config.header.show && config.progressBeforeText"><div class=ionbanner-content-item ionweb-popup-container ng-mouseenter="ctrl.headerSettings.showIcon = true" ng-mouseleave="ctrl.headerSettings.showIcon = false"><div class="ionbanner-settings ionicon ionicon-settings" ng-if="ctrl.headerSettings.isOpen || (config.editMode && ctrl.headerSettings.showIcon)" ng-class=ctrl.headerSettings.classes ng-click="ctrl.headerSettings.isOpen = !ctrl.headerSettings.isOpen" ionweb-popup-anchor></div><ionweb-banner-text model=model.header config=config.header editable=ctrl.editable></ionweb-banner-text><ionweb-popup visible=ctrl.headerSettings.isOpen automatically-update-position=false automatically-close=!ctrl.headerSettings.isColorPickerOpen anchor-point="\'BottomLeft\'"><ionweb-style-editor layout=vertical color-picker-open=ctrl.headerSettings.isColorPickerOpen edit-bg-color=config.canEditBackgroundColor edit-fg-color=config.header.canEditColor edit-wrap=config.header.canEditWrap edit-alignment=config.header.canEditAlignment edit-size=config.header.canEditSize bg-color=model.backgroundColor fg-color=model.header.color wrap=model.header.wrap alignment=model.header.alignment size=model.header.size></ionweb-style-editor></ionweb-popup></div></div></div></div>'),
a.put("toolkit/banner/bannerProgress.tpl.html","<div class=ionbanner-progress-container ng-class=ctrl.containerClasses><div ng-if=ctrl.isLinear class=ionbanner-linear-progress><div class=ionbanner-linear-progress-track ng-class=ctrl.linearTrackClasses ng-style=ctrl.linearTrackStyle></div><div class=ionbanner-linear-progress-bar ng-class=ctrl.linearBarClasses ng-style=ctrl.linearBarStyle></div></div><div class=ionbanner-round-progress ng-if=!ctrl.isLinear ng-style=\"{'width': ctrl.getProgressActualWidth()}\"><round-progress max=config.maxValue current=config.value color={{model.color}} bgcolor={{model.color}} fg-class={{ctrl.roundBarClass}} bg-class={{ctrl.roundTrackClass}} radius=100 stroke=20 semi=ctrl.isSemi rounded=false clockwise=true responsive=true duration=800 animation=easeOutCubic animation-delay=0></round-progress></div></div>"),a.put("toolkit/banner/bannerText.tpl.html",'<p contenteditable="{{!!editable && !!config.canEditContent}}" spellcheck=false class=ionbanner-text-field ng-class=ctrl.contentClasses ng-style=ctrl.contentStyle ng-model=model.content></p>'),a.put("toolkit/button/button.tpl.html","<ionweb-icon icon={{ctrl.icon}} color={{ctrl.iconColor}} ng-if=\"ctrl.icon && (!ctrl.iconPlacement || ctrl.iconPlacement === 'before')\" class=side-icon></ionweb-icon><span ng-transclude class=center-span></span><ionweb-icon icon={{ctrl.icon}} color={{ctrl.iconColor}} ng-if=\"ctrl.icon && ctrl.iconPlacement === 'after'\" class=side-icon></ionweb-icon>"),a.put("toolkit/collapsiblePane/collapsiblePane.tpl.html",'<div class=ionweb-collapsible-pane ng-class=ctrl.containerClasses><div ng-click="ctrl.isCollapsed = !ctrl.isCollapsed" class=collapsible-pane-heading><ionweb-icon ng-show="ctrl.paneSettings && ctrl.paneSettings.icon && ctrl.paneSettings.visible && !ctrl.isCollapsed" icon={{ctrl.paneSettings.icon}} class=config-option ng-click="ctrl.paneSettings.clickHandler && ctrl.paneSettings.clickHandler($event);$event.stopPropagation()"></ionweb-icon><span ng-show="!ctrl.isCollapsed || (!ctrl.titleTemplate && !ctrl.titleTemplateUrl)" ng-class=ctrl.headingGlyphClasses></span> <span ng-if="!ctrl.titleTemplate && !ctrl.titleTemplateUrl">{{ctrl.title}}</span><ionweb-custom-content class=grid-side-panel-tab-icon-container ng-show="ctrl.isCollapsed && (!!ctrl.titleTemplate || !!ctrl.titleTemplateUrl)" template=ctrl.titleTemplate template-url={{ctrl.titleTemplateUrl}} template-scope=ctrl.titleTemplateScope></ionweb-custom-content></div><div ng-transclude class=collapsible-pane-content></div></div>'),a.put("toolkit/contentBlock/contentBlock.tpl.html","<label class=ion-content-block-caption ng-if=ctrl.caption ng-style=\"ctrl.inline ? {'flex-basis': ctrl.inlineWidth + '%'} : {}\" ng-class=\"{\n           'error': ctrl.validationState === ctrl.validationStates.Error,\n           'warning': ctrl.validationState === ctrl.validationStates.Warning,\n           'success': ctrl.validationState === ctrl.validationStates.Success\n       }\"><span class=ionicon ng-if=\"ctrl.validationIcon && (\n            ctrl.validationState === ctrl.validationStates.Error ||\n            ctrl.validationState === ctrl.validationStates.Warning ||\n            ctrl.validationState === ctrl.validationStates.Success)\" ng-class=\"{\n            'ionicon-error': ctrl.validationState === ctrl.validationStates.Error,\n            'ionicon-warning': ctrl.validationState === ctrl.validationStates.Warning,\n            'ionicon-accept': ctrl.validationState === ctrl.validationStates.Success\n          }\"></span> {{ctrl.caption}}</label><div ng-transclude></div>"),a.put("toolkit/contextmenu/contextMenu.tpl.html",'<ul class="dropdown-menu context-menu"><li ng-repeat="item in items" ng-if="(item.menuType === 1 ? item.isVisible : true)" ng-switch=item.menuType ng-class="{\'menu-item-divider\': item.menuType === 1 && !item.text, \'dropdown-submenu\': (item.menuType === 3 && !!item.subMenu), \'disabled\': item.disabled, \'menu-item-custom\': item.menuType === 2 , \'dropdown-menu-open\' : item.isOpen===true,\n     \'menu-item-text-divider\': item.menuType === 1 && item.text}" ng-mouseleave=clearSubmenuTimeout($event)><a title={{item.tooltip}} ng-switch-when=0 direct-click-dir="item.needDirectEvent && item.directItemClicked" ng-click=item.itemClicked($event) class=menu-item ng-mouseenter="!item.disabled && closeSubmenu($event, item)"><ionweb-icon icon="{{item.icon || \'\'}}" ng-if=item._leaveIconSpace></ionweb-icon><span>{{item.text}}</span></a> <a ng-switch-when=1 ng-mouseenter="!item.disabled && closeSubmenu($event, item)"><span ng-show="item.text && item.text.length>0">{{item.text}}</span></a><div context-menu-custom-item ng-switch-when=2 ng-click=item.itemClicked($event) template={{item.template}} template-url={{item.templateUrl}} template-scope=item.scope ng-mouseenter="!item.disabled && closeSubmenu($event, item)"></div><div context-menu-submenu-item ng-switch-when=3 ng-click=item.itemClicked($event) ng-mouseenter="!item.disabled && showSubmenu($event, item)" item=item></div><a title={{item.tooltip}} ng-switch-when=4 ng-click=item.itemClicked($event) class=menu-item ng-class="{\'checked\': item.checked }" ng-mouseenter="!item.disabled && closeSubmenu($event, item)"><ionweb-icon icon="{{(!item.icon && item.checked) ? \'accept\' : item.icon || \'\'}}"></ionweb-icon><span>{{item.text}}</span></a></li></ul>'),a.put("toolkit/contextmenu/contextMenuSubmenuItem.tpl.html",'<a class=menu-item><div ng-if=isLoading class="pull-right ionweb-spinner-extra-small ionweb-spinner contextmenu-submenu-spinner"></div><ionweb-icon class="pull-right disclosure-icon" icon=disclosure ng-if=!isLoading></ionweb-icon><ionweb-icon icon="{{(item.icon)? item.icon :\'\'}}" ng-if=item._leaveIconSpace></ionweb-icon><span title={{item.tooltip}}>{{item.text}}</span></a>'),a.put("toolkit/datetimepicker/dateTimeSummary.tpl.html",'<div class=ion-datetimepicker-summary ng-click=ctrl.dateClicked($event)><label class="ion-datetimepicker-summary-label ion-datetimepicker-summary-label-header" ng-if="ctrl.headerOptions && ctrl.headerOptions.headerTitle">{{ctrl.headerOptions.headerTitle}}</label><div class=ion-datetimepicker-summary-content><div class=ion-datetimepicker-summary-body ng-click=ctrl.dateClicked($event) ng-class="{\'ion-datetimepicker-summary-body-active\':ctrl.selectedSummary == 1}"><label class="ion-datetimepicker-summary-label ion-datetimepicker-summary-label-date" ng-if="ctrl.mode === 0 || ctrl.mode === 2">{{ctrl.date || (\'Date_PlaceHolder\' | resource)}}</label></div><div class=ion-datetimepicker-summary-body ng-click=ctrl.timeClicked($event) ng-class="{\'ion-datetimepicker-summary-body-active\':ctrl.selectedSummary == 2}"><label class="ion-datetimepicker-summary-label ion-datetimepicker-summary-label-time" ng-if="ctrl.mode === 1 || ctrl.mode === 2">{{ctrl.time || (\'Time_PlaceHolder\' | resource)}}</label></div><div class=ion-datetimepicker-summary-body ng-click=ctrl.tagsClicked($event) ng-class="{\'ion-datetimepicker-summary-body-active\':ctrl.selectedSummary == 3}"><label class="ion-datetimepicker-summary-label ion-datetimepicker-summary-label-tags" ng-if=ctrl.showTags>{{ctrl.tagsHeader}}</label></div></div><ionweb-icon ng-if="ctrl.headerOptions && ctrl.headerOptions.showClearButton" class=clear-button icon=clearCalendar ng-click=ctrl.clearClicked()></ionweb-icon></div>'),a.put("toolkit/datetimepicker/dateTimepickerPopover.tpl.html",'<div class=ion-datetimepicker-popup ng-style="{\'height\': getWindowHeight()}" ng-class="{\'datetime-compact\' : (compact && mode===0 && !isMobileLayout()), \'mobile-layout\': isMobileLayout(), \'fullscreen-popup\': showPopupFullScreen(),\'landscape\': isLandscapeMode}" ng-keydown=keydown($event) tabindex=-1 ng-mousedown=preventFocusOnMouseDown($event)><ionweb-date-time-picker mode=mode ng-model=popupInternalDate is-open=!!isOpen timepicker-options=timepickerOptions datepicker-options=datepickerOptions on-date-time-changed=onDateTimeChanged(date) use-date-time-tags=useDateTimeTags tags-header-text={{tagsHeaderText}} date-time-tags=dateTimeTags number-of-tag-columns=numberOfTagColumns refresh=refresh on-bind=onBindInternal compact=compact hide-tag-panel=hideTagPanel header-options=headerOptions></ionweb-date-time-picker><div class="group ion-datetimepicker-ok-cancel-button-container" ng-class="{\'ion-datetimepicker-ok-cancel-button-container-small\': mode === 1 && (!useDateTimeTags || !tagsHeaderText.length)}" ng-if="!closeOnDateSelection || mode === 1 || isMobileLayout()"><ionweb-button class="ion-datetimepicker-buttons ion-datetimepicker-ok-button" role=primary ng-click=onOkClicked()>{{"Btn_Ok"|resource}}</ionweb-button><ionweb-button class="ion-datetimepicker-buttons ion-datetimepicker-cancel-button" role=secondary ng-click=close();>{{"Btn_Cancel"|resource}}</ionweb-button></div></div>'),a.put("toolkit/datetimepicker/datepickerOverride.tpl.html",'<div id=header role=application ng-show=!!isOpen><div style=width:100% role=grid aria-labelledby={{::uniqueId}}-title aria-activedescendant={{activeDateId}} ng-show={{useMobileLayout}}><div class="ion-datepicker-day-title ion-datepicker-mobile-header"><div class=ion-datepicker-table-header><ionweb-button class=ion-datepicker-title-arrow-buttons ng-click=move(-1) tabindex=-1><span class="glyphicon glyphicon-chevron-left ion-datepicker-navigation-icon"></span></ionweb-button></div><div class=ion-datepicker-table-header ng-class="{\'ion-datepicker-title-button-active\': (datepickerOptions.datepickerMode == \'month\')}"><ionweb-button id={{::uniqueId}}-title aria-live=assertive aria-atomic=true class=ion-datepicker-title-button ng-click="setDatePickerMode(\'month\')" tabindex=-1>{{activeDate | ionCustomDateTimeFormat: formatMonthHeader | uppercase}}</ionweb-button></div><div class=ion-datepicker-table-header ng-class="{\'ion-datepicker-title-button-active\': (datepickerOptions.datepickerMode == \'year\')}"><ionweb-button id={{::uniqueId}}-title aria-live=assertive aria-atomic=true class=ion-datepicker-title-button ng-click="setDatePickerMode(\'year\')" tabindex=-1>{{activeDate | ionCustomDateTimeFormat: formatMonthTitle}}</ionweb-button></div><div class=ion-datepicker-table-header><ionweb-button class=ion-datepicker-title-arrow-buttons ng-click=move(1) tabindex=-1><span class="glyphicon glyphicon-chevron-right ion-datepicker-navigation-icon"></span></ionweb-button></div></div></div></div><div ng-switch=datepickerMode ng-show=!!isOpen class=ion-datepicker><div ng-switch-when=day ionweb-daypicker template-url=toolkit/datetimepicker/daypickerOverride.tpl.html tabindex=0></div><div ng-switch-when=month ionweb-monthpicker template-url=toolkit/datetimepicker/monthpickerOverride.tpl.html tabindex=0></div><div ng-switch-when=year ionweb-yearpicker template-url=toolkit/datetimepicker/yearpickerOverride.tpl.html tabindex=0></div></div>'),a.put("toolkit/datetimepicker/daypickerOverride.tpl.html",'<table style=width:100% role=grid aria-labelledby={{::uniqueId}}-title aria-activedescendant={{activeDateId}}><thead><tr class=ion-datepicker-day-title ng-show=!{{useMobileLayout}}><th class=ion-datepicker-table-header><ionweb-button class="ion-datepicker-title-arrow-buttons pull-left" ng-click=move(-1) tabindex=-1><span class="glyphicon glyphicon-chevron-left ion-datepicker-navigation-icon"></span></ionweb-button></th><th class=ion-datepicker-table-header colspan="{{5 + showWeeks}}"><ionweb-button id={{::uniqueId}}-title aria-live=assertive aria-atomic=true ng-click=toggleMode() tabindex=-1 class=ion-datepicker-title-button>{{activeDate | ionCustomDateTimeFormat: formatDayTitle}}</ionweb-button></th><th class=ion-datepicker-table-header><ionweb-button class="ion-datepicker-title-arrow-buttons pull-right" ng-click=move(1) tabindex=-1><span class="glyphicon glyphicon-chevron-right ion-datepicker-navigation-icon"></span></ionweb-button></th></tr><tr class=ion-datepicker-week-title><th ng-if=showWeeks class="text-center ion-datepicker-table-header"></th><th ng-repeat="label in labels track by label.weekday" class="text-center ion-datepicker-table-header"><label class=ion-datepicker-week-name-display aria-label="{{(label.weekday | datePickerWeekFormat: \'dddd\')}}">{{(label.weekday | datePickerWeekFormat: \'ddd\')}}</label></th></tr></thead><tbody><tr ng-repeat="row in rows track by $index"><td ng-if=showWeeks><button disabled=disabled class=ion-datepicker-weeks>{{ weekNumbers[$index] }}</button></td><td ng-repeat="dt in row track by dt.date" class=text-center role=gridcell id={{::dt.uid}}><button data-toggle=tooltip ng-class=dt.customClass ng-click=select(dt.date) ng-disabled=dt.disabled tabindex=-1 ng-style=dt.customStyle>{{::(dt.date | datePickerDayFormat: formatDay)}}</button></td></tr></tbody></table>'),a.put("toolkit/datetimepicker/ionwebDateTimepicker.tpl.html",'<div ng-class="{\r\n        \'ion-datetimepicker-time-container\': (mode === 1 && !useDateTimeTags),\r\n        \'ion-datetimepicker-container\': !(mode === 1 && !useDateTimeTags),\r\n        \'datetime-compact\': (compact && mode === 0)\r\n    }"><div ng-class="(mode === 1 && useDateTimeTags) ? \'ion-datetimepicker-time-only-picker-container\' : \'ion-datetimepicker-picker-container\'"><div class=ion-datetimepicker-header-toolbar-container ng-if=headerOptions><label class=ion-datetimepicker-date-title>{{headerOptions.headerTitle}}</label><ionweb-button ng-if=headerOptions.showClearButton role=secondary icon=clear icon-placement=after ng-click=clearDate()>{{"Btn_Clear"|resource}}</ionweb-button></div><div class=ion-datetimepicker-header ng-show="mode === 2 || mode === 1"><label ng-if="mode === 0 || mode === 2" class=ion-datetimepicker-date-info><span style="margin-right: 10px; font-size: 16px" class="ionicon ionicon-calendar ionicon-default-color"></span>{{formattedDate()}}</label><div ng-style="{\'float\': (mode !== 1 && \'right\')}" ng-class="{\r\n                    \'text-center ion-datetimepicker-time-picker-fixed-width\': mode === 1,\r\n                    \'ion-datetimepicker-time-picker-auto-width\': mode !== 1,\r\n                    \'ion-datetimepicker-time-picker-full-width\': (mode === 1 && useDateTimeTags)\r\n                }"><span ng-if="mode === 2" class="glyphicon glyphicon-time ion-datetimepicker-icons ionicon-default-color" ng-style="{\'float\': (mode !== 1 && \'left\')}"></span><div class=timepicker-holder ng-style="{\'float\': (mode !== 1 && \'right\')}" ng-show="mode === 1 || mode === 2"></div></div></div><div ng-show="mode === 0 || mode === 2" class="ion-datetimepicker-date-container datepicker-holder"></div></div><div ng-if="useDateTimeTags && !hideTagPanel && isOpen" class=ion-datetimepicker-tag-container-wrapper ng-class="\'tags-panel-layout-columns-\' + numberOfTagColumns"><div class=ion-datetimepicker-tag-container><div ng-if="tagsHeaderText && tagsHeaderText.length" class=ion-datetimepicker-tags-header-container><label class=ion-datetimepicker-tags-header>{{tagsHeaderText}}</label></div><div class=ion-datetimepicker-tag-button-container><div ng-repeat="tag in tagsForTagsPanel track by tag.name" class=ion-datetimepicker-tag-button ng-class="\'col-span-\' + (tag.colSpan || 1)"><ionweb-button class=ion-datepicker-tag-border ng-style=styleForTag(tag) ng-class=classForTag(tag) ng-disabled=isTagDisabled(tag) ng-click=onTagChanged(tag) role=secondry title="{{tag.tooltip || tag.name}}">{{tag.name}}</ionweb-button></div></div></div></div></div>'),a.put("toolkit/datetimepicker/ionwebDateTimepickerMobile.tpl.html",'<div class="ion-datetimepicker-container mobile-layout" ng-class="{\'desktop\': usingMobileLayoutOnDesktop, \'mobile\': !usingMobileLayoutOnDesktop,\'time-picker-only\': mode === 1}"><div class=ion-datetimepicker-summary-container><ionweb-date-time-summary selected-summary=selectedSummary date={{formattedDate()}} time={{formattedTime()}} mode=mode ng-class="{\'active\': selectedSummary != 3}" show-tags=false tags-header={{tagsHeaderText}} header-options=headerOptions on-clear=clearDate()></ionweb-date-time-summary><div ng-if="useDateTimeTags && !hideTagPanel && isOpen && tagsHeaderText && tagsHeaderText.length" class=ion-datetimepicker-tags-header-container ng-class="{\'active\': selectedSummary == 3}" ng-click=onTagsClicked()>{{tagsHeaderText | uppercase}} {{(date && date.name) ? (": " + (date && date.name)) : "" | uppercase }}</div></div><div ng-show="(mode === 0 || mode === 2) && (selectedSummary == 1 || selectedSummary == 0)" class="ion-datetimepicker-date-container datepicker-holder"></div><div class=timepicker-holder ng-show="(mode === 1 || mode === 2) && selectedSummary == 2"></div><div ng-if="useDateTimeTags && !hideTagPanel && isOpen && selectedSummary == 3" class=ion-datetimepicker-tag-container-wrapper ng-class="\'tags-panel-layout-columns-\' + numberOfTagColumns"><div class=ion-datetimepicker-tag-container><div class=ion-datetimepicker-tag-button-container><div ng-repeat="tag in tagsForTagsPanel track by tag.name" class=ion-datetimepicker-tag-button ng-class="\'col-span-\' + (tag.colSpan || 1)"><ionweb-button class=ion-datepicker-tag-border ng-style=styleForTag(tag) ng-class=classForTag(tag) ng-disabled=isTagDisabled(tag) ng-click=onTagChanged(tag) role=secondary title="{{tag.tooltip || tag.name}}">{{tag.name}}</ionweb-button></div></div></div></div></div>'),a.put("toolkit/datetimepicker/monthpickerOverride.tpl.html",'<table style="width: 100%" role=grid aria-labelledby={{::uniqueId}}-title aria-activedescendant={{activeDateId}}><thead><tr class=ion-datepicker-month-title ng-show=!{{useMobileLayout}}><th class=ion-datepicker-table-header><ionweb-button class="ion-datepicker-title-arrow-buttons pull-left" ng-click=move(-1) tabindex=-1><span class="glyphicon glyphicon-chevron-left ion-datepicker-navigation-icon"></span></ionweb-button></th><th class=ion-datepicker-table-header><ionweb-button id={{::uniqueId}}-title aria-live=assertive aria-atomic=true class=ion-datepicker-title-button ng-click=toggleMode() ng-disabled="datepickerMode === maxMode" tabindex=-1>{{activeDate | ionCustomDateTimeFormat: formatMonthTitle}}</ionweb-button></th><th class=ion-datepicker-table-header><ionweb-button class="ion-datepicker-title-arrow-buttons pull-right" ng-click=move(1) tabindex=-1><span class="glyphicon glyphicon-chevron-right ion-datepicker-navigation-icon"></span></ionweb-button></th></tr><tr class=ion-datepicker-title-border ng-show={{useMobileLayout}}></tr><tr ng-show=!{{useMobileLayout}} style="height: 10px"></tr></thead><tbody><tr ng-repeat="row in rows track by $index"><td ng-repeat="dt in row track by dt.date" class=text-center role=gridcell id={{::dt.uid}} aria-disabled={{!!dt.disabled}}><button ng-class=dt.customClass ng-click=select(dt.date) ng-disabled=dt.disabled tabindex=-1>{{::(dt.date | ionCustomDateTimeFormat: formatMonth)}}</button></td></tr></tbody></table>'),a.put("toolkit/datetimepicker/timepickerOverride.tpl.html","<div class=ion-timepicker ng-class=\"{'mobile-layout': useMobileLayout,'is-Desktop': isDesktop}\"><div class=ion-timepicker-column><ionweb-button tabindex=-1 ng-click=incrementHours() class=ion-timepicker-arrow-button-top icon=\"{{!useMobileLayout ? 'triangleUp' : ''}}\" ng-class=\"{'glyphicon glyphicon-chevron-up ion-datepicker-navigation-icon': useMobileLayout}\"></ionweb-button><span class=ion-timepicker-span ng-class=\"{'has-error': invalidHours}\"><input type=text ng-model=hours ng-change=validateHours() ng-blur=updateHours() class=\"text-center ion-timepicker-textbox\" ng-mousewheel=incrementHours() ng-readonly=readonlyInput maxlength=2 ionweb-validation validation-message=hoursValidationMessage validation-state=hoursValidationState ng-blur=blur()></span><ionweb-button tabindex=-1 ng-click=decrementHours() class=ion-timepicker-arrow-button-bottom icon=\"{{!useMobileLayout ? 'triangleDown' : ''}}\" ng-class=\"{'glyphicon glyphicon-chevron-down ion-datepicker-navigation-icon': useMobileLayout}\"></ionweb-button></div><div class=\"ion-timepicker-column ion-timepicker-colon-column\"><label class=ion-timepicker-colon>:</label></div><div class=ion-timepicker-column><ionweb-button tabindex=-1 ng-click=incrementMinutes() class=ion-timepicker-arrow-button-top icon=\"{{!useMobileLayout ? 'triangleUp' : ''}}\" ng-class=\"{'glyphicon glyphicon-chevron-up ion-datepicker-navigation-icon': useMobileLayout}\"></ionweb-button><span class=ion-timepicker-span ng-class=\"{'has-error': invalidMinutes}\"><input type=text ng-model=minutes ng-change=validateMinutes() ng-blur=updateMinutes() class=\"text-center ion-timepicker-textbox\" ng-readonly=readonlyInput maxlength=2 ionweb-validation validation-message=minutesValidationMessage validation-state=minutesValidationState ng-blur=blur()></span><ionweb-button tabindex=-1 ng-click=decrementMinutes() class=ion-timepicker-arrow-button-bottom icon=\"{{!useMobileLayout ? 'triangleDown' : ''}}\" ng-class=\"{'glyphicon glyphicon-chevron-down ion-datepicker-navigation-icon': useMobileLayout}\"></ionweb-button></div><div ng-show=showSeconds class=ion-timepicker-seconds><div class=\"ion-timepicker-column ion-timepicker-colon-column\"><label class=ion-timepicker-colon>:</label></div><div class=ion-timepicker-column><ionweb-button tabindex=-1 ng-click=incrementSeconds() class=ion-timepicker-arrow-button-top icon=\"{{!useMobileLayout ? 'triangleUp' : ''}}\" ng-class=\"{'glyphicon glyphicon-chevron-up ion-datepicker-navigation-icon': useMobileLayout}\"></ionweb-button><span class=ion-timepicker-span ng-class=\"{'has-error': invalidSeconds}\"><input type=text ng-model=seconds ng-change=validateSeconds() ng-blur=updateSeconds() class=\"text-center ion-timepicker-textbox\" ng-readonly=readonlyInput maxlength=2 ionweb-validation validation-message=secondsValidationMessage validation-state=secondsValidationState ng-blur=blur()></span><ionweb-button tabindex=-1 ng-click=decrementSeconds() class=ion-timepicker-arrow-button-bottom icon=\"{{!useMobileLayout ? 'triangleDown' : ''}}\" ng-class=\"{'glyphicon glyphicon-chevron-down ion-datepicker-navigation-icon': useMobileLayout}\"></ionweb-button></div></div><div class=\"ion-timepicker-column ion-timepicker-meridian-column\" ng-if=showMeridian><ionweb-button class=\"text-center ion-timepicker-meridian\" ng-click=toggleMeridian()>{{('Meridian_' + meridian) | resource}}</ionweb-button></div></div>"),a.put("toolkit/datetimepicker/yearpickerOverride.tpl.html",'<table style="width: 100%" role=grid aria-labelledby={{::uniqueId}}-title aria-activedescendant={{activeDateId}}><thead><tr class=ion-datepicker-year-title ng-show=!{{useMobileLayout}}><th class=ion-datepicker-table-header><ionweb-button class="ion-datepicker-title-arrow-buttons pull-left" ng-click=move(-1) tabindex=-1><span class="glyphicon glyphicon-chevron-left ion-datepicker-navigation-icon"></span></ionweb-button></th><th colspan=3 class=ion-datepicker-table-header><ionweb-button id={{::uniqueId}}-title aria-live=assertive aria-atomic=true class=ion-datepicker-title-button ng-click=toggleMode() ng-disabled="datepickerMode === maxMode" tabindex=-1>{{title.split("-")[0] | datePickerYearFormat: formatYear}} - {{title.split("-")[1] | datePickerYearFormat: formatYear}}</ionweb-button></th><th class=ion-datepicker-table-header><ionweb-button class="ion-datepicker-title-arrow-buttons pull-right" ng-click=move(1) tabindex=-1><span class="glyphicon glyphicon-chevron-right ion-datepicker-navigation-icon"></span></ionweb-button></th></tr><tr class=ion-datepicker-title-border ng-show={{useMobileLayout}}></tr><tr ng-show={{useMobileLayout}}><th colspan=6 class=ion-datepicker-table-header><ionweb-button id={{::uniqueId}}-title aria-live=assertive aria-atomic=true class=ion-datepicker-title-button ng-click=toggleMode() ng-disabled="datepickerMode === maxMode" tabindex=-1>{{title.split("-")[0] | datePickerYearFormat: formatYear}} - {{title.split("-")[1] | datePickerYearFormat: formatYear}}</ionweb-button></th></tr><tr ng-show=!{{useMobileLayout}} style="height: 10px"></tr></thead><tbody><tr ng-repeat="row in rows track by $index"><td ng-repeat="dt in row track by dt.date" class=text-center role=gridcell id={{::dt.uid}} aria-disabled={{!!dt.disabled}}><button ng-class=dt.customClass ng-click=select(dt.date) ng-disabled=dt.disabled tabindex=-1>{{::(dt.date | ionCustomDateTimeFormat: formatYear)}}</button></td></tr></tbody></table>'),a.put("toolkit/datetimerangepicker/dateTimeRangepickerPopover.tpl.html",'<div class=ion-datetime-rangepicker-popup-wrapper ng-style="{\'height\': getWindowHeight()}" ng-class="{\'mobile-layout\': isMobileLayout(), \'fullscreen-popup\': showPopupFullScreen(),\'landscape\': isLandscapeMode}"><div class=ion-datetime-rangepicker-popup ng-class="{\'datetime-compact\' : (compact && mode==0 && !isMobileLayout())}" ng-keydown=keydown($event) tabindex=-1><ionweb-date-time-range-picker is-open=isOpen ng-model=popupInternalRange mode=mode from-date-time-picker-options=fromDateTimePickerOptions to-date-time-picker-options=toDateTimePickerOptions refresh=refresh on-bind=onBindInternal compact=compact date-time-range-tags=dateTimeRangeTags number-of-range-tag-columns=numberOfRangeTagColumns use-range-tags=useRangeTags range-tags-header-text={{rangeTagsHeaderText}} hide-range-tag-panel=hideRangeTagPanel header-options=headerOptions></ionweb-date-time-range-picker><div class="ion-datetimepicker-ok-cancel-button-container group" ng-if="!closeOnDateSelection || mode === 1"><ionweb-button class="ion-datetimepicker-buttons ion-datetimepicker-ok-button" role=primary ng-click=onOkClicked()>{{"Btn_Ok"|resource}}</ionweb-button><ionweb-button class="ion-datetimepicker-buttons ion-datetimepicker-cancel-button" role=secondary ng-click=close();>{{"Btn_Cancel"|resource}}</ionweb-button></div></div></div>'),a.put("toolkit/datetimerangepicker/ionwebDateTimeRangePicker.tpl.html",'<div class=ion-datetime-rangepicker-container ng-class="{\'datetime-compact\' : (compact && mode==0)}"><div ng-if="useRangeTags && !hideRangeTagPanel && isOpen" class=ion-datetimepicker-range-tag-container-wrapper ng-class="\r\n    \'tags-panel-layout-columns-\' + numberOfTagColumns"><div class=ion-datetime-rangepicker-tag-container><div ng-if="rangeTagsHeaderText && rangeTagsHeaderText.length" class=ion-datetimepicker-tags-header-container><label class=ion-datetimepicker-tags-header>{{rangeTagsHeaderText}}</label></div><div class=ion-datetimepicker-tag-button-container><div ng-repeat="tag in rangeTagsForTagsPanel track by tag.name" class=ion-datetimepicker-tag-button ng-class="\'col-span-\' + (tag.colSpan || 1)"><ionweb-button class=ion-datepicker-tag-border ng-style=styleForTag(tag) ng-class=classForTag(tag) ng-disabled=isRangeTagDisabled(tag) ng-click=onRangeTagChanged(tag) role=secondry title="{{tag.tooltip || tag.name}}">{{tag.name}}</ionweb-button></div></div></div></div><ionweb-date-time-picker is-open=isOpen mode=mode ng-model=internalFromDate timepicker-options=fromDateTimePickerOptions.timepickerOptions datepicker-options=fromDateTimePickerOptions.datepickerOptions use-date-time-tags=fromDateTimePickerOptions.useDateTimeTags tags-header-text={{fromDateTimePickerOptions.tagsHeaderText}} date-time-tags=fromDateTimePickerOptions.dateTimeTags number-of-tag-columns=fromDateTimePickerOptions.numberOfTagColumns refresh="fromDatePickerRefresh\r\n        " on-bind=onFromDatePickerBind compact=compact hide-tag-panel=fromDateTimePickerOptions.hideTagPanel header-options="headerOptions.from\r\n        " get-selected-range-date=getSelectedFromDate range-picker-date-style-map=fromDateStyleMap></ionweb-date-time-picker><ionweb-date-time-picker is-open=isOpen class=ion-datetime-rangepicker-divider mode=mode ng-model=internalToDate timepicker-options=toDateTimePickerOptions.timepickerOptions datepicker-options=toDateTimePickerOptions.datepickerOptions use-date-time-tags=toDateTimePickerOptions.useDateTimeTags tags-header-text={{toDateTimePickerOptions.tagsHeaderText}} date-time-tags=toDateTimePickerOptions.dateTimeTags number-of-tag-columns=toDateTimePickerOptions.numberOfTagColumns refresh=toDatePickerRefresh on-bind=onToDatePickerBind compact=compact hide-tag-panel=toDateTimePickerOptions.hideTagPanel header-options=headerOptions.to get-selected-range-date=getSelectedToDate range-picker-date-style-map=toDateStyleMap></ionweb-date-time-picker></div>'),a.put("toolkit/datetimerangepicker/ionwebDateTimeRangePickerMobile.tpl.html",'<div class="ion-datetime-rangepicker-container mobile-layout" ng-class="{\'desktop\': usingMobileLayoutOnDesktop, \'mobile\': !usingMobileLayoutOnDesktop,\'time-picker-only\': mode === 1}"><div class=ion-datetime-rangepicker-summary-container><div class=ion-datetime-rangepicker-summary><ionweb-date-time-summary header-options=headerOptions.from selected-summary=fromSelectedSummary date={{formattedFromDate()}} ng-class="{\'active\': subEditorMode == 0 || subEditorMode == 1}" time={{formattedFromTime()}} mode=mode show-tags="fromDateTimePickerOptions.useDateTimeTags && !fromDateTimePickerOptions.hideTagPanel" tags-header="{{(range && range.fromDate && range.fromDate.name) ? range.fromDate.name : fromDateTimePickerOptions.tagsHeaderText}}" on-clear=clearFromDate() class=ion-datetime-rangepicker-from-summary></ionweb-date-time-summary><ionweb-date-time-summary header-options=headerOptions.to selected-summary=toSelectedSummary date={{formattedToDate()}} ng-class="{\'active\': subEditorMode == 2}" time={{formattedToTime()}} mode=mode show-tags="toDateTimePickerOptions.useDateTimeTags && !toDateTimePickerOptions.hideTagPanel" tags-header="{{(range && range.toDate && range.toDate.name) ? range.toDate.name : toDateTimePickerOptions.tagsHeaderText}}" on-clear=clearToDate()></ionweb-date-time-summary></div><div ng-if="useRangeTags && !hideRangeTagPanel && isOpen && rangeTagsHeaderText && rangeTagsHeaderText.length" class=ion-datetimepicker-tags-header-container ng-class="{\'active\': subEditorMode == 3}" ng-click=onTagsClicked()>{{rangeTagsHeaderText | uppercase}} {{(range && range.name) ? (":" + (range && range.name)) : "" | uppercase }}</div></div><div class=ion-datetime-rangepicker-sub-editor-container><div ng-if="useRangeTags && !hideRangeTagPanel && isOpen" ng-show="subEditorMode == 3" class=ion-datetimepicker-range-tag-container-wrapper ng-class="\r\n                \'tags-panel-layout-columns-\' + numberOfTagColumns"><div class=ion-datetime-rangepicker-tag-container><div class=ion-datetimepicker-tag-button-container><div ng-repeat="tag in rangeTagsForTagsPanel track by tag.name" class=ion-datetimepicker-tag-button ng-class="\'col-span-\' + (tag.colSpan || 1)"><ionweb-button class=ion-datepicker-tag-border ng-style=styleForTag(tag) ng-class=classForTag(tag) ng-disabled=isRangeTagDisabled(tag) ng-click=onRangeTagChanged(tag) role=secondary title="{{tag.tooltip || tag.name}}">{{tag.name}}</ionweb-button></div></div></div></div><ionweb-date-time-picker ng-show="subEditorMode == 0 || subEditorMode == 1" selected-summary=fromSelectedSummary is-open=isOpen mode=mode ng-model=internalFromDate timepicker-options=fromDateTimePickerOptions.timepickerOptions datepicker-options=fromDateTimePickerOptions.datepickerOptions use-date-time-tags=fromDateTimePickerOptions.useDateTimeTags tags-header-text={{fromDateTimePickerOptions.tagsHeaderText}} date-time-tags=fromDateTimePickerOptions.dateTimeTags number-of-tag-columns=fromDateTimePickerOptions.numberOfTagColumns refresh="fromDatePickerRefresh\r\n                    " on-bind=onFromDatePickerBind compact=compact hide-tag-panel=fromDateTimePickerOptions.hideTagPanel header-options="headerOptions.from\r\n                    " get-selected-range-date=getSelectedFromDate range-picker-date-style-map=fromDateStyleMap></ionweb-date-time-picker><ionweb-date-time-picker ng-show="subEditorMode == 2" is-open=isOpen selected-summary=toSelectedSummary class=ion-datetime-rangepicker-divider mode=mode ng-model=internalToDate timepicker-options=toDateTimePickerOptions.timepickerOptions datepicker-options=toDateTimePickerOptions.datepickerOptions use-date-time-tags=toDateTimePickerOptions.useDateTimeTags tags-header-text={{toDateTimePickerOptions.tagsHeaderText}} date-time-tags=toDateTimePickerOptions.dateTimeTags number-of-tag-columns=toDateTimePickerOptions.numberOfTagColumns refresh=toDatePickerRefresh on-bind=onToDatePickerBind compact=compact hide-tag-panel=toDateTimePickerOptions.hideTagPanel header-options=headerOptions.to get-selected-range-date=getSelectedToDate range-picker-date-style-map=toDateStyleMap></ionweb-date-time-picker></div></div>'),
a.put("toolkit/dialogs/customDialogFrame.tpl.html","<div class=modal-content-flex ng-class=\"{'modal-content-no-border': !modeless}\" ng-style=\"!isFullscreen && size === 3 && modeless && {'width': fixedSizeDialogOptions.width, 'height': fixedSizeDialogOptions.height}\"><div ionweb-dialog-content class=modal-dialog-content-flex></div></div>"),a.put("toolkit/dialogs/dialogFrame.tpl.html",'<div ng-controller=ionweb.dialogFrameController class=modal-dialog-frame ng-class="{\'modal-dialog-xs\': isFullscreen}" ng-style="!isFullscreen && size === 3 && modeless && {\'width\': fixedSizeDialogOptions.width, \'height\': fixedSizeDialogOptions.height, \'max-width\': fixedSizeDialogOptions.width, \'max-height\': fixedSizeDialogOptions.height}"><div class="modal-content modal-content-flex" ng-class="{\'modal-content-xs\': isFullscreen, \'modal-content-no-border\': !modeless}"><div class="modal-header dialog-header-{{severity || \'info\'}}" ng-class="{\'draggable\': !isFullscreen && !!draggableDialogOptions.draggable}"><button type=button class="close back-btn" ng-click=$dismiss() ng-if="isFullscreen && !useCrossButtonOnSmallScreen && showCloseButton"><ionweb-icon icon=leftArrow icon-color=bright-blue></ionweb-icon></button><h4 class=modal-title ng-class="{\'draggable\': !!draggableDialogOptions.draggable}">{{title || \'&nbsp;\'}}</h4><div ng-show="captionButtons && !!captionButtons.length" class=caption-button-container ng-class="{\'modal-close-btn-enabled\': !xsScreenSize && showCloseButton}"><button class=caption-button ng-repeat="captionButton in captionButtons" ng-disabled="captionButton.disabled || !captionButton.onClick" ng-click=captionButton.onClick() title={{captionButton.tooltip}}><ionweb-icon icon={{captionButton.icon}} color={{captionButton.iconColor}}></ionweb-icon></button></div><button type=button class="close ionicon ionicon-close close-btn" ng-click=$dismiss() ng-if="(!xsScreenSize || disableFullScreenMode || useCrossButtonOnSmallScreen) && showCloseButton"></button></div><div class="modal-body modal-body-flex" ng-class="{\'allow-flex-shrink\': enableFlexLayout, \'compact-modal-dialog\': enableCustomSpacing}"><div ionweb-dialog-content class=modal-dialog-content-flex></div></div><div ng-show="buttons && buttons.length>0" class=modal-footer><span ng-if=checkboxState style=float:left class=checkbox><label><input type=checkbox ng-model="checkboxState.value">{{checkboxState.text}}</label></span><ionweb-button ng-repeat="button in buttons" icon-placement={{button.iconPlacement}} role={{button.role}} icon={{button.icon}} color={{button.color}} ng-disabled=!(buttonStates[$index].enabled) ng-click=handleButtonClick($index)>{{button.title}}</ionweb-button></div></div></div>'),a.put("toolkit/dialogs/dialogWindow.tpl.html","<div modal-render={{$isRendered}} tabindex=-1 role=dialog class=\"modal in\" uib-modal-animation-class=fade style=\"display: block\" ng-click=close($event) draggable-dialog><div class=modal-dialog ng-class=\"['modal-' + size, {'modal-dialog-xs': isFullscreen}]\" ng-style=\"{'max-width': (!isFullscreen && $parent.size === 3 && fixedSizeDialogOptions.width), 'max-height': (!isFullscreen && $parent.size === 3 && fixedSizeDialogOptions.height) || $parent.maxDialogHeight, 'margin-top': $parent.dialogTopBottomMargin.top, 'margin-bottom': $parent.dialogTopBottomMargin.bottom, 'width': !isFullscreen && $parent.size === 3 && fixedSizeDialogOptions.width, 'height': !isFullscreen && $parent.size === 3 && fixedSizeDialogOptions.height}\"><div uib-modal-transclude class=\"modal-content modal-content-flex\" ng-class=\"{'modal-content-xs': isFullscreen}\"></div></div></div>"),a.put("toolkit/dialogs/standardDialog.tpl.html","<div><p class=selectableText>{{dialogText}}</p></div>"),a.put("toolkit/ionautocomplete/ionwebSelectizePopup.tpl.html",'<div ng-show="templates.length > 0" class=selectize-popup ng-mousedown=popupupMouseDown($event)><div class=selectize-popup-item ng-repeat="template in templates"><div class=selectize-popup-item-template><ionweb-selectize-popup-item-template html=template.template></ionweb-selectize-popup-item-template></div><ionweb-icon ng-mousedown=removePopupItem($event) ng-if=!readonly class=selectize-popup-item-remove icon=clear tabindex=-1 title=Remove></ionweb-icon></div></div>'),a.put("toolkit/ionautocomplete/ionwebSmallScreenACBPopup.tpl.html","<div class=autocomplete-xsscreen-popup><ionweb-button ng-mousedown=doneButtonAction($event) class=autocomplete-xsscreen-popup-done-button icon=leftArrow tabindex=-1 icon-color=bright-blue></ionweb-button></div>"),a.put("toolkit/ionbutton/ionButtonDirective.tpl.html","<button type=button class=ionbtn><ionweb-icon icon={{icon}} color={{iconColor}} ng-if=\"icon && (!iconPlacement || iconPlacement=='before')\" class=side-icon></ionweb-icon><span ng-transclude class=center-span></span><ionweb-icon icon={{icon}} color={{iconColor}} ng-if=\"icon && iconPlacement=='after'\" class=side-icon></ionweb-icon></button>"),a.put("toolkit/iondatetimeentrybox/ionDateTimeEntryBox.tpl.html",'<div class=ionweb-date-time-entry ion-date-time-picker-popup ng-model=date is-open=isOpen mode=mode datepicker-options=datepickerOptions timepicker-options=timepickerOptions disable-focus-on-date-picker=disableFocusOnDatePicker close-on-date-selection=closeOnDateSelection use-date-time-tags=useDateTimeTags tags-header-text={{tagsHeaderText}} date-time-tags=dateTimeTags on-date-time-picker-close=onDateTimePickerClose() number-of-tag-columns=numberOfTagColumns refresh=refresh on-bind=onBind show-popup-on-keydown=!useDateTimeTags compact=compact hide-tag-panel=hideTagPanel popup-anchor-point=popupAnchorPoint header-options=headerOptions><ionweb-autocomplete ng-model=autoCompleteBoxData.formattedDateString ng-disabled=disabled show-clear-button=getClearButtonVisibility() placeholder={{placeholder}} allow-free-text=true multiple=false show-arrow-button=getArrowButtonVisibility() show-user-button=showUserButton user-button-icon="\'calendar\'" user-button-action=showHidePopup($event) options=dropDownTagsProvider on-text-change=textChanged(value) validation-state=getValidationState() validation-message=getValidationMessage() editable=editable disable-cache=true on-focus=acbFocused() on-dropdown-state-changed=acbDropdownStateChanged(autocomplete) tabindex={{tabindex}} sub-content=inlineTagInfo ng-model-options={debounce:100} disable-fullscreen-mode="!dateTimeTags || !dateTimeTags.length"></ionweb-autocomplete></div>'),a.put("toolkit/iondatetimerangeentrybox/ionDateTimeRangeEntryBox.tpl.html",'<div class=ionweb-date-time-entry ionweb-date-time-range-picker-popup ng-model=range is-open=isOpen mode=mode from-date-time-picker-options=fromDateTimePickerOptions to-date-time-picker-options=toDateTimePickerOptions refresh=refresh compact=compact date-time-range-tags=dateTimeRangeTags number-of-range-tag-columns=numberOfRangeTagColumns use-range-tags=useRangeTags on-date-time-picker-close=onDateTimePickerClose() range-tags-header-text={{rangeTagsHeaderText}} hide-range-tag-panel=hideRangeTagPanel show-popup-on-keydown=!useRangeTags header-options=headerOptions><ionweb-autocomplete ng-model=autoCompleteBoxData.formattedDateString ng-disabled=disabled placeholder={{placeholder}} allow-free-text=true multiple=false show-clear-button=getClearButtonVisibility() show-arrow-button=getArrowButtonVisibility() show-user-button=showUserButton user-button-action=showHidePopup() user-button-icon="\'calendar\'" user-button-action=showHidePopup() options=dropDownTagsProvider on-text-change=textChanged(value) on-focus=acbFocused() on-dropdown-state-changed=acbDropdownStateChanged(autocomplete) validation-state=getValidationState() validation-message=getValidationMessage() error-animation=errorAnimation editable=editable disable-cache=true tabindex={{tabindex}} ng-model-options={debounce:100} disable-fullscreen-mode="!dateTimeRangeTags || !dateTimeRangeTags.length"></ionweb-autocomplete></div>'),a.put("toolkit/ionswitch/ionSwitchDirective.tpl.html","<ionweb-button icon={{buttonIcon}} icon-placement={{iconPlacement}} color={{color}} role={{role}} ng-click=toggle() ng-disabled=disabled style={{style}}><span ng-transclude></span> <span>{{buttonText}}</span></ionweb-button>"),a.put("toolkit/numericupdown/downSpinnerButton.tpl.html","<form class=ion-numericupdown-spinner-form><ionweb-button tabindex=-1 role=secondary class=ion-numericupdown-spinner icon-placement=before icon={{downIconName}} ng-mousedown=mouseDownOnDownButton($event) ng-mouseup=mouseup($event) ng-mouseleave=mouseleave($event) ng-disabled=downDisabled></ionweb-button></form>"),a.put("toolkit/numericupdown/numericUpDown.tpl.html",'<table style="height: 100%; width: 100%"><tbody><tr style="padding: 0" ng-style="{\'height\': toolbarHeight}" ng-show=showToolBar><td><form><ionweb-numeric-up-down-toolbar tag=0 style="width: 100%" options=$topToolBar disabled=getToolbarState() unselect-buttons=$bottomToolBar.clearSelection() on-button-click=onToolbarButtonClick font-size=toolbarFontSize selected-button-index=getToolbarSelectedButtonIndex></ionweb-numeric-up-down-toolbar></form></td></tr><tr style=height:100%><td><form><input type=text ng-class="(placeholderAlign ? \'ion-numericupdown-textbox-placeholder-align-\' + placeholderAlign : \'\') + \' \' +\r\n                                      (validationState === 1 ? \'validation-error\':validationState === 2 ? \'validation-warning\':\'\')" class=ion-numericupdown-textbox autocomplete=off tabindex={{tabindex}} ng-disabled=disabled placeholder={{placeholder}} ng-style="{\'font-size\': fontSize}" ng-model=textfieldData.textboxValue ng-change=changeEventHandler() ng-keydown=keyboardEventHandler($event) ng-keypress=onkeypress($event) ng-click=onClickedByMouse($event) ng-focus=textBoxWillBeginEditing() ng-blur=textBoxDidEndEditing() ionweb-validation validation-message=getValidationMessage() validation-state="getValidationState()"></form></td></tr><tr style="padding: 0" ng-style="{\'height\': toolbarHeight}" ng-show=showToolBar><td><form><ionweb-numeric-up-down-toolbar tag=1 style="width: 100%" options=$bottomToolBar disabled=getToolbarState() unselect-buttons=$topToolBar.clearSelection() on-button-click=onToolbarButtonClick font-size=toolbarFontSize selected-button-index=getToolbarSelectedButtonIndex></ionweb-numeric-up-down-toolbar></form></td></tr></tbody></table>'),a.put("toolkit/numericupdown/numericUpDownLeft.tpl.html",'<table><tbody><tr><td ng-style="{width:spinnerSize, height: \'100%\'}" ng-show=showSpinner><table style="width: 100%; height: 100%"><tbody><tr><td style="width: 100%; height: 50%" class=button-no-border><include-unisolate template-path=toolkit/numericupdown/upSpinnerButton.tpl.html></include-unisolate></td></tr><tr><td style="width: 100%; height: 50%"><include-unisolate template-path=toolkit/numericupdown/downSpinnerButton.tpl.html></include-unisolate></td></tr></tbody></table></td><td style="height: 100%"><include-unisolate template-path=toolkit/numericupdown/numericUpDown.tpl.html></include-unisolate></td></tr></tbody></table>'),a.put("toolkit/numericupdown/numericUpDownRight.tpl.html",'<table><tbody><tr><td style="height: 100%"><include-unisolate template-path=toolkit/numericupdown/numericUpDown.tpl.html></include-unisolate></td><td ng-show=showSpinner ng-style="{width:spinnerSize, height: \'100%\'}"><table style="width: 100%; height: 100%"><tbody><tr><td style="width: 100%; height: 50%" class=button-no-border><include-unisolate template-path=toolkit/numericupdown/upSpinnerButton.tpl.html></include-unisolate></td></tr><tr><td style="width: 100%; height: 50%"><include-unisolate template-path=toolkit/numericupdown/downSpinnerButton.tpl.html></include-unisolate></td></tr></tbody></table></td></tr></tbody></table>'),a.put("toolkit/numericupdown/numericUpDownWrapHorizontal.tpl.html",'<table class=wrap-horizontal><tbody><tr><td ng-style="{width:spinnerSize, height: \'100%\'}" ng-show=showSpinner><include-unisolate template-path=toolkit/numericupdown/downSpinnerButton.tpl.html></include-unisolate></td><td style="height: 100%"><include-unisolate template-path=toolkit/numericupdown/numericUpDown.tpl.html></include-unisolate></td><td ng-style="{width:spinnerSize, height: \'100%\'}" ng-show=showSpinner><include-unisolate template-path=toolkit/numericupdown/upSpinnerButton.tpl.html></include-unisolate></td></tr></tbody></table>'),a.put("toolkit/numericupdown/numericUpDownWrapVertical.tpl.html",'<table class=wrap-vertical><tbody><tr ng-show=showSpinner><td ng-style="{height:spinnerSize, width: \'100%\'}" class=button-no-border><include-unisolate template-path=toolkit/numericupdown/upSpinnerButton.tpl.html></include-unisolate></td></tr><tr><td style="height: 100%"><include-unisolate template-path=toolkit/numericupdown/numericUpDown.tpl.html></include-unisolate></td></tr><tr ng-show=showSpinner class=button-no-border><td ng-style="{height:spinnerSize, width: \'100%\'}"><include-unisolate template-path=toolkit/numericupdown/downSpinnerButton.tpl.html></include-unisolate></td></tr></tbody></table>'),a.put("toolkit/numericupdown/upSpinnerButton.tpl.html","<form class=ion-numericupdown-spinner-form><ionweb-button tabindex=-1 role=secondary class=ion-numericupdown-spinner icon={{upIconName}} ng-mousedown=mouseDownOnUpButton($event) ng-mouseup=mouseup($event) ng-mouseleave=mouseleave($event) ng-disabled=upDisabled></ionweb-button></form>"),a.put("toolkit/splitPane/ionwebSplitPane.tpl.html","<div class=ionweb-split-pane-container ng-class=type><div class=ionweb-split-pane-content></div><div class=ionweb-split-pane-splitter ng-show=showSplitter></div><div class=ionweb-split-pane-content ng-show=showSplitter></div></div>"),a.put("toolkit/styleEditor/styleEditor.tpl.html",'<div class=ionweb-style-editor><div ng-if="!ctrl.isCompacted && ctrl.editBgColor" class=ionweb-style-editor-btn title="{{\'Text_Caption_Background_Color\' | resource}}"><input ionweb-color-picker shown=ctrl.bgPickerOpen value-ext=ctrl.bgColor support-transparent=true transparent-is-null=true></div><div ng-if="!ctrl.isCompacted && ctrl.editFgColor" class=ionweb-style-editor-btn title="{{\'Text_Caption_Foreground_Color\' | resource}}"><input ionweb-color-picker shown=ctrl.fgPickerOpen value-ext=ctrl.fgColor support-transparent=true transparent-is-null=true></div><div ng-if="!ctrl.isCompacted && ctrl.editWrap" class=ionweb-style-editor-btn title="{{\'Text_Caption_Wrap_Text\' | resource}}" ng-class="{active: ctrl.wrap}" ng-click="ctrl.wrap = !ctrl.wrap; ctrl.stopEvent($event);"><svg xmlns=http://www.w3.org/2000/svg width=14 height=14 viewbox="0 0 18 18"><path d="M16 3H2v2h14V3zM2 15h4v-2H2v2zm11.5-7H2v2h11.75c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5H11v-2l-3 3 3 3v-2h2.5c1.93 0 3.5-1.57 3.5-3.5S15.43 8 13.5 8z"></svg></div><div ng-if="!ctrl.isCompacted && ctrl.editAlignment" aria-hidden=true class=ionweb-style-editor-btn title="{{\'Text_Caption_Text_Alignment\' | resource}}" ng-class=ctrl.alignmentIcon ng-click="ctrl.changeAlignment(); ctrl.stopEvent($event);"></div><div ng-if="!ctrl.isCompacted && ctrl.editSize" aria-hidden=true class="ionweb-style-editor-btn glyphicon glyphicon-plus" title={{ctrl.increaseTitle}} ng-class="{\'ionbanner-disabled\': !ctrl.canIncreaseSize}" ng-click="ctrl.increaseSize(); ctrl.stopEvent($event);"></div><div ng-if="!ctrl.isCompacted && ctrl.editSize" class="ionweb-style-editor-btn glyphicon glyphicon-minus" title={{ctrl.decreaseTitle}} ng-class="{\'ionbanner-disabled\': !ctrl.canDecreaseSize}" ng-click="ctrl.decrementSize(); ctrl.stopEvent($event);"></div><div ng-if=ctrl.compactMode aria-hidden=true title="{{\'Text_Dashboard_Tooltip_Caption_Style\' | resource}}" class="ionweb-style-editor-btn glyphicon glyphicon-eye-open" ng-click="ctrl.isCompacted = !ctrl.isCompacted; ctrl.stopEvent($event);"></div></div>'),a.put("toolkit/styleEditor/styleEditorVertical.tpl.html",'<div class="ionweb-style-editor-vertical form-horizontal"><div class=form-group ng-if=ctrl.editBgColor><label class="col-xs-8 control-label">{{\'Text_Caption_Background_Color\' | resource}}</label><div class=col-xs-4><input ionweb-color-picker shown=ctrl.bgPickerOpen value-ext=ctrl.bgColor support-transparent=true transparent-is-null=true></div></div><div class=form-group ng-if=ctrl.editFgColor><label class="col-xs-8 control-label">{{\'Text_Caption_Foreground_Color\' | resource}}</label><div class=col-xs-4><input ionweb-color-picker shown=ctrl.fgPickerOpen value-ext=ctrl.fgColor support-transparent=true transparent-is-null=true></div></div><div class=form-group ng-if=ctrl.editWrap><label class="col-xs-8 control-label">{{\'Text_Caption_Wrap_Text\' | resource}}</label><div class=col-xs-4><svg class=ionweb-style-editor-btn ng-class="{active: ctrl.wrap}" ng-click="ctrl.wrap = !ctrl.wrap; ctrl.stopEvent($event);" xmlns=http://www.w3.org/2000/svg width=14 height=14 viewbox="0 0 18 18"><path d="M16 3H2v2h14V3zM2 15h4v-2H2v2zm11.5-7H2v2h11.75c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5H11v-2l-3 3 3 3v-2h2.5c1.93 0 3.5-1.57 3.5-3.5S15.43 8 13.5 8z"></svg></div></div><div class=form-group ng-if=ctrl.editAlignment><label class="col-xs-8 control-label">{{\'Text_Caption_Text_Alignment\' | resource}}</label><div class=col-xs-4><div class=ionweb-style-editor-btn ng-class=ctrl.alignmentIcon ng-click="ctrl.changeAlignment(); ctrl.stopEvent($event);"></div></div></div><div class=form-group ng-if=ctrl.editSize><label class="col-xs-8 control-label">{{\'Text_Caption_Size_Increase\' | resource}}</label><div class=col-xs-4><div class="ionweb-style-editor-btn glyphicon glyphicon-plus" ng-class="{\'ionbanner-disabled\': !ctrl.canIncreaseSize}" ng-click="ctrl.increaseSize(); ctrl.stopEvent($event);"></div></div></div><div class=form-group ng-if=ctrl.editSize><label class="col-xs-8 control-label">{{\'Text_Caption_Size_Decrease\' | resource}}</label><div class=col-xs-4><div class="ionweb-style-editor-btn glyphicon glyphicon-minus" ng-class="{\'ionbanner-disabled\': !ctrl.canDecreaseSize}" ng-click="ctrl.decrementSize(); ctrl.stopEvent($event);"></div></div></div></div>'),a.put("toolkit/swapPanel/swapPanelDirective.tpl.html",'<div class=ionweb-swap-panel-container ng-class="{\'ionweb-swap-panel-vertical-layout\': isVerticalLayout }"><div class=ionweb-swap-panel-available-top-bar><div class=ionweb-swap-panel-mode-button><div class="mode-selector btn-group"><button ng-class="{selected: !isHierarchyViewMode}" ng-click=selectListViewMode()><span class="ionicon ionicon-list-view"></span></button> <button ng-class="{selected: isHierarchyViewMode}" ng-click=selectHierarchyViewMode()><span class="ionicon ionicon-hierarchy"></span></button></div></div><div class=ionweb-swap-panel-search-field><span class="ionweb-swap-panel-search-left-icon ionicon ionicon-search"></span> <input ng-disabled=isHierarchyViewMode type=search ng-model=filterInput placeholder="{{\'Search\' | resource}}" class="ionweb-swap-panel-filter-input ion-input"></div></div><div class=ionweb-swap-panel><ionweb-split-pane min-position=10 max-position=90 type="{{isVerticalLayout ? \'horizontal\' : \'vertical\'}}"><div class=ionweb-swap-panel-left ionweb-droppable drag-enter=onAvailableDragEnter($dataTransfer) drag-leave=onAvailableDragLeave($dataTransfer) drag-over=onAvailableDragOver($dataTransfer) drop=onAvailableDrop($dataTransfer) ng-class="{\'dragging-over-panel\': isDraggingOverAvailable}"><div ng-if=!isHierarchyViewMode class=ionweb-swap-panel-header><div ng-click=sortByName()><div>{{\'Name\' | resource}}{{ isSortedByName ? (isSortingDescending ? "&nbsp;&#x25bc;" : "&nbsp;&#x25b2;") : ""}}</div></div><div ng-click=sortByCategory()><div>{{\'Category\' | resource}}{{ isSortedByCategory ? (isSortingDescending ? "&nbsp;&#x25bc;" : "&nbsp;&#x25b2;") : ""}}</div></div></div><interactive-list vs-repeat on-action=handleColumnAction($action) dnd-source-id=availablePanelId><actionable-item ng-repeat="item in flatAvailable" uid={{item.id}} dnd-options=availableDndOptions><div class=swap-panel-item ng-class="{\'opacity-70\': item.customStyle && item.customStyle.semiTransparent, \'last-selected\': lastSelectedId === item.id, \'swap-panel-item-selected\': isAvailableItemSelected(item), \'ionweb-swap-panel-group\': !swapPanel.isChildren[item.id], \'ionweb-swap-panel-item\': swapPanel.isChildren[item.id]}"><div class=expand-button ng-if=swapPanel.isAvailableGroup[item.id] ng-click=toggleExpand(item.id);><ionweb-icon icon="{{swapPanel.isExpanded[item.id] ? \'collapse\' : \'expand\'}}"></ionweb-icon></div><div class=action-button ng-repeat="action in item.actions" ng-click=action.action();><ionweb-icon ng-if="action.button !== true && action.button !== false" icon={{action.button}}></ionweb-icon><input ng-if="action.button === true || action.button === false" type=checkbox ng-model=action.button></div><div class=ionweb-swap-panel-item-selectable ng-click="onAvailablePanelItemClick($event, item)" ng-dblclick="onAvailablePanelItemDblClick($event, item)"><div>{{item.displayName}}</div><div class=swap-panel-category ng-if=!isHierarchyViewMode>{{item.category ? item.category : \'\'}}</div></div></div></actionable-item></interactive-list></div><div class="ionweb-swap-panel-split ionweb-split-pane-custom-splitter"><ionweb-button class=prevent-split-drag ng-click=onToLeftPressed(); ng-disabled=isToLeftDisabled icon="{{isVerticalLayout ? \'arrowUp\' : \'arrowLeft\'}}"></ionweb-button><ionweb-button class=prevent-split-drag ng-click=onToRightPressed(); ng-disabled=isToRightDisabled icon="{{isVerticalLayout ? \'arrowDown\' : \'arrowRight\'}}"></ionweb-button></div><div class=ionweb-swap-panel-right><div class=ionweb-swap-panel-header><div class=action-header ng-repeat="descr in chosenActionDescriptors">{{descr}}</div><div>{{\'Name\' | resource}}</div><div>{{\'Category\' | resource}}</div></div><interactive-list vs-repeat dnd-source-id=chosenPanelId on-can-drop="onCanDrop($dndAction, $dataTransfer)" on-dnd-action="handleDndAction($dndAction, $dataTransfer)"><actionable-item ng-repeat="item in flatChosen" uid={{item.id}} dnd-options=chosenDndOptions><div class=swap-panel-item ng-class="{\'opacity-70\': item.customStyle && item.customStyle.semiTransparent, \'last-selected\': lastSelectedId === item.id, \'swap-panel-item-selected\': isChosenItemSelected(item), \'ionweb-swap-panel-group\': !swapPanel.isChildren[item.id], \'ionweb-swap-panel-item\': swapPanel.isChildren[item.id]}"><div class=expand-button ng-if=swapPanel.isChosenGroup[item.id] ng-click=toggleExpand(item.id);><ionweb-icon icon="{{swapPanel.isExpanded[item.id] ? \'collapse\' : \'expand\'}}"></ionweb-icon></div><div class=action-button ng-repeat="action in item.actions" ng-click=action.action();><ionweb-icon ng-if="action.button !== true && action.button !== false" icon={{action.button}}></ionweb-icon><input ng-if="action.button === true || action.button === false" type=checkbox ng-model=action.button></div><div class=ionweb-swap-panel-item-selectable ng-click="onChosenPanelItemClick($event, item)" ng-dblclick="onChosenPanelItemDblClick($event, item)"><div>{{item.displayName}}</div><div class=swap-panel-category ng-if=item.category>{{item.category}}</div></div></div></actionable-item></interactive-list></div></ionweb-split-pane><div class=ionweb-swap-panel-reorder-buttons><ionweb-button ng-click=onMoveTopPressed() ng-disabled=isMoveTopDisabled icon=moveUp></ionweb-button><ionweb-button ng-click=onMoveUpPressed() ng-disabled=isMoveUpDisabled icon=arrowUp></ionweb-button><ionweb-button ng-click=onMoveDownPressed() ng-disabled=isMoveDownDisabled icon=arrowDown></ionweb-button><ionweb-button ng-click=onMoveBottomPressed() ng-disabled=isMoveBottomDisabled icon=moveDown></ionweb-button></div></div><div class=ionweb-swap-panel-description>{{description || (\'&nbsp;\' | resource)}}</div></div>'),a.put("toolkit/tile/ionwebTile.tpl.html",'<div ng-class="[{\'ion-tile-flash\': flashTile}, roundingClass]" class=ion-tile ng-click=onLeftClick($event)><div class=ion-tile-selection-feedback-container><span class=ion-tile-selection-feedback-background></span> <span class="ion-tile-selection-feedback-icon ionicon ionicon-accept"></span></div><div class=ion-tile-main-container><div ng-if="!customContent && iconOptions.position !== 4" class="ion-tile-flex-direction ion-tile-sub-container" ng-class="{\'ion-tile-flex-direction-row\': (iconOptions.position === 0 || iconOptions.position === 1),\r\n                    \'ion-tile-flex-direction-column\': (iconOptions.position === 2 || iconOptions.position === 3)}"><ionweb-icon ng-if=shouldShowIcon() ng-class="[iconOrderClass, iconPositionClass]" class=ion-tile-icon icon={{iconOptions.icon}} ng-style="{\'font-size\': iconFontSize, \'margin\': getIconPosition()}"></ionweb-icon><div ng-if="shouldShowPrimaryText() || shouldShowSecondaryText()" ng-class=textOrderClass class=ion-tile-text-container ng-style="{\'margin\': textContainerPosition()}"><label ng-if=shouldShowPrimaryText() ng-class="[primaryTextBgColor, primaryTextFgColor]" class=ion-tile-primary-text ng-style="{\'margin\': primaryTextPositionInCenterIconMode()}">{{primaryTextOptions.text}}</label><label ng-if=shouldShowSecondaryText() ng-class="[secondaryTextBgColor, secondaryTextFgColor]" class=ion-tile-secondary-text ng-style="{\'margin\': secondaryTextPositionInCenterIconMode()}">{{secondaryTextOptions.text}}</label></div></div><div ng-if="!customContent && iconOptions.position == 4" class="ion-tile-flex-direction ion-tile-flex-direction-column ion-tile-sub-container"><label ng-if=shouldShowPrimaryText() class=ion-tile-primary-text ng-class="[textOrderClass, primaryTextBgColor, primaryTextFgColor]" ng-style="{\'margin\': primaryTextPositionInCenterIconMode()}">{{primaryTextOptions.text}}</label><ionweb-icon ng-if=shouldShowIcon() ng-class="[iconOrderClass, iconPositionClass]" icon={{iconOptions.icon}} class=ion-tile-icon ng-style="{\'font-size\': iconFontSize}"></ionweb-icon><label ng-if=shouldShowSecondaryText() class=ion-tile-secondary-text ng-class="[secondaryTextOrderClass, secondaryTextBgColor, secondaryTextFgColor]" ng-style="{\'margin\': secondaryTextPositionInCenterIconMode()}">{{secondaryTextOptions.text}}</label></div><div class="tile-custom-content ion-tile-sub-container" ng-show="customContent && (customContent.template || customContent.templateUrl)"></div></div><div class=ion-tile-feedback ng-class=feedbackStatusColor></div></div>'),a.put("toolkit/toggle/toggle.tpl.html",'<div class=ionweb-toggle-container ng-class="{active: ctrl._state, disabled: ctrl.disabled}" validation-message=ctrl.validationMessage validation-state=ctrl.validationState ng-keydown=ctrl.toggleValue($event) ng-click=ctrl.toggleValue($event) tabindex=0><span class=ionweb-toggle-label-on ng-class="[ctrl.onColorBg, ctrl.onColorFg]"><span ng-if=ctrl.showLabels>{{ctrl.onLabel}}</span></span> <span class=ionweb-toggle-label-off ng-class="[ctrl.offColorBg, ctrl.offColorFg]"><span ng-if=ctrl.showLabels>{{ctrl.offLabel}}</span></span><div class=ionweb-toggle-placeholder ng-if=ctrl.showLabels>{{ctrl.onLabel}}<br>{{ctrl.offLabel}}</div><div class=ionweb-toggle-indicator></div></div>'),a.put("toolkit/validationtooltip/validationSummary.tpl.html",'<div class="validation-summary-caption ion-form-content-subtitle" ng-hide=hideTitle>{{ panelTitle || (hasServiceError ? "Title_Service_Error" : "Title_Error_Warning" | resource:{\'length\' : filteredEntries.length}) }}</div><div class=validation-summary-messages></div>')}]);
//# sourceMappingURL=toolkit-bundle.min.js.map